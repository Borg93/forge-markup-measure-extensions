{"version":3,"sources":["webpack://Autodesk.Extensions.[name]/webpack/bootstrap","webpack://Autodesk.Extensions.[name]//Users/michaelbeale/node_modules/css-loader/dist/runtime/api.js","webpack://Autodesk.Extensions.[name]//Users/michaelbeale/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://Autodesk.Extensions.[name]/./Measure/Measure.css?d3ee","webpack://Autodesk.Extensions.[name]/./Measure/Measure.css","webpack://Autodesk.Extensions.[name]//Users/michaelbeale/node_modules/css-loader/dist/runtime/getUrl.js","webpack://Autodesk.Extensions.[name]/./Measure/res/icon-spinner-sm.svg","webpack://Autodesk.Extensions.[name]/./Measure/Calibration.css?a752","webpack://Autodesk.Extensions.[name]/./Measure/Calibration.css","webpack://Autodesk.Extensions.[name]/./Measure/MeasurementsManager.js","webpack://Autodesk.Extensions.[name]/./Measure/Indicator.js","webpack://Autodesk.Extensions.[name]/./Measure/PolygonCentroid.js","webpack://Autodesk.Extensions.[name]/./Measure/MeasureToolIndicator.js","webpack://Autodesk.Extensions.[name]/./Measure/MeasureTool.js","webpack://Autodesk.Extensions.[name]/./Measure/CalibrationToolIndicator.js","webpack://Autodesk.Extensions.[name]/./Measure/CalibrationPanels.js","webpack://Autodesk.Extensions.[name]/./Measure/CalibrationTool.js","webpack://Autodesk.Extensions.[name]/./Measure/MagnifyingGlass.js","webpack://Autodesk.Extensions.[name]/./Measure/MeasureToolbar.js","webpack://Autodesk.Extensions.[name]/./Measure/Measure.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","useSourceMap","list","toString","this","map","item","content","cssMapping","btoa","sourceMapping","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","data","concat","sourceURLs","sources","source","sourceRoot","join","cssWithMappingToString","mediaQuery","alreadyImportedModules","length","id","_i","push","memo","stylesInDom","isOldIE","Boolean","window","document","all","atob","getTarget","target","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","e","listToStyles","options","styles","newStyles","base","part","css","media","parts","addStylesToDom","domStyle","j","refs","addStyle","insertStyleElement","style","createElement","attributes","nonce","nc","keys","forEach","setAttribute","insert","Error","appendChild","textStore","replaceText","index","replacement","filter","applyToSingletonTag","remove","obj","styleSheet","cssText","cssNode","createTextNode","childNodes","removeChild","insertBefore","singleton","singletonCounter","update","styleIndex","firstChild","parentNode","removeStyleElement","newObj","newList","mayRemove","_domStyle","locals","___CSS_LOADER_URL___0___","getUrl","url","needQuotes","default","test","slice","replace","MeasurementsManager_MeasureCommon","Autodesk","Viewing","MeasureCommon","MeasurementsManager","viewer","init","proto","getCurrentMeasurement","currentMeasurement","selectMeasurementById","measurement","measurementsList","changeCurrentMeasurement","createMeasurement","measurementType","measurementsCounter","Measurement","dispatchEvent","type","Events","MEASUREMENT_CHANGED_EVENT","removeCurrentMeasurement","reset","destroy","Indicator_av","Indicator_MeasureCommon","Indicator","tool","setGlobalManager","globalManager","snapper","getSnapper","materialExtensionLine","materialExtensionFace","extensionLines","extensionFaces","grayOutPlane","materialPoint","materialLine","materialAngle","materialAngleOutline","materialGreyOutPlane","materialFace","angleArc","angleOutline","showMeasureResult","visibleLabels","overlayName","xAxis","autocam","getWorldRightVector","yAxis","getWorldUpVector","zAxis","getWorldFrontVector","Indicator_proto","getPolygonVisualCenter","polygon","Cell","x","y","h","inside","minDistSq","Infinity","k","ring","len","a","b","Math","min","getSegDistSq","sqrt","pointToPolygonDist","max","SQRT2","px","py","dx","dy","TinyQueue","compare","_down","_up","pop","top","peek","pos","parent","current","halfLength","left","right","best","points","centroid","THREE","Vector3","add","multiplyScalar","getCentroidOfPolygon","minX","minY","maxX","maxY","width","height","cellSize","cellQueue","bestCell","area","f","getCentroidCell","bboxCell","cell","GlobalManagerMixin","updateDistance","updateAngle","clear","updateLabelsPosition","render","picks","hasPick","renderPick","renderRubberband","changeEndpointOnEditStyle","endpointNumber","isEditing","handleResize","setNoTopology","setFetchingTopology","setTopologyAvailable","clientToCanvasCoords","event","rect","impl","getCanvasBoundingClientRect","res","canvasX","center","canvasY","pointers","clientX","clientY","initLabelMobileGestures","label","pointNumber","magnifyingGlass","toolController","getTool","hammer","Hammer","Manager","recognizers","GestureRecognizers","drag","singletap","handlePointerEventMouse","inputClass","isIE11","PointerEventInput","TouchInput","onSingleTapBinded","onMouseDown","editEndpoint","onDragStartBinded","editByDrag","handlePressHold","handleGesture","onDragMoveBinded","onDragEndBinded","handleButtonUp","on","clearLabelMobileGestures","off","updateVisibleLabelsArray","isVisible","indexOf","splice","hideEndpoints","endpoints","endpoint","hideLabel","showEndpoints","showLabel","safeToggle","changeEndpointEditableStyle","isEditable","changeAllEndpointsEditableStyle","changeAllEndpointsOnEditStyle","hideLabelsOutsideOfView","model","is2d","point","show","navigation","isPointVisible","classList","contains","toggle","showClick","pickNumber","getActivePointIndex","hideClick","createEndpoint","renderEndpointGeometry","geometry","getSnapResultPosition","getPick","position","clone","drawEdgeAsCylinder","geom","material","linewidth","cylinderGeometry","cylinder","edge","vertices","cylinderMesh","setCylinderScale","drawDashedLine","p1","p2","dashSize","gapSize","Geometry","line","subVectors","lineLength","lineDirection","normalize","currLength","addVectors","getNewCylinderGeometry","addMultipleOverlays","drawLineAsCylinder","addOverlay","CylinderGeometry","pointX","pointY","direction","orientation","Matrix4","lookAt","Object3D","up","multiply","set","Mesh","applyMatrix","lmv_line_width","z","scale","nearestPointInPointToSegment","getPosition","setScale","navapi","camera","getCamera","distance","isPerspective","sub","getEyeVector","fov","getVerticalFov","tan","degToRad","getScreenViewport","alignLabelWithLine","offset","camUpVector","getCameraUpVector","cameraAngle","angleTo","PI","angle","deltaX","deltaY","atan2","abs","transform","isTouchDevice","endPoint","removeEventListener","isSafari","onMouseClickBinded","mousewheel","MeasurementTypes","MEASUREMENT_DISTANCE","previewsPick","activePick","start","end","renderDistanceMeasurement","MEASUREMENT_ANGLE","renderAngleMeasurement","MEASUREMENT_AREA","renderAreaMeasurement","initMouseEvent","pointerType","addEventListener","MeasureToolIndicator_av","MeasureToolIndicator_MeasureCommon","MeasureToolIndicator","measureTool","lines","xyz","axis","createLineMaterial","className","iconText","segments","dashedLine","simple","angleLabel","areaLabel","labels","isLeaflet","topologyStatus","TOPOLOGY_NOT_AVAILABLE","tmpVector","surfaceColor","MeshBasicMaterial","color","parseInt","opacity","transparent","depthTest","depthWrite","side","DoubleSide","constructor","MeasureToolIndicator_proto","TOPOLOGY_FETCHING","_tipHeight","_tipWidth","_axisLineWidth","isLeftIntersect","other","isRightIntersect","isMiddleIntersect","moveRight","currentLabel","currentRect","otherRect","moveDown","bottom","setValueMeasurementLabelText","strValue","div","textContent","setDeltaMeasurementLabelText","setVisibilityMeasurementLabelSpinner","display","MeasureTool","sharedMeasureConfig","_viewer","_names","_sharedMeasureConfig","av","Extensions","Measure","_active","_isDragging","_endpointMoved","_activePoint","_consumeSingleClick","_singleClickHandled","_downX","_downY","_isolateMeasure","_measurementsManager","_currentMeasurement","_onIndicatorCreatedCB","_snapper","_isPressing","_picksBackup","_cursorPosition","_closeAreaSnapRange","_preMeasureIsolatedNodes","_preMeasureHiddenNodes","_measurementType","getActivePick","getMaxNumberOfPicks","countPicks","getPreviousPick","noPicksSet","allPicksSet","enableMeasurementsTouchEvents","indicator","enableSelectionAreas","isNoPicksSet","snapToFirstPick","currentPick","forceSnap","closedArea","firstPick","firstPickPoint","firstPickPosition","project","currentPickPoint","currentPickPosition","distanceTo","onMouseMove","copyTo","showResult","hasResult","computeResult","enable","enableLabelsTouchEvents","areAllPicksSet","register","deregister","deactivate","isActive","getNames","getName","getPriority","getCursor","getCurrentMeasurementRaw","startNewMeasurement","attachIndicator","Function","changeMeasurementType","activate","isEditingEndpoint","pauseHighlight","getIsolatedNodes","getHiddenNodes","clearSelection","activateTool","onMeasurementChangedBinded","onMeasurementChanged","CAMERA_CHANGE_EVENT","onCameraChange","ISOLATE_EVENT","onIsolate","clearCurrentMeasurement","deactivateTool","getUnits","units","setUnits","DISPLAY_UNITS_CHANGED","updateResults","getPrecision","precision","setPrecision","getDistanceXYZ","getDistanceAux","distanceXYZ","getDistanceX","distanceX","getDistanceY","distanceY","getDistanceZ","distanceZ","measurementDistance","Private","convertUnits","getUnitString","calibrationFactor","formatValueWithUnits","getAngle","String","fromCharCode","getArea","getMeasurement","unitType","geomTypes","from","getGeometry","to","deltaZ","getMeasurementList","measurementList","result","clearPick","updateViewportId","clearIsolate","setIsolateMeasure","isolateMeasurement","isolationGroup","snapNode","isolate","showAll","hide","nodeIdArray","deselectAllMeasurements","undoEditEndpoint","setSimple","unfocusLabels","isComplete","measurementId","isMobileDevice","_handleMouseEvent","setPick","focusLabels","deleteCurrentMeasurement","deleteCurrentPick","count","setViewportId","viewport","viewportIndex2d","correctPickPosition","active","geomType","SnapType","SNAP_VERTEX","geomVertex","intersectPoint","passive","correctPerpendicularPicks","nextPick","valid","isSnapped","copyResults","container","getBoundingClientRect","inverseProject","lastPick","_doConsumeSingleClick","renderSucceeded","hasEqualPicks","measurementComplete","handleButtonDown","button","ctrlKey","metaKey","shiftKey","altKey","handleMouseMove","restoreMouseListeners","controller","enableMouseButtons","handleSingleClick","updateScale","clearOverlays","clearSnapped","handleDoubleClick","handleSingleTap","handleDoubleTap","handleKeyDown","keyCode","KeyCode","BACKSPACE","DELETE","currLabel","getData","onSelectionAreaClickedBinded","onSelectionAreaClicked","createMeasurementLabel","onCameraChangeBinded","handleButtonUpBinded","addWindowEventListener","createSnapResultLabel","xy","visible","floor","clientHeight","clientWidth","p1Projected","p2Projected","invalidate","xyzDirection","itemDirection","cross","dot","needToStackLabels","labelsStacked","backupPositions","labelsOverlapDetection","stackLabels","staticLabel","labelsList","dynamicLabel","moved","staticRect","dynamicRect","causeStacking","topLabel","space","drawXYZLine","self","tmpVec","normal","drawLineSegment","tips","drawTip","redrawDashedLine","removeMultipleOverlays","p1Scale","isDashedLine","drawSurface","cset","CompGeom","ContourSet","addContour","triangulate","triangulationFailed","bufferGeometry","toPolygonMesh","face","drawSegmentAndPush","isEqualVectors","EPSILON","showAreaLabel","updateArea","clearAngleMeshes","removeOverlay","drawAngle","ep1","ep2","midPoint","MeshPhongMaterial","ambient","createCommonOverlay","radius","circleGeometry","CircleGeometry","arc","V","updateMatrixWorld","vA","vB","applyMatrix4","matrixWorld","v1","v2","v3","v4","ra","a13","a14","a23","a24","rotWorldMatrix","makeRotationAxis","matrix","rotation","setFromRotationMatrix","outlineGeometry","copy","round","dir","crossVectors","showAngleLabel","createDistanceLabel","setVisibilityMeasurementLabelText","_document","getDocument","axisIcon","innerText","updateLine","x1","y1","z1","x2","y2","z2","showAxis","getAlignedUpVector","isParallel","displayAxis","setTimeout","setWidth","getWidth","is3d","maxWidth","setLineVisible","pointerEvents","setLabelsZIndex","zIndex","tip","clearSelectionAreas","clearOverlay","selectionArea","overlayScenes","removeOverlayScene","removeWindowEventListener","clearXYZLine","segment","spinner","text","delta","label_icon","hitArea","createSelectionArea","updateSelectionArea","v","Vector2","_selectorAreaSize","transformOrigin","element","getElementById","CalibrationToolIndicator_av","CalibrationToolIndicator_MeasureCommon","CalibrationToolIndicator","calibrationTool","calibrationLabel","rubberbandDefaultMaterial","rubberbandSnappedMaterial","rubberbandTipMaterial","CalibrationToolIndicator_proto","CalibrationToolIndicator_isLeftIntersect","CalibrationToolIndicator_isRightIntersect","CalibrationToolIndicator_isMiddleIntersect","CalibrationToolIndicator_moveRight","CalibrationToolIndicator_moveDown","clearRubberband","updateLabelValue","i18n","translate","changeLabelClickableMode","clickable","showAddCalibrationLabel","onClick","showPanel","renderCalibrationLabel","mid","labelPosition","drawMeasurementLineTip","flip","tipMaterial","lineNormal","lineMaterial","getSnapResult","isPerpendicular","CalibrationPanels_av","ave","avp","avu","UI","CalibrationPanels_MeasureCommon","DockingPanel","ViewerPanelMixin","_gDocument","getGlobal","CalibrationPanel","title","addFooter","parentContainer","resize","closer","setVisible","clearSize","heightAdjustment","marginTop","createScrollContainer","calibrationMenu","scrollContainer","table","tbody","row","insertRow","requestedSizeTextbox","autofocus","split","updateLabel","ESCAPE","requestedSize","cursorIndex","selectionStart","isSimple","unitList","selectedIndex","simpleInput","isPositiveNumber","isSimpleDecimal","calculatePrecision","getMaxPrecision","preventDefault","insertCell","caption","matches","unitNames","OptionDropDown","paddingLeft","paddingRight","setCalibration","requestedUnits","calibrate","match","isNaN","parseFloat","uninitialize","findUnits","selectedUnits","getCurrentUnits","setPanelValue","size","setSelectedIndex","parsedNumber","UnitParser","parsePositiveNumber","updatePanelPosition","labelOffset","cornerX","cornerY","rubberbandDirection","pow","canvas","CalibrationRequiredDialog","measureExt","dialogBox","calibrateNow","buttonsWrapper","cancel","calibrateNowButton","enableCalibrationTool","CalibrationTool_av","CalibrationTool","_measurement","_options","_maxPrecision","maxPrecision","_isCalibrated","_distance","_calibrationTaken","_selectedSize","_selectedUnits","_selectedP1","_selectedP2","_waitingForInput","_calibrationPanel","_hasUI","GuiViewer3D","addPanel","screenSizeChangedBinded","screenSizeChanged","removePanel","parsedRequestedSize","VIEWER_RESIZE_EVENT","hidePanel","clearAllPicks","setCalibrationFactor","getCalibrationFactor","isCalibrationValid","currentSize","defualtPrecision","requestedPrecision","getExtension","FINISHED_CALIBRATION","scaleFactor","calibrateByScale","requestedScale","CLOSE_CALIBRATION_PANEL_EVENT","_window","getWindow","focus","onKeyUp","OPEN_CALIBRATION_PANEL_EVENT","isCalibrated","CLEAR_CALIBRATION_SIZE_EVENT","clearMeasurement","repickEndpoint","hasPreviousPick","MagnifyingGlass_av","MagnifyingGlass","_magnifyingGlassCanvas","_imageData","_imageBuffer","_clientX","_clientY","_needsClear","updateMagnifyingGlassBinded","updateMagnifyingGlass","pixelRatio","devicePixelRatio","normlizedDiameter","diameter","getContext","createImageData","ceil","Uint8Array","buffer","ctx","gl","readPixels","RGBA","UNSIGNED_BYTE","putImageData","drawImage","setGlassPosition","clearMagnifyingGlass","requestUpdate","hasEventListener","RENDER_PRESENTED_EVENT","once","drawMagnifyingGlass","handleWheelInput","MeasureToolbar_av","MeasureToolbar_avu","MeasureToolbar_avp","MeasureToolbar_MeasureCommon","MeasureToolbar","measureExtension","buttonsList","MeasureToolbar_proto","toolbar","getToolbar","navigationBar","getControl","TOOLBAR","NAVTOOLSID","toolbarOptions","measureToolbar","ControlGroup","MEASURETOOLSID","addControl","measureSimpleDistanceBtn","Button","setToolTip","setIcon","getState","State","ACTIVE","measureAngleBtn","measureAreaBtn","calibrationToolBtn","CALIBRATION","separator","deleteBtn","settingsBtn","settingsControlPanel","setButtonActive","setButtonInactive","root","initialIndex","getDisplayUnit","shift","toUnits","setupPrecision","logger","track","category","precisionList","OptionCheckbox","checked","updateSettingsPanel","setVisibility","disableUnitOption","measureDoneBtn","doneText","cancelLabel","btnContainer","iconEle","getElementsByClassName","exitMeasurementMode","closeToolbar","removeFromParent","enableMeasureTool","toggleVisible","viewerToolbarContainer","viewerContainerChildrenCount","children","MODELTOOLSID","measurementToolbarButton","setState","INACTIVE","deactivateAllButtons","activateButtonByType","dropdownElement","lastChild","precisions","elem","disabled","visibility","__webpack_exports__","MeasureExtension","Measure_avem","AutodeskNamespace","Measure_av","Measure_avp","Measure_avu","Measure_MeasureCommon","DEFAULT_MEASUREMENT_TYPE","Extension","modes","_onModelLoaded","load","async","loadExtension","hasUI","escapeHotkeyId","measureToolOptions","onCloseCallback","snapperOptions","forceCalibrate","Snapping","Snapper","renderSnappedTopology","registerTool","calibration","onFinishedCalibration","activateInitiator","MODEL_ROOT_LOADED_EVENT","onModelRemoved","DISABLED","onModelAdded","getVisibleModels","MODEL_ADDED_EVENT","MODEL_REMOVED_EVENT","calibrationUnits","unload","destroyUI","deregisterTool","unloaded","setActive","getUnitOptions","getPrecisionOptions","isFractional","getDefaultUnit","openCalibrationRequiredDialog","initiator","CALIBRATION_REQUIRED_EVENT","FINISHED_CALIBRATION_FOR_DIMENSION_EVENT","getCalibration","activeStatus","success","enterMeasurementMode","console","warn","selectedTool","isPdf","checkAndFetchTopology","OPEN_TOOL_AFTER_CALIBRAION","UNITS_CALIBRATION_STARTS_EVENT","_measurementMode","navigationControls","measureControls","measureButtonId","getId","removeControl","centerToolBar","onToolbarCreated","modelTools","state","hotkeys","keycodes","onRelease","getHotkeyManager","pushHotkeys","_checkedTopology","modelHasTopology","fetchTopology","then","topoData","catch","err","log","popHotkeys","setFreeMeasureMode","allow","setSnapToPixel","theExtensionManager","registerExtension"],"mappings":"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","file":"Measure/Measure.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 16);\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \"{\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    for (var i = 0; i < this.length; i++) {\n      // eslint-disable-next-line prefer-destructuring\n      var id = this[i][0];\n\n      if (id != null) {\n        alreadyImportedModules[id] = true;\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = modules[_i]; // skip already imported module\n      // this implementation is not 100% perfect for weird media query combinations\n      // when a module is imported multiple times with different media queries.\n      // I hope this will never occur (Hey this way we have smaller bundles)\n\n      if (item[0] == null || !alreadyImportedModules[item[0]]) {\n        if (mediaQuery && !item[2]) {\n          item[2] = mediaQuery;\n        } else if (mediaQuery) {\n          item[2] = \"(\".concat(item[2], \") and (\").concat(mediaQuery, \")\");\n        }\n\n        list.push(item);\n      }\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot).concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","\"use strict\";\n\nvar stylesInDom = {};\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nfunction listToStyles(list, options) {\n  var styles = [];\n  var newStyles = {};\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var css = item[1];\n    var media = item[2];\n    var sourceMap = item[3];\n    var part = {\n      css: css,\n      media: media,\n      sourceMap: sourceMap\n    };\n\n    if (!newStyles[id]) {\n      styles.push(newStyles[id] = {\n        id: id,\n        parts: [part]\n      });\n    } else {\n      newStyles[id].parts.push(part);\n    }\n  }\n\n  return styles;\n}\n\nfunction addStylesToDom(styles, options) {\n  for (var i = 0; i < styles.length; i++) {\n    var item = styles[i];\n    var domStyle = stylesInDom[item.id];\n    var j = 0;\n\n    if (domStyle) {\n      domStyle.refs++;\n\n      for (; j < domStyle.parts.length; j++) {\n        domStyle.parts[j](item.parts[j]);\n      }\n\n      for (; j < item.parts.length; j++) {\n        domStyle.parts.push(addStyle(item.parts[j], options));\n      }\n    } else {\n      var parts = [];\n\n      for (; j < item.parts.length; j++) {\n        parts.push(addStyle(item.parts[j], options));\n      }\n\n      stylesInDom[item.id] = {\n        id: item.id,\n        refs: 1,\n        parts: parts\n      };\n    }\n  }\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n\n  if (typeof options.attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      options.attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(options.attributes).forEach(function (key) {\n    style.setAttribute(key, options.attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  }\n\n  if (sourceMap && btoa) {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  options.attributes = typeof options.attributes === 'object' ? options.attributes : {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  var styles = listToStyles(list, options);\n  addStylesToDom(styles, options);\n  return function update(newList) {\n    var mayRemove = [];\n\n    for (var i = 0; i < styles.length; i++) {\n      var item = styles[i];\n      var domStyle = stylesInDom[item.id];\n\n      if (domStyle) {\n        domStyle.refs--;\n        mayRemove.push(domStyle);\n      }\n    }\n\n    if (newList) {\n      var newStyles = listToStyles(newList, options);\n      addStylesToDom(newStyles, options);\n    }\n\n    for (var _i = 0; _i < mayRemove.length; _i++) {\n      var _domStyle = mayRemove[_i];\n\n      if (_domStyle.refs === 0) {\n        for (var j = 0; j < _domStyle.parts.length; j++) {\n          _domStyle.parts[j]();\n        }\n\n        delete stylesInDom[_domStyle.id];\n      }\n    }\n  };\n};","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./Measure.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Imports\nvar getUrl = require(\"../../../node_modules/css-loader/dist/runtime/getUrl.js\");\nvar ___CSS_LOADER_URL___0___ = getUrl(require(\"./res/icon-spinner-sm.svg\"));\n// Module\nexports.push([module.id, \"/* hover shouldn't work on mobile devices */\\n.adsk-viewing-viewer .measure-length:hover.measure-length.enable-hover\\n{\\n\\tbox-shadow: 0 0 16px 3px rgba(0, 117, 210, 0.7);\\n\\t-webkit-box-shadow: 0 0 16px 3px rgba(0, 117, 210, 0.7);\\n    -moz-box-shadow: 0 0 16px 3px rgba(0, 117, 210, 0.7);\\n}\\n\\n.adsk-viewing-viewer .measure-length {\\n    display: none;\\n    position: absolute;\\n\\n    height: 19px;\\n\\n    left: 0px;\\n    top:  0px;\\n\\n    padding: 2px 0 2px 0;\\n\\n    background-color: #009bff;\\n    box-shadow: 0px 1px 3px 1px rgba(0,0,0,0.25);\\n\\n    color: #f4f4f4;\\n    font-size:12px;\\n    text-align: center;\\n    line-height: 1.2;\\n    white-space: nowrap;\\n\\n    border-radius: 8px;\\n    pointer-events: none;\\n    cursor: pointer;\\n    z-index: 2;\\n\\n    -webkit-tap-highlight-color: rgba(0,0,0,0);\\n}\\n\\n.adsk-viewing-viewer .measure-length.visible {\\n    display: block;\\n}\\n\\n.adsk-viewing-viewer .measure-length.fetching-topology {\\n    background-color: rgba(34, 34, 34, 0.8);\\n    box-shadow: 0 0.5px 1.5px 0 rgba(0, 0, 0, 0.3);\\n}\\n\\n.adsk-viewing-viewer .measure-length-text {\\n    display: inline-block;\\n    margin: 0 5px 0 5px;\\n    vertical-align: middle;\\n    font-size: 16px;\\n    pointer-events: none;\\n}\\n\\n.adsk-viewing-viewer .measure-delta-text {\\n    margin: 0 5px 0 5px;\\n    align-self: center;\\n    font-size: 14px;\\n\\toverflow: hidden;\\n\\twhite-space: nowrap;\\n\\theight: 16px;\\n\\tline-height: 16px;\\n\\tvertical-align: middle;\\n\\tpointer-events: none;\\n}\\n\\n.adsk-viewing-viewer .measure-length-button {\\n    display: inline-block;\\n    width: 16px;\\n    height: 16px;\\n    font-size: 16px;\\n    float: right;\\n\\n    color: #FFFFFF;\\n    opacity: 0.7;\\n}\\n\\n.adsk-viewing-viewer .measure-length-button:hover {\\n    background-color: rgba(166,194,255, 0.7);\\n    -webkit-transition: all 0.2s ease;\\n    -moz-transition: all 0.2s ease;\\n    -ms-transition: all 0.2s ease;\\n    -o-transition: all 0.2s ease;\\n    transition: all 0.2s ease;\\n}\\n\\n/* hover shouldn't work on mobile devices */\\n.adsk-viewing-viewer .measure-label:hover.measure-label.enable-hover,\\n.adsk-viewing-viewer .measure-label.on-edit {\\n\\tbox-shadow: 0 0 4px 4px #0d69ca;\\n\\t-webkit-box-shadow: 0 0 4px 4px #0d69ca;\\n    -moz-box-shadow: 0 0 4px 4px #0d69ca;\\n}\\n\\n.adsk-viewing-viewer .measure-label.editable {\\n\\tpointer-events: all;\\n}\\n\\n.adsk-viewing-viewer .measure-label {\\n    display: none;\\n    position: absolute;\\n    width: 7px;\\n    height: 7px;\\n    cursor: move;\\n    pointer-events: none; \\n    border-radius:100px;\\n}\\n\\n.adsk-viewing-viewer .measure-label-hit-area {\\n\\tdisplay: inline-block;\\n    position: absolute;\\n    width: 44px;\\n    height: 44px;\\n    left: -22px;\\n    top: -22px;\\n    border-radius:100px;\\n    z-index: 2;\\n}\\n\\n.adsk-viewing-viewer .measure-label-icon {\\n    display: inline-block;\\n    position: absolute;\\n    width: 7px;\\n    height: 7px;\\n    left: -2px;\\n    top: -2px;\\n    background-color: #009bff;\\n    border-style: solid;\\n    border-width: 2px;\\n    border-color: #FFFFFF;\\n    border-radius:100px;\\n\\tbox-shadow: 0 2px 5px 0 #182A3D;\\n\\tz-index: 2;\\n}\\n\\n.adsk-viewing-viewer .measure-label.visible {\\n    display: block;\\n}\\n\\n\\n.adsk-viewing-viewer .measure-label-text {\\n    display: inline-block;\\n    margin: 0px 5px 0px 5px;\\n    vertical-align: middle;\\n}\\n\\n.adsk-viewing-viewer .measure-horizontal-divider\\n{\\n    height: 1px;\\n    border-top: 1px solid rgba(200,200,200,0.8);\\n}\\n\\n.adsk-viewing-viewer .measure-submenu-select\\n{\\n    display: block;\\n    position: relative;\\n    width: calc(100% - 40px);\\n    padding: 10px 20px 0px 20px;\\n    opacity: 0.3;\\n}\\n\\n.adsk-viewing-viewer .option-drop-down:disabled {\\n    opacity: 0.3;\\n}\\n\\n.adsk-viewing-viewer .measure-submenu-selectlabel\\n{\\n    position: relative;\\n    display:  inline-block;\\n    padding-right:  20px;\\n    padding-bottom:  4px;\\n}\\n\\n/*.measure-result {*/\\n    /*display: inline-block;*/\\n    /*padding: 10px 0px  10px 20px;*/\\n/*}*/\\n\\n.adsk-viewing-viewer .measure-results {\\n    position: relative;\\n    display: block;\\n    padding: 5px 0px  10px 30px;\\n}\\n\\n.adsk-viewing-viewer .measure-result-label {\\n    display: inline-block;\\n    padding-right: 10px;\\n}\\n\\n.adsk-viewing-viewer .measure-result-number {\\n    display: inline-block;\\n}\\n\\n.adsk-viewing-viewer .measure-delta-collapse {\\n    position: absolute;\\n    right: 20px;\\n    display: inline-block;\\n    background-color: rgba(255,255,255, .12);\\n    margin: 0px 4px 0px 4px;\\n    padding: 0px 4px 0px 4px;\\n    cursor: pointer;\\n    text-align: center;\\n}\\n\\n.adsk-viewing-viewer .measure-delta-collapse:hover {\\n    background-color: rgba(166,194,255, 0.7);\\n    -webkit-transition: all 0.2s ease;\\n    -moz-transition: all 0.2s ease;\\n    -ms-transition: all 0.2s ease;\\n    -o-transition: all 0.2s ease;\\n    transition: all 0.2s ease;\\n}\\n\\n.adsk-viewing-viewer .measure-selection-repick {\\n    position: absolute;\\n    right: 20px;\\n    display: inline-block;\\n    background-color: rgba(255,255,255, .12);\\n    margin: 4px 4px 4px 4px;\\n    padding: 4px 4px 4px 4px;\\n    cursor: pointer;\\n    text-align: center;\\n}\\n\\n.adsk-viewing-viewer .measure-selection-repick:hover {\\n    background-color: rgba(166,194,255, 0.7);\\n    -webkit-transition: all 0.2s ease;\\n    -moz-transition: all 0.2s ease;\\n    -ms-transition: all 0.2s ease;\\n    -o-transition: all 0.2s ease;\\n    transition: all 0.2s ease;\\n}\\n\\n.adsk-viewing-viewer .measure-restart {\\n    margin: 10px 20px 15px 20px;\\n    padding: 6px 10px 6px 10px;\\n    width: calc(100% - 55px);\\n    cursor: pointer;\\n    text-align: center;\\n    border-style: solid;\\n    border-width: 1px;\\n    border-color: rgba(255, 255, 255, 0.2);\\n    border-radius: 3px;\\n}\\n\\n.adsk-viewing-viewer .docking-panel:hover .measure-restart {\\n    background-color: rgba(255,255,255, .12);\\n}\\n\\n.adsk-viewing-viewer .docking-panel .measure-restart:hover {\\n    background-color: rgba(166,194,255, 0.7);\\n    -webkit-transition: all 0.2s ease;\\n    -moz-transition: all 0.2s ease;\\n    -ms-transition: all 0.2s ease;\\n    -o-transition: all 0.2s ease;\\n    transition: all 0.2s ease;\\n}\\n\\n.adsk-viewing-viewer .measure-panel-title {\\n    padding-top:   0px;\\n    padding-left: 20px;\\n    margin-top: 10px;\\n}\\n\\n.adsk-viewing-viewer .measure-panel-title:hover {\\n    cursor: pointer;\\n}\\n\\n.adsk-viewing-viewer .measure-panel-title.collapsed  {\\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkEwMDhBMzY4QTYyODExRTM5REY0Q0MwMTM3MTVFOTMzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkEwMDhBMzY5QTYyODExRTM5REY0Q0MwMTM3MTVFOTMzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTAwOEEzNjZBNjI4MTFFMzlERjRDQzAxMzcxNUU5MzMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTAwOEEzNjdBNjI4MTFFMzlERjRDQzAxMzcxNUU5MzMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6WHWu4AAAAcElEQVR42mL8//8/AzmAiYFMgEtjGSFDcUmGAfEEIOYix6lWQLwUiGXJ8SNI00IgNiIncPiAeCoQ+5ITqsxQA+CAhQhN34C4AoiPkaLxGRAXAfEdUvx4DohjsGkCA1CSw4LrgZgVhxwYM9I9rQIEGACZNDs01yUXlAAAAABJRU5ErkJggg==);\\n    background-repeat:no-repeat;\\n}\\n\\n.adsk-viewing-viewer .measure-panel-title.expanded  {\\n    background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkE3QzFFQUQ1QTYyODExRTM5NzE2RjcyN0QxQjg0QTREIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkE3QzFFQUQ2QTYyODExRTM5NzE2RjcyN0QxQjg0QTREIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTdDMUVBRDNBNjI4MTFFMzk3MTZGNzI3RDFCODRBNEQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTdDMUVBRDRBNjI4MTFFMzk3MTZGNzI3RDFCODRBNEQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6XuY60AAAARklEQVR42mL8//8/AzmAiYFMQBeNqSg8kB+JwKlAfAZZjIlIm9JJdSpWTYQ04tSETyNeTbg0EtSETSNRmkCAcegkOYAAAwDGjDZHvY373AAAAABJRU5ErkJggg==);\\n    background-repeat:no-repeat;\\n}\\n\\n.adsk-viewing-viewer .adsk-viewing-viewer .measure-table td {\\n    padding: 10px 0px  10px 20px;\\n}\\n\\n.adsk-viewing-viewer .measure-result-container {\\n\\n}\\n\\n.adsk-viewing-viewer .measure-selection-one-label {\\n    display: inline-block;\\n    margin: 18px 18px 18px 18px;\\n    width: 16px;\\n    height: 16px;\\n    font-size: 16px;\\n    float: left;\\n\\n    padding: 2px;\\n    background-color: #0033FF;\\n    border-radius:         10px;\\n    opacity: 0.6;\\n}\\n\\n.adsk-viewing-viewer .measure-selection-two-label {\\n    display: inline-block;\\n    margin: 18px 18px 18px 18px;\\n    width: 16px;\\n    height: 16px;\\n    font-size: 16px;\\n    float: left;\\n\\n    padding: 2px;\\n    background-color: #0033FF;\\n    border-radius:         10px;\\n    opacity: 0.6;\\n}\\n\\n.adsk-viewing-viewer .measure-repick {\\n    display: inline-block;\\n    cursor: default;\\n    margin: 20px 20px 20px 20px;\\n    width: 16px;\\n    height: 16px;\\n    font-size: 16px;\\n    float: right;\\n    opacity: 0.5;\\n}\\n\\n.adsk-viewing-viewer .measure-repick:hover {\\n    opacity: 1;\\n}\\n\\n.adsk-viewing-viewer .measure-selection-result {\\n    display: inline-block;\\n    margin: 21px 0px 21px 0px;\\n}\\n\\n.adsk-viewing-viewer .measure-distance-icon {\\n    display: inline-block;\\n    margin: 20px 2px 20px 2px;\\n    font-size: 52px;\\n    color: #FF9900;\\n    float: left;\\n}\\n\\n.adsk-viewing-viewer .measure-angle-icon {\\n    display: inline-block;\\n    margin: 20px 2px 20px 2px;\\n    font-size: 52px;\\n    color: #FF9900;\\n    float: left;\\n}\\n\\n.adsk-viewing-viewer .adsk-viewing-viewer .measure-result {\\n    font-size: 20px;\\n    color: #FF9900;\\n    display: inline-block;\\n    margin: 38px 0px 38px 0px;\\n}\\n\\n.adsk-viewing-viewer .measure-initial {\\n    font-size: 20px;\\n    display: inline-block;\\n    margin: 38px 0px 38px 56px;\\n}\\n\\n.adsk-viewing-viewer .measure-settings-button {\\n    cursor: default;\\n    position: relative;\\n    top: 20px;\\n    right: 20px;\\n    width: 16px;\\n    height: 16px;\\n    font-size: 18px;\\n    float: right;\\n    opacity: 0.5;\\n}\\n\\n.adsk-viewing-viewer .measure-settings-button:hover {\\n    opacity: 1;\\n}\\n\\n.adsk-viewing-viewer .measure-delta-button {\\n    position: relative;\\n    top: 56px;\\n    right: 4px;\\n    width: 16px;\\n    height: 16px;\\n    font-size: 16px;\\n    float: right;\\n    opacity: 0.5;\\n    -webkit-transform : rotate(-90deg);\\n    -moz-transform : rotate(-90deg);\\n    -ms-transform : rotate(-90deg);\\n    -o-transform : rotate(-90deg);\\n    transform : rotate(-90deg);\\n}\\n\\n.adsk-viewing-viewer .measure-delta-button.rotated {\\n    -webkit-transform : rotate(90deg);\\n    -moz-transform : rotate(90deg);\\n    -ms-transform : rotate(90deg);\\n    -o-transform : rotate(90deg);\\n    transform : rotate(90deg);\\n}\\n\\n.adsk-viewing-viewer .measure-delta-button:hover {\\n    opacity: 1;\\n}\\n\\n.adsk-viewing-viewer .measure-delta-result {\\n    display: inline-block;\\n    margin: 0px 0px 20px 0px;\\n    padding: 0px 0px 0px 56px;\\n}\\n\\n.adsk-viewing-viewer .measure-label-axis {\\n    display: none;\\n    position: absolute;\\n\\n    width: 16px;\\n    height: 16px;\\n\\n    left: 0px;\\n    top:  0px;\\n\\n    background-color: #f4f4f4;\\n    border-radius: 8px;\\n    pointer-events: none;\\n}\\n\\n.adsk-viewing-viewer .measure-label-axis-icon.X {\\n    background-color: #EC4545;\\n}\\n\\n.adsk-viewing-viewer .measure-label-axis-icon.Y {\\n    background-color: #45C345;\\n}\\n\\n.adsk-viewing-viewer .measure-label-axis-icon.Z {\\n    background-color: #5757DA;\\n}\\n\\n.adsk-viewing-viewer .measure-label-axis-icon {\\n\\twidth: 20px;\\n    height: 18px;\\n    color: #f4f4f4;\\n    border-radius: 8px 0 0 8px;\\n    font-size: 12px;\\n    padding-top: 4px;\\n    line-height: 15px;\\n    text-align: center;\\n}\\n\\n/* hover shouldn't work on mobile devices */\\n.adsk-viewing-viewer .measure-label-axis-delta.enableTransition{\\n\\ttransition: opacity 0.1s linear;\\n}\\n\\n.adsk-viewing-viewer .measure-label-axis-delta {\\n    display: none;\\n    position: absolute;\\n    font-size: 18px;\\n\\n    left: 0px;\\n    top:  0px;\\n\\n    background-color: #ffffff;\\n    pointer-events: none;\\n    \\n    opacity: 0;\\n\\n    border-radius: 8px;\\n    box-shadow: 0px 1px 3px 1px rgba(0,0,0,0.25);\\n}\\n\\n.adsk-viewing-viewer .measure-label-axis.visible {\\n    display: block;\\n}\\n\\n.adsk-viewing-viewer .measure-label-axis-delta.visible {\\n    display: flex;\\n}\\n\\n.adsk-viewing-viewer .measure-label-axis-x {\\n    color: #EC4545;\\n}\\n\\n.adsk-viewing-viewer .measure-label-axis-y {\\n    color: #45C345;\\n}\\n\\n.adsk-viewing-viewer .measure-label-axis-z {\\n    color: #5757DA;\\n}\\n\\n\\n.adsk-viewing-viewer .magnifying-glass.visible {\\n    display: block;\\n}\\n\\n.adsk-viewing-viewer .magnifying-glass {\\n    position: absolute;\\n    display: none;\\n    -moz-border-radius: 100%;\\n    -webkit-border-radius: 100%;\\n    border-radius: 100%;\\n    background: transparent;\\n    box-shadow: 2px 2px 4px rgba(0,0,0,0.5), inset 2px 2px 4px rgba(0,0,0,.5);\\n    -webkit-box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5), inset 2px 2px 4px rgba(0,0,0,.5);  \\n    -moz-box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5), inset 2px 2px 4px rgba(0,0,0,.5);\\n    z-index: 4;\\n}\\n\\n.adsk-viewing-viewer .measure-fetching-topology {\\n    display: inline-block;\\n    width: 10px;\\n    height: 10px;\\n    background: url(\" + ___CSS_LOADER_URL___0___ + \");\\n    margin: 3px 0px -2px 3px;\\n    animation: measure-topology-fetching-anim 1.4s infinite linear;\\n    -webkit-animation: measure-topology-fetching-anim 1.4s infinite linear;\\n}\\n\\n@keyframes measure-topology-fetching-anim {\\n    0% {\\n        -webkit-transform: rotate(0deg);\\n        transform: rotate(0deg);\\n    }\\n    100% {\\n        -webkit-transform: rotate(360deg);\\n        transform: rotate(360deg);\\n    }\\n}\\n\\n@-webkit-keyframes measure-topology-fetching-anim {\\n    0% {\\n        -webkit-transform: rotate(0deg);\\n        transform: rotate(0deg);\\n    }\\n    100% {\\n        -webkit-transform: rotate(360deg);\\n        transform: rotate(360deg);\\n    }\\n}\\n\\n.adsk-viewing-viewer .docking-panel.measure-settings-popup {\\n    display: flex;\\n    justify-content: center;\\n    flex-direction: column;\\n    bottom: 120%;\\n    box-sizing: border-box;\\n    text-align: left;\\n    position: absolute;\\n    padding-top: 15px;\\n    padding-bottom: 15px;\\n}\\n\\n.adsk-viewing-viewer .adsk-toolbar-vertical .docking-panel.measure-settings-popup {\\n    right: 120%;\\n    bottom: unset;\\n    height: max-content;\\n    width: max-content;\\n}\\n\\n.adsk-viewing-viewer .docking-panel.measure-settings-popup .adsk-lmv-tftable tr.switch-slider-row td {\\n    width: auto;\\n    padding-bottom: 0px;\\n    padding-top: 0px;\\n    vertical-align: inherit;\\n}\\n\\n.adsk-viewing-viewer .docking-panel.measure-settings-popup.hide {\\n    display: none;\\n}\\n\\n.adsk-viewing-viewer .measure-settings-popup tbody {\\n    top: 15px;\\n}\\n\\n.adsk-toolbar .measure-toolbar-seperator {\\n    height: 18px;\\n    width: 1px;\\n    background-color: #999;\\n    float: left;\\n    margin: 16px 5px;\\n}\\n\\n.adsk-toolbar.adsk-toolbar-vertical .measure-toolbar-seperator {\\n    height: 1px;\\n    width: 18px;\\n    margin: 5px 16px;\\n}\\n\\n.adsk-viewing-viewer .measure-selection-area {\\n\\tdisplay: block;\\n\\tposition: absolute;\\n\\tcursor: pointer;\\n\\tz-index: 1;\\n\\t-webkit-tap-highlight-color: rgba(0,0,0,0);\\n}\\n\", \"\"]);\n","\"use strict\";\n\nmodule.exports = function (url, needQuotes) {\n  // eslint-disable-next-line no-underscore-dangle, no-param-reassign\n  url = url.__esModule ? url.default : url;\n\n  if (typeof url !== 'string') {\n    return url;\n  } // If url is already wrapped in quotes, remove them\n\n\n  if (/^['\"].*['\"]$/.test(url)) {\n    // eslint-disable-next-line no-param-reassign\n    url = url.slice(1, -1);\n  } // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n\n\n  if (/[\"'() \\t\\n]/.test(url) || needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, '\\\\n'), \"\\\"\");\n  }\n\n  return url;\n};","module.exports = \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='10' height='10' viewBox='0 0 10 10'%3E %3Cdefs%3E %3ClinearGradient id='linear-gradient' y1='5' x2='10' y2='5' gradientUnits='userSpaceOnUse'%3E %3Cstop offset='0' stop-color='%23fff' stop-opacity='0'/%3E %3Cstop offset='1' stop-color='%23fff'/%3E %3C/linearGradient%3E %3C/defs%3E %3Ctitle%3EAsset 6%3C/title%3E %3Cg id='Layer_2' data-name='Layer 2'%3E %3Cg id='finals_24px'%3E %3Cpath d='M5,10A5,5,0,0,1,0,5,1.2,1.2,0,0,1,2.3,5,2.7,2.7,0,1,0,5,2.3,1.2,1.2,0,0,1,5,0,5,5,0,0,1,5,10Z' fill='url(%23linear-gradient)'/%3E %3C/g%3E %3C/g%3E %3C/svg%3E\"","var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!./Calibration.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"@font-face {\\n    font-family: 'calibration-icon';\\n    src: url('data:application/octet-stream;base64,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') format('woff');\\n    font-weight: normal;\\n    font-style: normal;\\n}\\n\\n[class^=\\\"calibration-icon\\\"], [class*=\\\" calibration-icon\\\"] {\\n    font-family: 'calibration-icon';\\n    font-style: normal;\\n    font-weight: normal;\\n    font-variant: normal;\\n    line-height: 1;\\n    padding-top: 2px;\\n    speak: none;\\n    text-transform: none;\\n    -webkit-font-smoothing: antialiased;\\n    -moz-osx-font-smoothing: grayscale;\\n}\\n\\n.adsk-viewing-viewer .calibration-icon:before {\\n    content: 'a';\\n}\\n\\n.adsk-viewing-viewer .calibration-panel {\\n    left:calc(50% - 190px);\\n    top: calc(50% - 145px);\\n    width: 300px;\\n    height: auto;\\n    z-index: 4;\\n}\\n\\n.adsk-viewing-viewer .measure-settings-popup .option-drop-down,\\n.adsk-viewing-viewer .calibration-panel .option-drop-down {\\n    width: 100%;\\n    padding-right: 0px;\\n    box-sizing: border-box;\\n}\\n\\n.adsk-viewing-viewer .measure-settings-popup .adsk-lmv-tftable tr td,\\n.adsk-viewing-viewer .calibration-panel .adsk-lmv-tftable tr td {\\n    width: auto;\\n    padding: 2px 15px 2px 0px;\\n}\\n\\n.adsk-viewing-viewer .calibration-panel .adsk-lmv-tftable tr td input {\\n    margin: 0px;\\n    box-sizing: border-box;\\n    width: 100%;\\n}\\n\\n.adsk-viewing-viewer .measure-settings-popup .switch {\\n    margin-left: 25px;\\n}\\n.adsk-viewing-viewer .measure-settings-popup .switch .slider {\\n    width: 26px;\\n}\\n\\n.adsk-viewing-viewer .calibration-textbox::-webkit-inner-spin-button, \\n.adsk-viewing-viewer .calibration-textbox::-webkit-outer-spin-button { \\n    -webkit-appearance: none; \\n    margin: 0; \\n}\\n\\n.adsk-viewing-viewer .calibration-text {\\n    text-align: left;\\n    padding: 6px 10px 6px 10px;\\n    margin: 20px 20px 14px 20px;\\n    font-size: 14px;\\n    -webkit-font-smoothing: antialiased;\\n}\\n\\n.adsk-viewing-viewer .calibration-button {\\n    margin-top: 15px;\\n}\\n\\n.adsk-viewing-viewer .calibration-button-left {\\n    width: calc(50% - 15px);\\n    margin-right: 5px !important;\\n    display: inline-block;\\n}\\n\\n.adsk-viewing-viewer .calibration-button-right {\\n    width: calc(50% - 15px);\\n    margin-left: 5px !important;\\n    display: inline-block;\\n}\\n\\n.adsk-viewing-viewer .calibration-line {\\n    position: absolute;\\n    display: block;    \\n    top:0;\\n    left:0;\\n    pointer-events: none;\\n    z-index: 0;\\n}\\n\\n.adsk-viewing-viewer .calibration-label {\\n    display: none;\\n    position: absolute;\\n    pointer-events: none;\\n    text-align: 'center';\\n    vertical-align: middle;\\n    cursor: default;\\n    padding: 2px;\\n    color: #000000;\\n    background: #FFFFFF;\\n    border-radius: 10px;\\n    -webkit-transform-origin: 50%  53%;\\n}\\n\\n.adsk-viewing-viewer .calibration-label-text {\\n    display: inline-block;\\n    pointer-events: none;\\n    text-align: 'center';\\n    vertical-align: middle;\\n    font-size: 12px;\\n    cursor: default;\\n    padding: 2px;\\n    color: #000000;\\n    background: #FFFFFF;\\n    border-bottom: 1px dashed #000000;\\n    text-decoration: none;\\n    text-transform: uppercase;\\n    -webkit-font-smoothing: antialiased;\\n}\\n\\n.adsk-viewing-viewer .calibration-label-text:hover {\\n    color: #039be5;\\n    border-bottom: 1px dashed #039be5;\\n}\\n\\n.adsk-viewing-viewer .calibration-label.visible {\\n    display: block;\\n}\\n\\n.adsk-viewing-viewer .calibration-endpoint:hover.calibration-endpoint.enable-hover,\\n.adsk-viewing-viewer .calibration-endpoint.edit {\\n    background-color: #039be5;\\n}\\n\\n.adsk-viewing-viewer .calibration-endpoint:hover.calibration-endpoint.enable-hover > * ,\\n.adsk-viewing-viewer .calibration-endpoint.edit > * {\\n    color: #ffffff;\\n}\\n\\n.adsk-viewing-viewer .calibration-endpoint.editable {\\n    pointer-events: all;\\n}\\n\\n.adsk-viewing-viewer .calibration-endpoint {\\n    display: none;\\n    position: absolute;\\n    cursor: move;\\n    pointer-events: none;\\n    width: 30px;\\n    height: 30px;\\n    background-color: #ffffff;\\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.24), 0 0 8px 0 rgba(0, 0, 0, 0.12);\\n    -moz-border-radius: 50px;\\n    -webkit-border-radius: 50px;\\n    border-radius: 50px;\\n    justify-content:center;\\n    align-items:center;\\n    text-align: center;\\n}\\n\\n.adsk-viewing-viewer .calibration-endpoint.visible {\\n    display: block;\\n}\\n\\n.adsk-viewing-viewer .calibration-endpoint-text {\\n    display: inline-block;\\n    font-size: 14px;\\n    vertical-align: middle;\\n    cursor: default;\\n    margin: 5px 5px 5px 5px;\\n    vertical-align: middle;\\n    text-align: center;\\n    color: #039be5;\\n    text-decoration: none;\\n    text-transform: uppercase;\\n    pointer-events: none;\\n}\\n\\n.adsk-viewing-viewer .calibration-buttons-wrapper {\\n    text-align: center;\\n}\\n\", \"\"]);\n","\n    var MeasureCommon = Autodesk.Viewing.MeasureCommon; //These come from main lmv bundle.\n\n    // /** @constructor */\n    export function MeasurementsManager(viewer)\n    {   \n        this.viewer = viewer;\n        this.init();\n    }\n\n    var proto = MeasurementsManager.prototype;\n\n    proto.getCurrentMeasurement = function() {\n        return this.currentMeasurement;\n    };\n\n    proto.selectMeasurementById = function(id) {\n        var measurement = this.measurementsList[id];\n        \n        if (measurement) {\n            this.changeCurrentMeasurement(measurement);\n            return this.currentMeasurement;    \n        }\n\n        return false;\n    };\n\n    proto.createMeasurement = function(measurementType) {\n        var id = this.measurementsCounter;\n        var measurement = new MeasureCommon.Measurement(measurementType, id);\n        this.measurementsList[id] = measurement;\n        this.measurementsCounter++;\n        this.changeCurrentMeasurement(measurement);\n        return this.currentMeasurement;\n    };\n\n    proto.changeCurrentMeasurement = function(measurement) {\n        this.currentMeasurement = measurement;\n        this.viewer.dispatchEvent({ type: MeasureCommon.Events.MEASUREMENT_CHANGED_EVENT, data: { type: measurement.measurementType, id: measurement.id }});\n    };\n\n    proto.removeCurrentMeasurement = function() { \n        // Remove current measurement from the list\n        if (Object.keys(this.measurementsList).length > 0) {\n            delete this.measurementsList[this.currentMeasurement.id];\n        }\n    };\n\n    proto.init = function() {\n        this.reset();\n    };\n\n    proto.destroy = function() {\n        this.reset();\n    };\n\n    proto.reset = function() {\n        this.currentMeasurement = null;\n        this.measurementsList = {};\n        this.measurementsCounter = 0;\n    };\n\n","\n    var av = Autodesk.Viewing;\n    var MeasureCommon = av.MeasureCommon;\n    \n    /**\n     * Base class for an indicator.\n     */\n\n    export var Indicator = function(viewer, measurement, tool)\n    {\n        this.viewer = viewer;\n        this.setGlobalManager(viewer.globalManager);\n        this.measurement = measurement;\n        this.tool = tool;\n        this.snapper = tool.getSnapper();\n        this.materialExtensionLine = null;\n        this.materialExtensionFace = null;\n        this.extensionLines = [];\n        this.extensionFaces = [];\n        this.grayOutPlane = [];\n        this.materialPoint = null;\n        this.materialLine = null;\n        this.materialAngle = null;\n        this.materialAngleOutline = null;\n        this.materialGreyOutPlane = null;\n        this.materialFace = null;\n        this.angleArc = null;\n        this.angleOutline = [];\n        this.showMeasureResult = false;\n        this.visibleLabels = [];\n        this.overlayName = 'measure-indicator-overlay-' + (measurement.id || '');\n        this.xAxis = this.viewer.autocam.getWorldRightVector();\n        this.yAxis = this.viewer.autocam.getWorldUpVector();\n        this.zAxis = this.viewer.autocam.getWorldFrontVector();\n    };\n\n\n\n    var proto = Indicator.prototype;\n    av.GlobalManagerMixin.call(proto);\n\n    proto.init = function() {\n        return false;\n    };\n\n    proto.updateDistance = function() {\n        return false;\n    };\n\n    proto.updateAngle = function() {\n        return false;\n    };\n\n    proto.clear = function() {\n        return false;\n    };\n\n    proto.updateLabelsPosition = function() {\n        return false;\n    };\n\n    // Renders the measurement and the labels.\n    proto.render = function(picks, showMeasureResult) {\n\n        this.showMeasureResult = showMeasureResult;\n\n        this.clear();\n\n        for (var i = 1; i <= Object.keys(picks).length; i++) {\n            if (this.measurement.hasPick(i)) {\n                this.renderPick(i);\n            }\n        }\n            \n        this.renderRubberband(picks);\n        \n        this.updateLabelsPosition();\n    };\n\n    proto.changeEndpointOnEditStyle = function(endpointNumber, isEditing) {\n        return false;\n    };\n\n    proto.handleResize = function() {\n        return false;\n    };\n\n    proto.setNoTopology = function() {\n        return false;\n    };\n\n    proto.setFetchingTopology = function() {\n        return false;\n    };\n\n    proto.setTopologyAvailable = function() {\n        return false;\n    };\n\n    proto.clientToCanvasCoords = function(event) {\n        var rect = this.viewer.impl.getCanvasBoundingClientRect();\n        var res = {};\n        if( event.hasOwnProperty(\"center\") )\n        {\n            event.canvasX = res.x = event.center.x - rect.left;\n            event.canvasY = res.y = event.center.y - rect.top;\n        }\n        else\n        {\n            event.canvasX = res.x = event.pointers[0].clientX - rect.left;\n            event.canvasY = res.y = event.pointers[0].clientY - rect.top;\n        }\n\n        return res;\n    };\n\n    proto.initLabelMobileGestures = function(label, pointNumber) {\n        var magnifyingGlass = this.viewer.toolController.getTool(\"magnifyingGlass\");\n\n        this.hammer = new av.Hammer.Manager(label, {\n                recognizers: [\n                    av.GestureRecognizers.drag,\n                    av.GestureRecognizers.singletap\n                ],\n                handlePointerEventMouse: false,\n                inputClass: av.isIE11 ? av.Hammer.PointerEventInput : av.Hammer.TouchInput\n            });\n\n        this.onSingleTapBinded = function(event) { \n                                    var pos = this.clientToCanvasCoords(event);\n                                    this.snapper.onMouseDown(pos);\n                                    this.tool.editEndpoint(event, pointNumber, this.measurement.id); \n                                }.bind(this);\n\n        this.onDragStartBinded = function(event) {\n                                    var pos = this.clientToCanvasCoords(event);\n                                    this.snapper.onMouseDown(pos);\n                                    this.tool.editEndpoint(event, pointNumber, this.measurement.id);\n                                    this.tool.editByDrag = true;\n\n                                    // Activate Magnifying Glass and tool by faking press event.\n                                    event.type = \"press\";\n                                    magnifyingGlass.handlePressHold(event);\n                                    this.tool.handlePressHold(event);\n                                    event.type = \"dragstart\";\n                                    magnifyingGlass.handleGesture(event);\n                                    this.tool.handleGesture(event);\n                                }.bind(this);\n\n        this.onDragMoveBinded = function(event){ \n                                    var pos = this.clientToCanvasCoords(event);\n                                    this.snapper.onMouseDown(pos);\n\n                                    magnifyingGlass.handleGesture(event);\n                                    this.tool.handleGesture(event);\n                                }.bind(this);\n\n        this.onDragEndBinded = function(event){ \n                                    var pos = this.clientToCanvasCoords(event);\n                                    this.snapper.onMouseDown(pos);\n                                    \n                                    // Deactivate Magnifying Glass and tool by faking pressup event.\n                                    magnifyingGlass.handleGesture(event);\n                                    this.tool.handleGesture(event);\n                                    event.type = \"pressup\";\n                                    magnifyingGlass.handlePressHold(event);\n                                    this.tool.handlePressHold(event);\n\n                                    this.tool.handleButtonUp(event);\n                                }.bind(this);\n\n        this.hammer.on(\"singletap\", this.onSingleTapBinded);\n        this.hammer.on(\"dragstart\", this.onDragStartBinded);\n        this.hammer.on(\"dragmove\", this.onDragMoveBinded);\n        this.hammer.on(\"dragend\", this.onDragEndBinded);\n    };\n\n    proto.clearLabelMobileGestures = function() {\n        if (this.hammer) {\n            this.hammer.off(\"singletap\", this.onSingleTapBinded);\n            this.hammer.off(\"dragstart\", this.onDragStartBinded);\n            this.hammer.off(\"dragmove\", this.onDragMoveBinded);\n            this.hammer.off(\"dragend\", this.onDragEndBinded);\n            this.hammer = null;\n        }\n    };\n\n    proto.updateVisibleLabelsArray = function(label, isVisible) {\n        if (isVisible) {\n            if (!(this.visibleLabels.indexOf(label) > -1)) {\n                this.visibleLabels.push(label);        \n            }\n        } else {\n            // remove from array\n            var index = this.visibleLabels.indexOf(label);\n            if (index > -1) {\n                this.visibleLabels.splice(index, 1);\n            }\n        }\n    };\n\n    proto.hideEndpoints = function() {\n        for (var name in this.endpoints) {\n            if (this.endpoints.hasOwnProperty(name)) {\n                var endpoint = this.endpoints[name];\n                if (endpoint.label) {\n                    this.hideLabel(endpoint.label);\n                }\n            }\n        }\n    };\n\n    proto.showEndpoints = function() {\n        for (var name in this.endpoints) {\n            if (this.endpoints.hasOwnProperty(name)) {\n                var endpoint = this.endpoints[name];\n                if (this.measurement.hasPick(name) && endpoint.label) {\n                    this.showLabel(endpoint.label);\n                }\n            }\n        }\n    };\n\n    proto.hideLabel = function(label) {\n        if (label) {\n            MeasureCommon.safeToggle(label, 'visible', false);\n            this.updateVisibleLabelsArray(label, false);      \n        }\n    };\n\n    proto.showLabel = function(label) {\n        if (label) {\n            MeasureCommon.safeToggle(label, 'visible', true);\n            this.updateVisibleLabelsArray(label, true);\n        }\n    };\n\n    proto.changeEndpointOnEditStyle = function(endpointNumber, isEditing) {\n        if (this.endpoints[endpointNumber] && this.endpoints[endpointNumber].label) {\n            MeasureCommon.safeToggle(this.endpoints[endpointNumber].label, 'on-edit', isEditing);\n        }\n    };\n\n    proto.changeEndpointEditableStyle = function(endpointNumber, isEditable) {\n        if (this.endpoints[endpointNumber] && this.endpoints[endpointNumber].label) {\n            MeasureCommon.safeToggle(this.endpoints[endpointNumber].label, 'editable', isEditable);\n        }\n    };\n\n    proto.changeAllEndpointsEditableStyle = function(isEditable) {\n        for (var name in this.endpoints) {\n            if (this.endpoints.hasOwnProperty(name)) {\n                this.changeEndpointEditableStyle(name, isEditable);    \n            }\n        }\n    };\n\n    proto.changeAllEndpointsOnEditStyle = function(isEditing) {\n        for (var name in this.endpoints) {\n            if (this.endpoints.hasOwnProperty(name)) {\n                this.changeEndpointOnEditStyle(name, isEditing);\n            }\n        }\n    };\n\n    proto.hideLabelsOutsideOfView = function() {\n        // For each label, check if it's inside the camera viewport.\n        if (this.viewer.model && !this.viewer.model.is2d()) {\n            this.visibleLabels.forEach(function(label) {\n\n                // Ignore labels if position is not computed yet. This may temporarily happen, because label positions are not\n                // always immediately assigned. (see MeasureToolIndicator.js)\n                // Note that we must not set them to invisible here, because this may cause a hen-and-egg-problem: \n                // Some code sections in MeasureToolIndicator.updatePositions() don't set the label position for invisible labels.\n                if (!label.point) {\n                    return;\n                }\n\n                var show = this.viewer.navigation.isPointVisible(label.point);\n\n                if ((label.classList.contains('visible') && !show) || (!label.classList.contains('visible') && show)) {\n                    label.classList.toggle('visible', show);    \n                } \n\n            }.bind(this));\n        }\n    };\n\n    proto.showClick = function(pickNumber) {\n        if (this.tool.getActivePointIndex() !== pickNumber) {\n            this.showLabel(this.endpoints[pickNumber].label);\n        }\n    };\n\n    proto.hideClick = function(pickNumber) {\n\n        if (this.endpoints[pickNumber]) {\n            this.hideLabel(this.endpoints[pickNumber].label);    \n        }\n    };\n\n    proto.renderPick = function(pickNumber) {\n        if (!this.endpoints[pickNumber]) {\n            this.createEndpoint(pickNumber);\n        }\n\n        this.renderEndpointGeometry(pickNumber);\n        this.showClick(pickNumber);\n    };\n\n    proto.renderEndpointGeometry = function(pickNumber) {\n        var geometry = MeasureCommon.getSnapResultPosition(this.measurement.getPick(pickNumber), this.viewer);\n        this.endpoints[pickNumber].position = geometry.clone();\n    };\n\n\n    // This is a workaround to deal with the limitation on linewidth on Windows due to the ANGLE library\n    proto.drawEdgeAsCylinder = function(geom, material, linewidth, type, cylinderGeometry) {\n\n        // The array for all cylinders\n        var edge = [];\n        var cylinder;\n\n        if (type == 1) { // LinePieces\n            for (var i = 0; i < geom.vertices.length; i += 2) {\n                cylinder = this.cylinderMesh(geom.vertices[i], geom.vertices[i + 1], material, linewidth, cylinderGeometry);\n                this.setCylinderScale(cylinder, geom.vertices[i], geom.vertices[i + 1]);\n                edge.push(cylinder);\n            }\n        }\n        else { // LineStrip\n            for (var i = 0; i < geom.vertices.length - 1; i++) {\n                cylinder = this.cylinderMesh(geom.vertices[i], geom.vertices[i + 1], material, linewidth, cylinderGeometry);\n                this.setCylinderScale(cylinder, geom.vertices[i], geom.vertices[i + 1]);\n                edge.push(cylinder);\n            }\n        }\n\n\n        return edge;\n    };\n\n    proto.drawDashedLine = function(p1, p2, dashSize, gapSize, material, width, overlayName) {\n\n        var geometry = new THREE.Geometry();\n        var line = new THREE.Vector3().subVectors(p2, p1);\n        var lineLength = line.length() - gapSize;\n        var lineDirection = line.normalize();\n        \n        var i = 0;\n        var pos = p1.clone();\n        var currLength = 0;\n\n        while (currLength < lineLength) {\n            var isPointVisible = this.viewer.navigation.isPointVisible(pos);\n            \n            if (isPointVisible) {\n                geometry.vertices[i] = pos.clone();\n                i++;\n            }\n            \n            pos.addVectors(pos, lineDirection.clone().multiplyScalar(dashSize));\n            \n            if (isPointVisible) {\n                geometry.vertices[i] = pos.clone();\n                i++;\n            }\n            \n            pos.addVectors(pos, lineDirection.clone().multiplyScalar(gapSize));\n\n            currLength += dashSize + gapSize;\n        }\n        \n        line = this.drawEdgeAsCylinder(geometry, material, width, 1, this.getNewCylinderGeometry());\n        this.viewer.impl.addMultipleOverlays(overlayName, line);\n\n        return line;\n    };\n\n    // This is a workaround to deal with the limitation on linewidth on Windows due to the ANGLE library\n    proto.drawLineAsCylinder = function(geom, material, linewidth, overlayName) {\n\n        var line;\n\n        if (geom.vertices.length == 2) {\n            line = this.cylinderMesh(geom.vertices[0], geom.vertices[1], material, linewidth, this.getNewCylinderGeometry());\n            this.setCylinderScale(line, geom.vertices[0], geom.vertices[1]);\n            this.viewer.impl.addOverlay(overlayName, line);\n        }\n\n        return line;\n    };\n\n    proto.getNewCylinderGeometry = function() {\n        return new THREE.CylinderGeometry(0.1, 0.1, 1, 8, 1, true);\n    };\n\n\n    proto.cylinderMesh = function(pointX, pointY, material, linewidth, cylinderGeometry) {\n\n        var direction = new THREE.Vector3().subVectors(pointY, pointX);\n        var orientation = new THREE.Matrix4();\n        orientation.lookAt(pointX, pointY, new THREE.Object3D().up);\n        orientation.multiply(new THREE.Matrix4().set(linewidth, 0, 0, 0,\n            0, 0, linewidth, 0,\n            0, -direction.length(), 0, 0,\n            0, 0, 0, 1));\n\n        var edge = new THREE.Mesh(cylinderGeometry, material);\n        edge.applyMatrix(orientation);\n        edge.lmv_line_width = linewidth;\n        edge.position.x = (pointY.x + pointX.x) / 2;\n        edge.position.y = (pointY.y + pointX.y) / 2;\n        edge.position.z = (pointY.z + pointX.z) / 2;\n\n        return edge;\n    };\n\n    // Set scale for cylinder\n    proto.setCylinderScale = function(cylinderMesh, p1, p2) {\n        var scale;\n\n        if (p1 && p2) {\n            var point = MeasureCommon.nearestPointInPointToSegment(this.viewer.navigation.getPosition(), p1, p2);\n            scale = this.setScale(point);    \n        } else {\n            scale = this.setScale(cylinderMesh.position);\n        }\n\n        if (cylinderMesh.hasOwnProperty(\"lmv_line_width\"))\n            scale *= cylinderMesh.lmv_line_width;\n        cylinderMesh.scale.x = scale;\n        cylinderMesh.scale.z = scale;\n    };\n\n\n    // Set scale for vertex and extension dashed line\n    proto.setScale = function(point) {\n\n        var pixelSize = 5;\n\n        var navapi = this.viewer.navigation;\n        var camera = navapi.getCamera();\n        var position = navapi.getPosition();\n\n        var p = point.clone();\n\n        var distance = camera.isPerspective ? p.sub(position).length()\n            : navapi.getEyeVector().length();\n\n        var fov = navapi.getVerticalFov();\n        var worldHeight = 2.0 * distance * Math.tan(THREE.Math.degToRad(fov * 0.5));\n\n        var viewport = navapi.getScreenViewport();\n        var scale = pixelSize * worldHeight / viewport.height;\n\n        return scale;\n    };\n\n    proto.alignLabelWithLine = function(label, p1, p2, offset, viewer){\n        var camUpVector = viewer.navigation.getCameraUpVector();\n        var worldUpVec = new THREE.Vector3(0,1,0);\n        var cameraAngle = worldUpVec.angleTo(camUpVector) * 180 / Math.PI;\n\n        cameraAngle = camUpVector.x >= 0 ? cameraAngle : -cameraAngle;\n        \n        var angle = null;\n\n        var deltaX = p1.x - p2.x;\n        var deltaY = p1.y - p2.y;\n\n        if (p1.x < p2.x) {\n            angle =  Math.atan2(-deltaY , -deltaX) * 180 / Math.PI;    \n        } \n        else {\n            angle =  Math.atan2(deltaY , deltaX) * 180 / Math.PI;    \n        }\n\n        angle = -(angle + cameraAngle);\n\n        if (Math.abs(angle) > 90){\n            angle = angle + 180;\n        }\n\n        label.style.transform = 'rotate('+ angle +'deg) translate(0px, ' + offset + 'px)';\n    };\n\n    proto.destroy = function() {\n        this.materialPoint = null;\n        this.materialFace = null;\n        this.materialLine = null;\n        this.materialAngle = null;\n\n        if (av.isTouchDevice()) {\n            this.clearLabelMobileGestures();    \n        }\n\n        for (var name in this.endpoints) {\n            if (this.endpoints.hasOwnProperty(name)) {\n                var endPoint = this.endpoints[name];\n\n                if (endPoint.label) {\n                    endPoint.label.removeEventListener(av.isSafari() ? 'mousedown' : 'pointerdown', this.onMouseClickBinded);\n                    endPoint.label.removeEventListener('mousewheel', this.viewer.toolController.mousewheel);\n                    endPoint.label.parentNode.removeChild(endPoint.label);\n                    endPoint.label = null;\n                }\n            }\n        }\n\n        this.visibleLabels = [];\n    };\n\n    proto.renderRubberband = function(picks) {\n\n        switch (this.measurement.measurementType) {\n            case MeasureCommon.MeasurementTypes.MEASUREMENT_DISTANCE:\n                var previewsPick = picks[1];\n                var activePick = picks[2];\n                var start = MeasureCommon.getSnapResultPosition(previewsPick, this.viewer);\n                var end = MeasureCommon.getSnapResultPosition(activePick, this.viewer);\n                \n                if (start && end) {\n                    this.renderDistanceMeasurement(start, end);\n                }\n                break;\n\n            case MeasureCommon.MeasurementTypes.MEASUREMENT_ANGLE:\n                this.renderAngleMeasurement(picks);\n                break;\n\n            case MeasureCommon.MeasurementTypes.MEASUREMENT_AREA:\n                this.renderAreaMeasurement(picks);\n                break;\n        }\n    };\n\n    proto.initMouseEvent = function(label, pointNumber) {\n        \n        var isSafari = av.isSafari();\n        this.onMouseClickBinded = function(event) { \n            if(isSafari || event.pointerType === 'mouse'){\n                event.canvasX = event.clientX;\n                event.canvasY = event.clientY;\n                this.tool.editEndpoint(event, pointNumber, this.measurement.id); \n            }\n        }.bind(this);\n        label.addEventListener(isSafari ? 'mousedown' : 'pointerdown', this.onMouseClickBinded);         \n    };\n","    // Centroid of a polygon is the average of its points.\n    export function getCentroidOfPolygon(points) {\n        var centroid = new THREE.Vector3();\n        var n = points.length;\n\n        for (var i = 0; i < n; i++) {\n            centroid.add(points[i]);\n        }\n\n        centroid.multiplyScalar(1 / n);\n        return centroid;\n    }\n\n    // Algorithm based on https://github.com/mapbox/polylabel\n    export function getPolygonVisualCenter(polygon) {\n        function compareMax(a, b) {\n            return b.max - a.max;\n        }\n\n        function Cell(x, y, h, polygon) {\n            this.x = x; // cell center x\n            this.y = y; // cell center y\n            this.h = h; // half the cell size\n            this.d = pointToPolygonDist(x, y, polygon); // distance from cell center to polygon\n            this.max = this.d + this.h * Math.SQRT2; // max distance to polygon within a cell\n        }\n\n        // signed distance from point to polygon outline (negative if point is outside)\n        function pointToPolygonDist(x, y, polygon) {\n            var inside = false;\n            var minDistSq = Infinity;\n\n            for (var k = 0; k < polygon.length; k++) {\n                var ring = polygon[k];\n\n                for (var i = 0, len = ring.length, j = len - 1; i < len; j = i++) {\n                    var a = ring[i];\n                    var b = ring[j];\n\n                    if ((a.y > y !== b.y > y) &&\n                        (x < (b.x - a.x) * (y - a.y) / (b.y - a.y) + a.x)) inside = !inside;\n\n                    minDistSq = Math.min(minDistSq, getSegDistSq(x, y, a, b));\n                }\n            }\n\n            return (inside ? 1 : -1) * Math.sqrt(minDistSq);\n        }\n\n        // get polygon centroid\n        function getCentroidCell(polygon) {\n            var area = 0;\n            var x = 0;\n            var y = 0;\n            var points = polygon[0];\n\n            for (var i = 0, len = points.length, j = len - 1; i < len; j = i++) {\n                var a = points[i];\n                var b = points[j];\n                var f = a.x * b.y - b.x * a.y;\n                x += (a.x + b.x) * f;\n                y += (a.y + b.y) * f;\n                area += f * 3;\n            }\n            if (area === 0) return new Cell(points[0].x, points[0].y, 0, polygon);\n            return new Cell(x / area, y / area, 0, polygon);\n        }\n\n        // get squared distance from a point to a segment\n        function getSegDistSq(px, py, a, b) {\n\n            var x = a.x;\n            var y = a.y;\n            var dx = b.x - x;\n            var dy = b.y - y;\n\n            if (dx !== 0 || dy !== 0) {\n\n                var t = ((px - x) * dx + (py - y) * dy) / (dx * dx + dy * dy);\n\n                if (t > 1) {\n                    x = b.x;\n                    y = b.y;\n\n                } else if (t > 0) {\n                    x += dx * t;\n                    y += dy * t;\n                }\n            }\n\n            dx = px - x;\n            dy = py - y;\n\n            return dx * dx + dy * dy;\n        }\n\n        function TinyQueue(data, compare) {\n\n            function defaultCompare(a, b) {\n                return a < b ? -1 : a > b ? 1 : 0;\n            }\n\n            if (!(this instanceof TinyQueue)) return new TinyQueue(data, compare);\n\n            this.data = data || [];\n            this.length = this.data.length;\n            this.compare = compare || defaultCompare;\n\n            if (this.length > 0) {\n                for (var i = (this.length >> 1); i >= 0; i--) this._down(i);\n            }\n        }\n\n        TinyQueue.prototype = {\n\n            push: function (item) {\n                this.data.push(item);\n                this.length++;\n                this._up(this.length - 1);\n            },\n\n            pop: function () {\n                if (this.length === 0) return undefined;\n\n                var top = this.data[0];\n                this.length--;\n\n                if (this.length > 0) {\n                    this.data[0] = this.data[this.length];\n                    this._down(0);\n                }\n                this.data.pop();\n\n                return top;\n            },\n\n            peek: function () {\n                return this.data[0];\n            },\n\n            _up: function (pos) {\n                var data = this.data;\n                var compare = this.compare;\n                var item = data[pos];\n\n                while (pos > 0) {\n                    var parent = (pos - 1) >> 1;\n                    var current = data[parent];\n                    if (compare(item, current) >= 0) break;\n                    data[pos] = current;\n                    pos = parent;\n                }\n\n                data[pos] = item;\n            },\n\n            _down: function (pos) {\n                var data = this.data;\n                var compare = this.compare;\n                var halfLength = this.length >> 1;\n                var item = data[pos];\n\n                while (pos < halfLength) {\n                    var left = (pos << 1) + 1;\n                    var right = left + 1;\n                    var best = data[left];\n\n                    if (right < this.length && compare(data[right], best) < 0) {\n                        left = right;\n                        best = data[right];\n                    }\n                    if (compare(best, item) >= 0) break;\n\n                    data[pos] = best;\n                    pos = left;\n                }\n\n                data[pos] = item;\n            }\n        };\n\n        if (polygon.length === 3) {\n            return getCentroidOfPolygon(polygon);\n        }\n\n        var precision = 0.01;\n        polygon = [polygon];\n\n        // find the bounding box of the outer ring\n        var minX, minY, maxX, maxY;\n        for (var i = 0; i < polygon[0].length; i++) {\n            var p = polygon[0][i];\n            if (!i || p.x < minX) minX = p.x;\n            if (!i || p.y < minY) minY = p.y;\n            if (!i || p.x > maxX) maxX = p.x;\n            if (!i || p.y > maxY) maxY = p.y;\n        }\n\n        var width = maxX - minX;\n        var height = maxY - minY;\n        var cellSize = Math.min(width, height);\n        var h = cellSize / 2;\n\n        // a priority queue of cells in order of their \"potential\" (max distance to polygon)\n        var cellQueue = new TinyQueue(null, compareMax);\n\n        if (cellSize === 0) return [minX, minY];\n\n        // cover polygon with initial cells\n        for (var x = minX; x < maxX; x += cellSize) {\n            for (var y = minY; y < maxY; y += cellSize) {\n                cellQueue.push(new Cell(x + h, y + h, h, polygon));\n            }\n        }\n\n        // take centroid as the first best guess\n        var bestCell = getCentroidCell(polygon);\n\n        // special case for rectangular polygons\n        var bboxCell = new Cell(minX + width / 2, minY + height / 2, 0, polygon);\n        if (bboxCell.d > bestCell.d) bestCell = bboxCell;\n\n        while (cellQueue.length) {\n            // pick the most promising cell from the queue\n            var cell = cellQueue.pop();\n\n            // update the best cell if we found a better one\n            if (cell.d > bestCell.d) {\n                bestCell = cell;\n            }\n\n            // do not drill down further if there's no chance of a better solution\n            if (cell.max - bestCell.d <= precision) continue;\n\n            // split the cell into four cells\n            h = cell.h / 2;\n            cellQueue.push(new Cell(cell.x - h, cell.y - h, h, polygon));\n            cellQueue.push(new Cell(cell.x + h, cell.y - h, h, polygon));\n            cellQueue.push(new Cell(cell.x - h, cell.y + h, h, polygon));\n            cellQueue.push(new Cell(cell.x + h, cell.y + h, h, polygon));\n        }\n\n        return {x:bestCell.x, y:bestCell.y};\n    };\n","import { Indicator } from './Indicator'\nimport { getPolygonVisualCenter } from \"./PolygonCentroid\";\n\n    var av = Autodesk.Viewing;\n    var MeasureCommon = Autodesk.Viewing.MeasureCommon;\n\n\n    // /** @constructor */\n    export function MeasureToolIndicator( viewer, measurement, measureTool )\n    {\n        Indicator.call(this, viewer, measurement, measureTool);\n        this.measureTool = measureTool;\n        this.endpoints = [];\n        this.lines = { \n            xyz: {axis: false, material: createLineMaterial('005BCE'), className: 'adsk-icon-axis-delta' + '-xyz measure-label-axis-delta' + ' measure-label-axis-xyz'},\n            x:   {axis: true,  material: createLineMaterial('F12C2C'), className: 'adsk-icon-axis-delta' + '-x measure-label-axis-delta' + ' measure-label-axis-x', iconText: 'X'},\n            y:   {axis: true,  material: createLineMaterial('0BB80B'), className: 'adsk-icon-axis-delta' + '-y measure-label-axis-delta' + ' measure-label-axis-y', iconText: 'Y'},\n            z:   {axis: true,  material: createLineMaterial('2C2CF1'), className: 'adsk-icon-axis-delta' + '-z measure-label-axis-delta' + ' measure-label-axis-z', iconText: 'Z'}\n        };\n        this.segments = [];\n        this.dashedLine = {};\n        this.simple = false;\n        this.angleLabel = {};\n        this.areaLabel = {};\n        this.labels = [];\n        this.isLeaflet = false;\n        this.topologyStatus = TOPOLOGY_NOT_AVAILABLE;\n        this.tmpVector = new THREE.Vector3();\n        this.surfaceColor = new THREE.MeshBasicMaterial({\n            color: parseInt('005BCE', 16),\n            opacity: 0.15,\n            transparent: true,\n            depthTest: false,\n            depthWrite: false,\n            side: THREE.DoubleSide\n        });   \n    }\n\n    MeasureToolIndicator.prototype = Object.create(Indicator.prototype);\n    MeasureToolIndicator.prototype.constructor = MeasureToolIndicator;\n    var proto = MeasureToolIndicator.prototype;\n\n    function createLineMaterial(color) {\n        return new THREE.MeshBasicMaterial({\n            color: parseInt(color, 16),\n            depthTest: false,\n            depthWrite: false,\n            side: THREE.DoubleSide\n        });   \n    }\n\n    var _labelsSpace = 4;\n    var _angleLabelOffset = 5;\n    var TOPOLOGY_NOT_AVAILABLE = 0;\n    var TOPOLOGY_FETCHING = 1; \n    var TOPOLOGY_AVAILABLE = 2;\n    var _selectorAreaSize = 15;\n\n    var _tipHeight = 2;\n    var _tipWidth = 3;\n    var _segmentWidth = 4;\n    var _dashedSegmentWidth = 3;\n    var _axisLineWidth = 2;\n    var _dashSize = 2;\n    var _gapSize = 1;\n\n    var _angleArcWidth = 2;\n\n    function isVisible(label) {\n        return label.classList.contains('visible');\n    }\n\n    proto.init = function() {\n        this.isLeaflet = this.viewer.model.getData().isLeaflet;\n        // Create HTML Labels\n        var currLabel;\n\n        this.onSelectionAreaClickedBinded = this.onSelectionAreaClicked.bind(this);\n\n        // Line\n        if (!this.lines.xyz.label) {\n            currLabel = this.lines.xyz.label = this.createMeasurementLabel(); // Measurement result\n            currLabel.addEventListener('mousewheel', this.viewer.toolController.mousewheel);\n            currLabel.addEventListener('click', this.onSelectionAreaClickedBinded);\n            this.viewer.container.appendChild(currLabel);\n        }\n        switch (this.topologyStatus) {\n            case TOPOLOGY_FETCHING:\n                this.setFetchingTopology();\n                break;\n            case TOPOLOGY_AVAILABLE:\n                this.setTopologyAvailable();\n                break;\n            case TOPOLOGY_NOT_AVAILABLE:\n                this.setNoTopology();\n                break;\n        }\n\n        this.showMeasureResult = false;\n\n        this.onCameraChangeBinded = this.onCameraChange.bind(this);\n        this.viewer.addEventListener(av.CAMERA_CHANGE_EVENT, this.onCameraChangeBinded);\n\n        this.handleButtonUpBinded = this.measureTool.handleButtonUp.bind(this.measureTool);\n        this.addWindowEventListener('mouseup', this.handleButtonUpBinded);\n    };\n\n    proto.createEndpoint = function(index) {\n        this.endpoints[index] = {};\n        var currLabel = this.endpoints[index].label = this.createSnapResultLabel(index);\n        this.viewer.container.appendChild(currLabel);    \n    };\n\n    proto.updateLabelsPosition = function() {\n\n        var point,\n            xy,\n            label,\n            key;\n\n\n        for (key in this.endpoints) {\n            if (this.endpoints.hasOwnProperty(key)) {\n                    label = this.endpoints[key].label;\n                    point = this.endpoints[key].position;\n\n                if (label && point && isVisible(label)) {\n                    xy = MeasureCommon.project(point, this.viewer);\n\n                    xy.x = xy.x - label.getBoundingClientRect().width / 2;\n                    xy.y = xy.y - label.getBoundingClientRect().height / 2;\n                    \n                    label.style.top  = xy.y + 'px';\n                    label.style.left = xy.x + 'px';\n                    label.point = point;\n                    this.labels.push(label);\n                }\n            }\n        }\n\n        for (var name in this.lines) {\n            if (this.lines.hasOwnProperty(name)) {\n                var item = this.lines[name];\n                    label = item.label;\n\n                if (label && item.p1 && item.p2 && isVisible(label)) {\n                    \n                    item.line.visible = item.visible;\n\n                    point = { x: (item.p1.x + item.p2.x)/2, y: (item.p1.y + item.p2.y)/2, z: (item.p1.z + item.p2.z)/2 };\n                    \n                    xy = MeasureCommon.project(point, this.viewer);\n                    label.style.top  = xy.y - Math.floor(label.clientHeight / 2) + 'px';\n                    label.style.left = xy.x - Math.floor(label.clientWidth / 2) + 'px';\n\n                    if (this.viewer.model && this.viewer.model.is2d()) {\n                        var offset = item === this.lines.xyz ? 0 : label.clientHeight;\n\n                        var p1Projected = MeasureCommon.project(item.p1, this.viewer);\n                        var p2Projected = MeasureCommon.project(item.p2, this.viewer);\n\n                        if (label.clientWidth >= p1Projected.distanceTo(p2Projected) - this.endpoints[1].label.clientWidth) {\n                            if (item === this.lines.xyz) {\n                                offset = label.clientHeight;\n                            } else {\n                                // Hide all axis labels and quit the loop\n                            \n                                this.lines.x.line.visible = false;\n                                this.lines.y.line.visible = false;\n\n                                this.viewer.impl.invalidate(false, false, /*overlayDirty=*/true);\n\n                                for (name in this.lines) {\n                                    if (this.lines.hasOwnProperty(name)) {\n                                        if (this.lines[name] !== this.lines.xyz) {\n                                            var currLabel = this.lines[name].label;\n                                            if (currLabel) {\n                                                currLabel.style.opacity = 0;\n                                            }\n                                        }\n                                    }\n                                }\n\n                                break;\n                                \n                            }\n                        }\n\n                        if (item !== this.lines.xyz) {\n                            var xyzDirection = new THREE.Vector3();\n                            var itemDirection = new THREE.Vector3();\n                            xyzDirection.subVectors(this.lines.xyz.p1, this.lines.xyz.p2).normalize();\n                            itemDirection.subVectors(item.p1, item.p2).normalize();\n                            var normal = xyzDirection.cross(this.viewer.navigation.getEyeVector()).normalize();\n                            var angle = normal.dot(itemDirection);\n                            \n                            if (angle < 0) {\n                                offset = -offset;\n                            }\n                        }\n\n                        this.alignLabelWithLine(label, item.p1, item.p2, offset, this.viewer);\n                    }\n\n                    label.style.opacity = 1;\n                    label.point = point;\n                    this.labels.push(label);\n                }\n            }\n        }\n\n        if (this.angleLabel) {\n\n            label = this.angleLabel.label;\n\n            if (label && this.angleLabel.p1 && this.angleLabel.p2 && isVisible(label)) {\n                point = { x: (this.angleLabel.p1.x + this.angleLabel.p2.x)/2, y: (this.angleLabel.p1.y + this.angleLabel.p2.y)/2, z: (this.angleLabel.p1.z + this.angleLabel.p2.z)/2 };\n                xy = MeasureCommon.project(point, this.viewer, _angleLabelOffset);\n                label.style.top = xy.y - Math.floor(label.clientHeight / 2) + 'px';\n                label.style.left = xy.x - Math.floor(label.clientWidth / 2) + 'px';\n                label.point = point;\n                this.labels.push(label);\n            }\n        }\n\n        if (this.areaLabel) {\n\n            label = this.areaLabel.label;\n\n            if (label && this.areaLabel.p1 && this.areaLabel.p2 && isVisible(label)) {\n                point = { x: (this.areaLabel.p1.x + this.areaLabel.p2.x)/2, y: (this.areaLabel.p1.y + this.areaLabel.p2.y)/2, z: (this.areaLabel.p1.z + this.areaLabel.p2.z)/2 };\n                xy = MeasureCommon.project(point, this.viewer);\n                label.style.top  = xy.y - Math.floor(label.clientHeight / 2) + 'px';\n                label.style.left = xy.x - Math.floor(label.clientWidth / 2) + 'px';\n                label.point = point;\n                this.labels.push(label);\n            }\n        }\n\n        if (this.viewer.model && !this.viewer.model.is2d()) {\n    \n            var needToStackLabels = false;\n            this.labelsStacked = false;\n            var currentLabel, i;\n\n            // Backup lable's positions in case of the need of stacking them later\n            var backupPositions = [];\n            for (i = 0; i < this.labels.length; i++) {\n                backupPositions.push({left: this.labels[i].style.left, top:this.labels[i].style.top});\n            }\n\n            // Detect and move in case of overlapping.\n            for (i = 0; i < this.labels.length && !needToStackLabels; i++) {\n                currentLabel = this.labels[i];\n                needToStackLabels = this.labelsOverlapDetection(currentLabel, this.labels);\n            }\n\n            // If we found out that the labels need to be stacked, restore their positions from the backup first, and then start again.\n            if (needToStackLabels) {\n\n                for (i = 0; i < this.labels.length; i++) {\n                    this.labels[i].style.left = backupPositions[i].left;\n                    this.labels[i].style.top = backupPositions[i].top;\n                }\n\n                this.stackLabels(this.labels);\n\n                for (i = 0; i < this.labels.length; i++) {\n                    currentLabel = this.labels[i];\n                    this.labelsOverlapDetection(currentLabel, this.labels);\n                }\n            } \n        }\n\n        this.labels = [];\n        \n    };\n\n    function isLeftIntersect(current, other) {\n        return current.right >= other.left && current.right <= other.right;\n    }\n\n    function isRightIntersect(current, other) {\n        return current.left >= other.left && current.left <= other.right;\n    }\n\n    function isMiddleIntersect(current, other) {\n        return current.left <= other.left && current.right >= other.right;\n    }\n\n    function isVerticalIntersect(current, other) {\n        return current.top < other.bottom && current.bottom > other.top;\n    }\n\n    function moveLeft(currentLabel, currentRect, otherRect) {\n        currentLabel.style.left = parseInt(currentLabel.style.left, 10) - (currentRect.right - otherRect.left) + 'px';\n    }\n\n    function moveRight(currentLabel, currentRect, otherRect) {\n        currentLabel.style.left = parseInt(currentLabel.style.left, 10) + (otherRect.right - currentRect.left) + 'px';\n    }\n\n    function moveDown(currentLabel, currentRect, otherRect) {\n        currentLabel.style.top = parseInt(currentLabel.style.top, 10) + (otherRect.bottom - currentRect.top) + 'px';\n    }\n\n\n    proto.labelsOverlapDetection = function(staticLabel, labelsList) {\n\n        var needToStackLabels = false;\n\n        for (var i = 0; i < labelsList.length ; i++) {\n\n            var dynamicLabel = labelsList[i];\n            var moved = false;\n\n            if (staticLabel !== dynamicLabel) {\n                var staticRect = staticLabel.getBoundingClientRect();\n                var dynamicRect = dynamicLabel.getBoundingClientRect();\n\n                if (isVerticalIntersect(dynamicRect, staticRect)) {\n\n                    if (isLeftIntersect(dynamicRect, staticRect)) {\n                        moveLeft(dynamicLabel, dynamicRect, staticRect);\n                        moved = true;\n                    }\n                    else if (isRightIntersect(dynamicRect, staticRect)) {\n                        moveRight(dynamicLabel, dynamicRect, staticRect);\n                        moved = true;\n                    }\n                    else if (isMiddleIntersect(dynamicRect, staticRect)) {\n                        moveDown(dynamicLabel, dynamicRect, staticRect);\n                        moved = true;\n                    }\n\n                    if (moved) {\n                        var newList = labelsList.slice(0);\n                        newList.splice(newList.indexOf(staticLabel), 1);\n                        this.labelsOverlapDetection(dynamicLabel, newList);    \n                        \n                        if (dynamicLabel.causeStacking && staticLabel.causeStacking) {\n                            needToStackLabels = true;\n                        }\n\n                        // We don't want that after the labels have been stacked, only one of them will move alone.\n                        if (dynamicLabel.causeStacking && this.labelsStacked) {\n                            this.stackLabels(this.labels);\n                        }\n                    }\n                }\n            }\n        }\n\n        return needToStackLabels;\n    };\n\n    proto.stackLabels = function(labels) { \n        var topLabel = this.lines.xyz.label;\n\n        for (var i = 1; i < labels.length; i++) {\n            if (labels[i].causeStacking) {\n                labels[i].style.left = topLabel.style.left;\n            \n                var rect = labels[i-1].getBoundingClientRect();\n                var space = (labels[i-1] == topLabel) ? _labelsSpace : 0;\n                var top = (labels[i] === topLabel) ? topLabel.style.top : labels[i-1].style.top;\n                labels[i].style.top = parseInt(top, 10) + rect.height + space + 'px';\n            }\n            labels[i].style.transform = '';\n        }\n\n        this.labelsStacked = true;\n    };\n\n    proto.drawXYZLine = function(item) {\n        var self = this;\n\n        var p1 = item.p1;\n        var p2 = item.p2;\n\n        if (!p1 || !p2)\n            return;\n\n        var tmpVec = new THREE.Vector3();\n        var geometry = item.geometry = new THREE.Geometry();\n        var direction = new THREE.Vector3().subVectors(p2, p1).normalize();\n        var normal = direction.clone().cross(self.viewer.navigation.getEyeVector()).normalize();\n        var point = MeasureCommon.nearestPointInPointToSegment(self.viewer.navigation.getPosition(), p1, p2);\n        var scale = self.setScale(point);\n\n        item.line = this.drawLineSegment(p1, p2, _segmentWidth, item.material);\n        item.visible = true;\n\n        this.segments.push(item);\n        \n        function drawTip(p) {\n            geometry.vertices = [];\n\n            // Edge\n            tmpVec.addVectors(p, normal.clone().multiplyScalar(_tipHeight * scale));\n            geometry.vertices[0] = tmpVec.clone();\n            tmpVec.subVectors(p, normal.clone().multiplyScalar(_tipHeight * scale));\n            geometry.vertices[1] = tmpVec.clone();\n            var line = self.drawLineAsCylinder(geometry, item.material, _tipWidth, self.overlayName);\n            self.setCylinderScale(line, p1 ,p2);\n            line.visible = true;\n            item.tips.push(line);\n        }\n\n        if (self.showMeasureResult) {\n            item.tips = [];\n\n            drawTip(p1);\n            drawTip(p2);    \n        }        \n    };\n\n    proto.redrawDashedLine = function() {\n        if (!this.dashedLine.p1 || !this.dashedLine.p2)\n            return;\n\n        this.viewer.impl.removeMultipleOverlays(this.overlayName, this.dashedLine.line);\n        \n        var p1Scale = this.setScale(this.dashedLine.p2);\n        var dashSize = _dashSize * p1Scale;\n        var gapSize = _gapSize * p1Scale;\n        this.dashedLine.line = this.drawDashedLine(this.dashedLine.p2, this.dashedLine.p1, dashSize, gapSize, this.lines.xyz.material, _dashedSegmentWidth, this.overlayName);\n\n        return this.dashedLine.line;\n    }; \n\n    proto.drawLineSegment = function(p1, p2, width, material, isDashedLine) {\n        var line;\n\n        if (isDashedLine) {\n            this.dashedLine.p1 = p1;\n            this.dashedLine.p2 = p2;\n            line = this.redrawDashedLine();\n        } else {\n            var geometry = new THREE.Geometry();\n            geometry.vertices.push(p1);\n            geometry.vertices.push(p2);\n            line = this.drawLineAsCylinder(geometry, material, width, this.overlayName);\n            this.setCylinderScale(line, p1, p2);\n        }\n\n        line.visible = true;\n\n        return line;\n    };\n\n    proto.drawSurface = function(points) {\n\n        const cg = Autodesk.Viewing.Extensions.CompGeom;\n\n        let cset = new cg.ContourSet();\n\n        cset.addContour(points);\n\n        cset.triangulate();\n\n        if (cset.triangulationFailed)\n            return false;\n\n        let bufferGeometry = cset.toPolygonMesh();\n\n        var face = new THREE.Mesh(bufferGeometry, this.surfaceColor);\n\n        this.viewer.impl.addOverlay(this.overlayName, face);\n\n        return true;\n    };\n\n    proto.drawSegmentAndPush = function(p1, p2, isDashedLine) {\n        if (!p1 || !p2) {\n            return;\n        }\n\n         var line = this.drawLineSegment(p1, p2, _segmentWidth, this.lines.xyz.material, isDashedLine);\n            \n        if (!isDashedLine) {\n            var item = { line: line, p1: p1, p2: p2 };\n            this.segments.push(item);    \n        }\n    };\n\n    proto.renderAreaMeasurement = function(picks) {\n\n        var count = this.measurement.countPicks();\n        var p1, p2;\n\n        var points = [];\n        \n        for (var i = 1; i < count; i++) {\n            p1 = MeasureCommon.getSnapResultPosition(picks[i], this.viewer);\n            p2 = MeasureCommon.getSnapResultPosition(picks[i + 1], this.viewer);\n\n            this.drawSegmentAndPush(p1, p2);\n            points.push(p1);\n        }\n\n        if (count > 2) {\n            // Draw last line\n            p1 = MeasureCommon.getSnapResultPosition(picks[1], this.viewer);\n            this.drawSegmentAndPush(p1, p2, !this.measurement.closedArea);\n            \n            if(!MeasureCommon.isEqualVectors(p1,p2,MeasureCommon.EPSILON)){\n                points.push(p2);\n            }\n            \n            if (this.measurement.area !== 0) {\n                //Draw surface will return false if it failed to triangulate the polygon (e.g. it has self-intersections)\n                if (this.drawSurface(points)) {\n                    this.showAreaLabel(getPolygonVisualCenter(points));\n                    this.updateArea();\n                }\n            }\n        }        \n    };\n\n    proto.clearAngleMeshes = function() {\n        if (this.angleArc) {\n            this.viewer.impl.removeOverlay(this.overlayName, this.angleArc);\n            this.angleArc = null;\n        }\n        if (this.angleOutline.length > 0) {\n            this.viewer.impl.removeMultipleOverlays(this.overlayName, this.angleOutline);\n            this.angleOutline.length = 0;\n        }\n    };\n\n    proto.drawAngle = function(p, ep1, ep2, n, angle, midPoint) {\n\n        var smallNum = 0.001;\n\n        if (!this.materialAngle) {\n\n            this.materialAngle = new THREE.MeshPhongMaterial({\n                    color: 0x999999,\n                    ambient: 0x999999,\n                    opacity: 0.5,\n                    transparent: true,\n                    depthTest: false,\n                    depthWrite: false,\n                    side: THREE.DoubleSide\n                }\n            );\n\n            this.materialAngleOutline = new THREE.MeshBasicMaterial({\n                color: 0xFF9900,\n                depthTest: false,\n                depthWrite: false\n            });\n\n        }\n\n        MeasureCommon.createCommonOverlay(this.viewer, this.overlayName);\n        this.clearAngleMeshes();\n\n        // draw arc of angle\n        var radius = Math.min(p.distanceTo(ep1), p.distanceTo(ep2)) / 4;\n        var segments = 100;\n        //angle = angle * Math.PI / 180;\n\n        var circleGeometry = new THREE.CircleGeometry(radius, segments, 0, angle * Math.PI / 180);\n        var arc = new THREE.Mesh(circleGeometry, this.surfaceColor);\n\n        var center = arc.geometry.vertices[0].clone();\n        arc.geometry.vertices.push(center);\n\n\n        // Translate and rotate the arc to the plane where it should lie in\n        arc.position.set(p.x, p.y, p.z);\n        var V = arc.position.clone();\n        V.add(n);\n        arc.lookAt(V);\n        arc.updateMatrixWorld();\n\n\n        // Rotate the arc in the plane to the right place\n        var vA = arc.geometry.vertices[1].clone();\n        var vB = arc.geometry.vertices[arc.geometry.vertices.length - 2].clone();\n        vA.applyMatrix4(arc.matrixWorld);\n        vB.applyMatrix4(arc.matrixWorld);\n\n        var v1 = new THREE.Vector3();\n        var v2 = new THREE.Vector3();\n        var v3 = new THREE.Vector3();\n        var v4 = new THREE.Vector3();\n        v1.subVectors(vA, p);\n        v2.subVectors(vB, p);\n        v3.subVectors(ep1, p);\n        v4.subVectors(ep2, p);\n\n        var a13 = v1.angleTo(v3);\n        var a14 = v1.angleTo(v4);\n        var a23 = v2.angleTo(v3);\n        var a24 = v2.angleTo(v4);\n\n        //console.log(a13 * 180 / Math.PI + \" \" + a14 * 180 / Math.PI + \" \" + a23 * 180 / Math.PI + \" \" + a24 * 180 / Math.PI);\n\n        var ra;\n        // The arc is in the right place\n        if (((a13 <= smallNum && a13 >= -smallNum) || (a14 <= smallNum && a14 >= -smallNum))\n            && ((a23 <= smallNum && a23 >= -smallNum) || (a24 <= smallNum && a24 >= -smallNum))) {\n\n            ra =0;\n        }\n        // The arc needs to be rotated 180 degree to the right place\n        else if (((a13 <= Math.PI + smallNum && a13 >= Math.PI - smallNum) || (a14 <= Math.PI + smallNum && a14 >= Math.PI - smallNum))\n            && ((a23 <= Math.PI + smallNum && a23 >= Math.PI - smallNum) || (a24 <= Math.PI + smallNum && a24 >= Math.PI - smallNum))) {\n\n            ra = Math.PI;\n        }\n        // The arc needs to be rotated a13 radian\n        else if ((a13 <= a23 + smallNum && a13 >= a23 - smallNum) || (a13 <= a24 + smallNum && a13 >= a24 - smallNum)) {\n\n            ra = a13;\n        }\n        // The arc needs to be rotated a14 radian\n        else {\n\n            ra = a14;\n        }\n\n        var rotWorldMatrix = new THREE.Matrix4();\n        rotWorldMatrix.makeRotationAxis(n, ra);\n        //arc.matrix.multiply(rotWorldMatrix);\n        rotWorldMatrix.multiply(arc.matrix);\n        arc.matrix = rotWorldMatrix;\n        arc.rotation.setFromRotationMatrix(arc.matrix);\n\n        // Check if rotate to the wrong direction, if so, rotate back twice of the degree\n        arc.updateMatrixWorld();\n        vA = arc.geometry.vertices[1].clone();\n        vB = arc.geometry.vertices[arc.geometry.vertices.length - 2].clone();\n        vA.applyMatrix4(arc.matrixWorld);\n        vB.applyMatrix4(arc.matrixWorld);\n\n        v1.subVectors(vA, p);\n        v2.subVectors(vB, p);\n\n        a13 = v1.angleTo(v3);\n        a14 = v1.angleTo(v4);\n        a23 = v2.angleTo(v3);\n        a24 = v2.angleTo(v4);\n\n        //console.log(a13 * 180 / Math.PI + \" \" + a14 * 180 / Math.PI + \" \" + a23 * 180 / Math.PI + \" \" + a24 * 180 / Math.PI);\n\n        if (a13 >= smallNum && a14 >= smallNum) {\n\n            rotWorldMatrix = new THREE.Matrix4();\n            rotWorldMatrix.makeRotationAxis(n, - ra * 2);\n            //arc.matrix.multiply(rotWorldMatrix);\n            rotWorldMatrix.multiply(arc.matrix);\n            arc.matrix = rotWorldMatrix;\n            arc.rotation.setFromRotationMatrix(arc.matrix);\n        }\n\n        // draw outline of the arc\n        var outlineGeometry = new THREE.CircleGeometry(radius, segments, 0, angle * Math.PI / 180);\n        outlineGeometry.vertices.splice(0, 1);\n        arc.updateMatrixWorld();\n        outlineGeometry.applyMatrix(arc.matrixWorld);\n        this.angleOutline = this.drawEdgeAsCylinder(outlineGeometry, this.lines.xyz.material, _angleArcWidth, 0, this.getNewCylinderGeometry());\n\n        this.angleArc = arc;\n        this.viewer.impl.addOverlay(this.overlayName, this.angleArc);\n        this.viewer.impl.addMultipleOverlays(this.overlayName, this.angleOutline);\n\n        // This is used for angle label's position\n        midPoint.copy(arc.geometry.vertices[Math.round(arc.geometry.vertices.length / 2) - 1]);\n        midPoint.applyMatrix4(arc.matrixWorld);\n        var dir = new THREE.Vector3();\n        dir.subVectors(midPoint, p).normalize();\n        dir.multiplyScalar(radius / 2);\n        midPoint.add(dir);\n    };\n\n    proto.renderAngleMeasurement = function(picks) {\n\n        var count = this.measurement.countPicks();\n        var p1, p2;\n\n        var points = [];\n        \n        for (var i = 1; i < count; i++) {\n            p1 = MeasureCommon.getSnapResultPosition(picks[i], this.viewer);\n            p2 = MeasureCommon.getSnapResultPosition(picks[i + 1], this.viewer);\n\n            this.drawSegmentAndPush(p1, p2);\n\n            if (p1) {\n                points.push(p1);    \n            }\n        }\n\n        if (p2) {\n            points.push(p2);\n        }\n        \n        if (points.length === 3 && this.measurement.angle) {\n            var n = new THREE.Vector3();\n            var v1 = new THREE.Vector3();\n            var v2 = new THREE.Vector3();\n            v1.subVectors(points[0], points[1]);\n            v2.subVectors(points[1], points[2]);\n            n.crossVectors(v1, v2);\n            n.normalize();\n\n            var midPoint = new THREE.Vector3();\n            this.drawAngle(points[1], points[0], points[2], n, this.measurement.angle, midPoint);\n            this.showAngleLabel(midPoint);\n            this.updateAngle();\n        }        \n    };\n\n    proto.createDistanceLabel = function(item) {\n        var label = item.label = this.createMeasurementLabel();\n        \n        setVisibilityMeasurementLabelText(label, item === this.lines.xyz);\n\n        const _document = this.getDocument();\n        // Override main label when displaying only an axis label (X, Y or Z)\n        if (item.axis) {\n            label.className = item.className;\n            var axisIcon = _document.createElement('div');\n            axisIcon.className = 'measure-label-axis-icon ' + item.iconText;\n            axisIcon.innerText = item.iconText;\n            label.insertBefore(axisIcon, label.firstChild);\n\n            if (!av.isMobileDevice()) {\n                MeasureCommon.safeToggle(label, 'enableTransition', true);\n            }\n        }\n\n        this.viewer.container.appendChild(label);\n\n        return label;\n    };\n\n    // Draw distance measurement\n    proto.renderDistanceMeasurement = function(p1, p2)\n    {\n        var self = this;\n\n        function updateLine(item, x1, y1, z1, x2, y2, z2, showAxis) {\n            var line = item.line,\n                label = item.label,\n                p1 = new THREE.Vector3(x1, y1, z1),\n                p2 = new THREE.Vector3(x2, y2, z2);\n\n            // Swap points if needed to have consistent axis directions.\n            var tmpVec;\n            if (item === self.lines.x && p2.x > p1.x) {\n                tmpVec = p1.clone();\n                p1 = p2.clone();\n                p2 = tmpVec.clone();\n            } \n            else if (item === self.lines.y && p2.y > p1.y) {\n                tmpVec = p1.clone();\n                p1 = p2.clone();\n                p2 = tmpVec.clone();\n            } \n            else if (item === self.lines.z && p2.z > p1.z) {\n                tmpVec = p1.clone();\n                p1 = p2.clone();\n                p2 = tmpVec.clone();\n            }\n\n            item.line = null;            \n\n            if (!label) {\n                label = self.createDistanceLabel(item);\n            }\n            else {\n                self.hideLabel(label);\n            }\n            \n            if (((self.isLeaflet && item !== self.lines.z) || (p1.distanceTo(p2) >= MeasureCommon.EPSILON)) && showAxis) {\n\n                item.p1 = p1;\n                item.p2 = p2;\n\n                if (item === self.lines.xyz) {\n                    self.drawXYZLine(item);\n                    self.showLabel(label);\n                    self.updateDistance();\n                }\n                else {\n                    line = item.line = self.drawLineSegment(p1, p2, _axisLineWidth, item.material);\n                    var show = !self.simple && self.showMeasureResult;\n\n                    line.visible = show;\n                    item.visible = show;\n\n                    if (show) {\n                        self.showLabel(label);\n                    }\n                    else {\n                        self.hideLabel(label);\n                    }\n                }\n            }\n        }\n\n        // If the line aligns with one of axis, then don't show axis\n        function displayAxis(p1, p2) {\n            self.tmpVector.subVectors(p1, p2);\n            self.tmpVector.normalize();\n\n            return !MeasureCommon.isParallel(self.tmpVector, self.xAxis) && !MeasureCommon.isParallel(self.tmpVector, self.yAxis) && !MeasureCommon.isParallel(self.tmpVector, self.zAxis);\n        }\n\n        updateLine(this.lines.xyz, p1.x, p1.y, p1.z, p2.x, p2.y, p2.z, true);\n\n        var up = this.viewer.navigation.getAlignedUpVector(),\n            x = Math.abs(up.x),\n            y = Math.abs(up.y),\n            z = Math.abs(up.z);\n\n        var showAxis = displayAxis(p1, p2);\n\n        if (z > x && z > y) { // z up\n            updateLine(this.lines.x, p1.x, p1.y, p1.z, p2.x, p1.y, p1.z, showAxis);\n            updateLine(this.lines.y, p2.x, p1.y, p1.z, p2.x, p2.y, p1.z, showAxis);\n            updateLine(this.lines.z, p2.x, p2.y, p1.z, p2.x, p2.y, p2.z, showAxis);\n\n        } else if (y > x && y > z) { // y up\n            updateLine(this.lines.x, p1.x, p1.y, p1.z, p2.x, p1.y, p1.z, showAxis);\n            updateLine(this.lines.z, p2.x, p1.y, p1.z, p2.x, p1.y, p2.z, showAxis);\n            updateLine(this.lines.y, p2.x, p1.y, p2.z, p2.x, p2.y, p2.z, showAxis);\n\n        } else { // x up - do we ever see this?\n            updateLine(this.lines.y, p1.x, p1.y, p1.z, p1.x, p2.y, p1.z, showAxis);\n            updateLine(this.lines.z, p1.x, p2.y, p1.z, p1.x, p2.y, p2.z, showAxis);\n            updateLine(this.lines.x, p1.x, p2.y, p2.z, p2.x, p2.y, p2.z, showAxis);\n        }\n\n    };\n\n    proto.updateResults = function() {\n        this.updateDistance();\n        this.updateAngle();\n        this.updateArea();\n        \n        setTimeout(function(){\n            // This can get called after the viewer is unloaded\n            if (this.viewer.impl)\n                this.updateLabelsPosition();\n        }.bind(this), 0);\n    };\n\n    // Update distance measurement label\n    proto.updateDistance = function() {\n\n        function setWidth(label, value) {\n            if (!label) return;\n            label.style.width = value;\n        }\n\n        function getWidth(label) {\n            return label ? label.clientWidth : 0;\n        }\n\n        Object.keys(this.lines).forEach(function(name) {\n            setWidth(this.lines[name].label, '');\n        }.bind(this));\n        \n        setDeltaMeasurementLabelText(this.lines.x.label, \"~ \" + this.measureTool.getDistanceX(this.measurement));\n        setDeltaMeasurementLabelText(this.lines.y.label, \"~ \" + this.measureTool.getDistanceY(this.measurement));\n        setDeltaMeasurementLabelText(this.lines.z.label, \"~ \" + this.measureTool.getDistanceZ(this.measurement));\n        setValueMeasurementLabelText(this.lines.xyz.label, \"~ \" + this.measureTool.getDistanceXYZ(this.measurement));\n\n        if (this.viewer.model && this.viewer.model.is3d()) {\n            setTimeout(function(){\n                var maxWidth = Math.max(getWidth(this.lines.x.label), getWidth(this.lines.y.label), getWidth(this.lines.z.label), getWidth(this.lines.xyz.label));                \n                Object.keys(this.lines).forEach(function(name) {\n                    setWidth(this.lines[name].label, maxWidth + 'px');\n                }.bind(this));\n            }.bind(this), 0);\n        }\n    };\n\n    // Update angle measurement label\n    proto.updateAngle = function() {\n        setValueMeasurementLabelText(this.angleLabel.label, \"~ \" + this.measureTool.getAngle(this.measurement));\n    };\n\n    // Update area measurement label\n    proto.updateArea = function() {\n        setValueMeasurementLabelText(this.areaLabel.label, \"~ \" + this.measureTool.getArea(this.measurement));\n    };\n\n    // Set if collapse or expand the xyz delta distance\n    proto.setSimple = function(simple) {\n        if (this.simple != simple) {\n            this.simple = simple;\n\n            var isVisible = !simple;\n            this.setLineVisible(this.lines.x, isVisible);\n            this.setLineVisible(this.lines.y, isVisible);\n            this.setLineVisible(this.lines.z, isVisible);\n\n            this.updateLabelsPosition();\n\n            this.viewer.impl.invalidate(false, false, /*overlayDirty=*/true);\n        }\n    };\n\n    proto.setLineVisible = function(item, isVisible) {\n        if (item.line) {\n            item.line.visible = isVisible;\n            item.visible = isVisible;\n\n            if (item.label) {\n                if (isVisible) {\n                    this.showLabel(item.label);\n                }\n                else {\n                    this.hideLabel(item.label);\n                    item.label.style.opacity = 0;\n                }\n            }\n        }\n    };\n\n    proto.enableLabelsTouchEvents = function(enable) {\n        var value = enable ? 'all' : 'none';\n\n        if (this.lines.xyz.label) {\n            this.lines.xyz.label.style.pointerEvents = value;   \n        }\n\n        if (this.angleLabel.label) {\n            this.angleLabel.label.style.pointerEvents = value;   \n        }\n\n        if (this.areaLabel.label) {\n            this.areaLabel.label.style.pointerEvents = value;\n        }\n    };\n\n    proto.setLabelsZIndex = function(zIndex) {\n        for (var name in this.lines) {\n            if (this.lines.hasOwnProperty(name)) {\n                var item = this.lines[name];\n                if (item.label) {\n                    item.label.style.zIndex = zIndex;\n                }\n            }\n        }\n\n        if (this.angleLabel && this.angleLabel.label) {\n            this.angleLabel.label.style.zIndex = zIndex;    \n        }\n\n        if (this.areaLabel && this.areaLabel.label) {\n            this.areaLabel.label.style.zIndex = zIndex;    \n        }\n\n        for (name in this.endpoints) {\n            if (this.endpoints.hasOwnProperty(name)) {\n                var endpoint = this.endpoints[name];\n                if (endpoint.label) {\n                    endpoint.label.style.zIndex = zIndex - 1;\n                }\n            }\n        }\n    };\n\n    proto.focusLabels = function() {\n        this.setLabelsZIndex(3);\n    };\n\n    proto.unfocusLabels = function() {\n        this.setLabelsZIndex(2);\n    };\n\n    proto.clear = function() {\n        var name;\n\n        for (name in this.endpoints) {\n            if (this.endpoints.hasOwnProperty(name)) {\n                var endpoint = this.endpoints[name];\n                if (endpoint.label) {\n                    this.hideLabel(endpoint.label);\n                }\n            }\n        }\n\n        for (name in this.lines) {\n            if (this.lines.hasOwnProperty(name)) {\n                var item = this.lines[name];\n                if (item.line) {\n                    item.line.visible = false;\n                    item.visible = false;\n\n                    item.tips && item.tips.forEach(function(tip) {\n                        tip.visible = false;\n                    });\n                }\n                if (item.label) {\n                    this.hideLabel(item.label);\n                    item.label.style.opacity = 0;\n                    item.label.style.zIndex = 2;\n                }\n            }\n        }\n\n        if (this.angleLabel && this.angleLabel.label) {\n            this.hideLabel(this.angleLabel.label);\n        }\n\n        if (this.areaLabel && this.areaLabel.label) {\n            this.hideLabel(this.areaLabel.label);\n        }\n        \n        this.clearSelectionAreas();\n\n        this.segments = [];\n        this.dashedLine = {};\n\n        this.viewer.impl.clearOverlay(this.overlayName);\n        MeasureCommon.createCommonOverlay(this.viewer, this.overlayName);\n    };\n\n    proto.hideClick = function(pickNumber) {\n\n        Indicator.prototype.hideClick.call(this, pickNumber);\n\n        for (var name in this.lines) {\n            if (this.lines.hasOwnProperty(name)) {\n                var item = this.lines[name];\n                if (item.line) {\n                    item.line.visible = false;\n                    item.visible = false;\n\n                    item.tips && item.tips.forEach(function(tip) {\n                        tip.visible = false;\n                    });\n                }\n                if (item.label) {\n                    this.hideLabel(item.label);\n                    item.label.style.opacity = 0;\n                }\n            }\n        }\n\n        if (this.angleLabel && this.angleLabel.label) {\n            this.hideLabel(this.angleLabel.label);\n        }\n\n        if (this.areaLabel && this.areaLabel.label) {\n            this.hideLabel(this.areaLabel.label);\n        }\n\n        this.enableSelectionAreas(item.selectionArea, false);\n    };\n\n    proto.destroy = function() {\n        var name;\n\n        Indicator.prototype.destroy.call(this);\n\n        for (name in this.lines) {\n            if (this.lines.hasOwnProperty(name)) {\n                var item = this.lines[name];\n                if (item.line) {\n                    this.viewer.impl.clearOverlay(self.overlayName);\n                    item.material = item.line = item.geometry = null;\n                }\n\n                if (item.label) {\n                    if (name === 'xyz') {\n                        item.label.addEventListener('mousewheel', this.viewer.toolController.mousewheel);\n                        item.label.removeEventListener('click', this.onSelectionAreaClickedBinded);    \n                    }\n\n                    item.label.parentNode.removeChild(item.label);\n                    item.label = null;\n                }\n                item.material = item.line = item.geometry = item.label = item.p1 = item.p2 = null;\n            }\n        }\n\n        this.clearAngleMeshes();\n        \n        if (this.angleLabel && this.angleLabel.label) {\n            this.angleLabel.label.parentNode.removeChild(this.angleLabel.label);\n            this.angleLabel.label.removeEventListener('mousewheel', this.viewer.toolController.mousewheel);\n            this.angleLabel.label.removeEventListener('click', this.onSelectionAreaClickedBinded);\n             this.angleLabel.label = this.angleLabel.p1 = this.angleLabel.p2 = null;\n        }\n\n        \n\n        if (this.areaLabel && this.areaLabel.label) {\n            this.areaLabel.label.parentNode.removeChild(this.areaLabel.label);\n            this.areaLabel.label.removeEventListener('mousewheel', this.viewer.toolController.mousewheel);\n            this.areaLabel.label.removeEventListener('click', this.onSelectionAreaClickedBinded);\n            this.areaLabel.label = this.areaLabel.p1 = this.areaLabel.p2 = null;\n        }\n        \n        \n\n        if (this.viewer.impl.overlayScenes[this.overlayName]){\n            this.viewer.impl.removeOverlayScene(this.overlayName);\n        }\n\n        this.viewer.removeEventListener(av.CAMERA_CHANGE_EVENT, this.onCameraChangeBinded);\n        this.removeWindowEventListener('mouseup', this.handleButtonUpBinded);\n    };\n\n    proto.clearXYZLine = function() {\n        this.viewer.impl.removeOverlay(this.overlayName, this.lines.xyz.line);\n\n        this.lines.xyz.tips && this.lines.xyz.tips.forEach(function(tip) {\n            this.viewer.impl.removeOverlay(this.overlayName, tip);\n        }.bind(this));\n    };\n\n    // Update scale for vertex, edge, line and extension dash line\n    proto.updateScale = function() {\n        var name;\n\n        this.angleOutline.forEach(cylinderMesh => this.setCylinderScale(cylinderMesh));\n\n        for (name in this.lines) {\n            if (this.lines.hasOwnProperty(name)) {\n                var item = this.lines[name];\n                if (item.line && item !== this.lines.xyz) {\n                    this.setCylinderScale(item.line, item.p1, item.p2);\n                }\n            }\n        }\n        \n        for (name in this.segments) {\n            if (this.segments.hasOwnProperty(name)) {\n                var segment = this.segments[name];\n                if (segment.line) {\n                    this.setCylinderScale(segment.line, segment.p1, segment.p2);\n                } \n            }\n        }\n        \n        if (this.measurement.measurementType === MeasureCommon.MeasurementTypes.MEASUREMENT_DISTANCE) {\n            if (this.measurement.isComplete()) {\n                this.clearXYZLine();\n                this.drawXYZLine(this.lines.xyz);\n            }\n        }\n    };\n\n    proto.setNoTopology = function(){\n        this.topologyStatus = TOPOLOGY_NOT_AVAILABLE;\n        if (this.lines.xyz.label) {\n            setVisibilityMeasurementLabelSpinner(this.lines.xyz.label, false, this.topologyStatus);\n            this.lines.xyz.label.classList.remove('fetching-topology');\n        }\n    };\n    proto.setFetchingTopology = function() {\n        this.topologyStatus = TOPOLOGY_FETCHING;\n        if (this.lines.xyz.label) {\n            setVisibilityMeasurementLabelSpinner(this.lines.xyz.label, true, this.topologyStatus);\n                this.lines.xyz.label.classList.add('fetching-topology');\n        }\n    };\n    proto.setTopologyAvailable = function() {\n        this.topologyStatus = TOPOLOGY_AVAILABLE;\n        if (this.lines.xyz.label) {\n            setVisibilityMeasurementLabelSpinner(this.lines.xyz.label, false, this.topologyStatus);\n            this.lines.xyz.label.classList.remove('fetching-topology');\n        }\n    };\n\n    proto.createMeasurementLabel = function() {\n      \n        const _document = this.getDocument();\n\n        var label = _document.createElement('div');\n        label.className = 'measure-length';\n        \n        var spinner = _document.createElement('div');\n        spinner.className = 'measure-fetching-topology';\n        spinner.style.display = 'none';\n        label.appendChild(spinner);\n\n        var text = _document.createElement('div');\n        text.className = 'measure-length-text';\n        label.appendChild(text);    \n\n        var delta = _document.createElement('div');\n        delta.className = 'measure-delta-text';\n        label.appendChild(delta);\n\n        label.causeStacking = true;\n        \n        if (!av.isMobileDevice()) {\n            MeasureCommon.safeToggle(label, 'enable-hover', true);\n        }\n\n        return label;\n    };\n\n    // Receives an object created with createMeasurementLabel()\n    function setVisibilityMeasurementLabelText(label, isVisible) {\n        var div = label.querySelector('.measure-length-text');\n        div && (div.style.display = isVisible ? '' : 'none');\n    }\n\n    // Receives an object created with createMeasurementLabel()\n    function setValueMeasurementLabelText(label, strValue) {\n        if (!label) return;\n        var div = label.querySelector('.measure-length-text');\n        div && (div.textContent = strValue);\n    }\n\n    // Receives an object created with createMeasurementLabel()\n    function setDeltaMeasurementLabelText(label, strValue) {\n        if (!label) return;\n        var div = label.querySelector('.measure-delta-text');\n        div && (div.textContent = strValue);\n    }\n\n    // Receives an object created with createMeasurementLabel()\n    function setVisibilityMeasurementLabelSpinner(label, isVisible, topologyStatus) {\n        if (!label) return;\n        var div = label.querySelector('.measure-fetching-topology');\n        div && (div.style.display = \n            (isVisible && topologyStatus === TOPOLOGY_FETCHING) ? 'inline-block' : 'none');\n    }\n\n    /**\n     * Helper function that creates the label used for (1) and (2),\n     * which are the 2 mouse clicks for the measurement.\n     */\n    proto.createSnapResultLabel = function(pointNumber) {\n        const _document = this.getDocument();\n\n        var label = _document.createElement('div');\n        label.className = 'measure-label';\n\n        var label_icon = _document.createElement('div');\n        label_icon.className = 'measure-label-icon';\n        label.appendChild(label_icon);\n\n        if (av.isTouchDevice()) {\n            this.initLabelMobileGestures(label, pointNumber, this.measureTool);\n            var hitArea = _document.createElement('div');\n            hitArea.className = 'measure-label-hit-area';\n            label.appendChild(hitArea);                      \n        } \n         \n        if (!av.isMobileDevice()) {\n            this.initMouseEvent(label, pointNumber);\n\n            label.addEventListener('mousewheel', this.viewer.toolController.mousewheel);\n            MeasureCommon.safeToggle(label, 'enable-hover', true);  \n        }\n        \n \n        label.causeStacking = false;\n        \n        return label;\n    };\n\n    proto.showAngleLabel = function(midPoint) {\n\n            var label = this.angleLabel.label;\n\n            if (!label) {\n                label = this.angleLabel.label = this.createMeasurementLabel();\n                this.viewer.container.appendChild(label);\n                label.addEventListener('mousewheel', this.viewer.toolController.mousewheel);\n                label.addEventListener('click', this.onSelectionAreaClickedBinded);\n            }\n\n            this.updateAngle();\n            this.showLabel(label);\n\n            this.angleLabel.p1 = midPoint.clone();\n            this.angleLabel.p2 = midPoint.clone();\n\n    };\n\n    proto.showAreaLabel = function(midPoint) {\n\n            var label = this.areaLabel.label;\n\n            if (!label) {\n                label = this.areaLabel.label = this.createMeasurementLabel();\n                this.viewer.container.appendChild(label);\n                label.addEventListener('mousewheel', this.viewer.toolController.mousewheel);\n                label.addEventListener('click', this.onSelectionAreaClickedBinded);\n            }\n\n            this.updateArea();\n            this.showLabel(label);\n\n            this.areaLabel.p1 = midPoint;\n            this.areaLabel.p2 = midPoint;\n\n    };\n\n    proto.onSelectionAreaClicked = function() {\n        this.measureTool.selectMeasurementById(this.measurement.id);\n    };\n\n    proto.createSelectionArea = function() {\n        const _document = this.getDocument();\n        var selectionArea = _document.createElement('div');\n        selectionArea.id = 'measurement-selection-area-' + this.measurement.id;\n        this.viewer.container.appendChild(selectionArea);\n        selectionArea.className = 'measure-selection-area';\n        selectionArea.style.display = 'none';\n        selectionArea.addEventListener('mousewheel', this.viewer.toolController.mousewheel);\n        selectionArea.addEventListener('click', this.onSelectionAreaClickedBinded);\n        return selectionArea;\n    };\n\n    proto.updateSelectionArea = function() {\n\n        this.segments.forEach(function(item) \n        {\n            if (item.p1 && item.p2) {\n                var p1 = MeasureCommon.project(item.p1, this.viewer);\n                var p2 = MeasureCommon.project(item.p2, this.viewer);\n\n                if (!item.selectionArea) {\n                    item.selectionArea = this.createSelectionArea();\n                }\n\n                var selectionArea = item.selectionArea;\n\n                var v = new THREE.Vector2();\n\n                selectionArea.style.top = (p1.y - (_selectorAreaSize / 2)) + 'px';\n                selectionArea.style.left = p1.x  + 'px';\n                selectionArea.style.width = v.subVectors(p1, p2).length() + 'px';\n                selectionArea.style.height = _selectorAreaSize + 'px';\n\n                var angle = null;\n                var deltaX = p1.x - p2.x;\n                var deltaY = p1.y - p2.y;\n\n                angle =  Math.atan2(-deltaY , -deltaX) * 180 / Math.PI;    \n\n                selectionArea.style.transform = 'rotate('+ angle +'deg)';\n                selectionArea.style.transformOrigin = '0px ' + (_selectorAreaSize / 2) + 'px';\n            }\n        }.bind(this));\n\n        if (this.measureTool.areAllPicksSet()) {\n            this.enableSelectionAreas(true);    \n        }\n    };\n\n    proto.clearSelectionAreas = function() {\n        const _document = this.getDocument();\n        this.segments.forEach(function(item) \n        {  \n            if (item.selectionArea) {\n                item.selectionArea.removeEventListener('mousewheel', this.viewer.toolController.mousewheel);\n                item.selectionArea.removeEventListener('click', this.onSelectionAreaClickedBinded);\n                var element = _document.getElementById('measurement-selection-area-' + this.measurement.id);\n                if (element) {\n                    element.parentNode.removeChild(element);\n                }\n                item.selectionArea = null;\n            }\n        }.bind(this));\n    };\n\n    proto.enableSelectionAreas = function(enable) {\n        this.segments.forEach(function(item) \n        {   \n            if (item.selectionArea) {\n                if (enable) {\n                    item.selectionArea.style.display = 'block';\n                } \n                else {\n                    item.selectionArea.style.display = 'none';\n                }\n            }\n        }.bind(this));\n    };\n\n    proto.render = function(picks, showMeasureResult) {\n        Indicator.prototype.render.call(this, picks, showMeasureResult);\n\n        this.updateSelectionArea();\n    };\n\n    proto.onCameraChange = function() {\n        this.redrawDashedLine();\n        this.updateSelectionArea();\n        this.hideLabelsOutsideOfView();\n        this.updateLabelsPosition();\n    };\n\n    proto.handleResize = function() {\n        this.redrawDashedLine();\n        this.updateSelectionArea();\n        this.updateLabelsPosition();\n    };\n\n","import { MeasurementsManager } from './MeasurementsManager'\nimport { MeasureToolIndicator } from './MeasureToolIndicator'\n\nconst av = Autodesk.Viewing;\n\n//\n// /** @constructor */\n//\n//\nexport function MeasureTool( viewer, options, sharedMeasureConfig, snapper )\n{\n    var _viewer  = viewer;\n    var _options = options || {};\n    var _names  = [\"measure\"];\n    var _priority = 50;\n\n    this.setGlobalManager(viewer.globalManager);\n\n    // Shared State with CalibrationTool and Indicator\n    var _sharedMeasureConfig = sharedMeasureConfig;\n\n    var av = Autodesk.Viewing;\n    var avem = Autodesk.Viewing.Extensions.Measure;\n    var MeasureCommon = Autodesk.Viewing.MeasureCommon;\n    \n    // Not shared with Indicator.js\n    var _active = false;\n    var _isDragging = false;\n    var _endpointMoved = false;\n    var _activePoint = 0;\n    var _consumeSingleClick = false;\n    var _singleClickHandled = false;\n    var _downX = null;\n    var _downY = null;\n    var _isolateMeasure = false;\n\n    var _measurementsManager = new MeasurementsManager(_viewer);\n    var _currentMeasurement = null;\n    var _onIndicatorCreatedCB = null;\n    \n    var _cursor = \"url(data:image/png;base64,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), auto\";\n\n    // Snapper\n    var _snapper = snapper;\n    \n    var _isPressing = false;\n\n    var _picksBackup = [];\n    var _cursorPosition = null;\n\n    var _closeAreaSnapRange = 25;\n    var _preMeasureIsolatedNodes = [];\n    var _preMeasureHiddenNodes = [];\n\n    var _measurementType = MeasureCommon.MeasurementTypes.MEASUREMENT_DISTANCE;\n\n    function getActivePick()\n    {   \n        if(!_currentMeasurement)\n            return null;\n\n        var index;\n\n        if (_activePoint === 0) {\n            return null;\n        } else if (_activePoint === _currentMeasurement.getMaxNumberOfPicks() + 1) {\n            index = _currentMeasurement.countPicks();\n        } else {\n               index = _activePoint;\n        }\n\n        return _currentMeasurement.getPick(index);\n    }\n\n    function getPreviousPick()\n    {\n        if(!_currentMeasurement)\n            return null;\n\n        var index;\n\n        if (_activePoint === 0) {\n            return null;\n        } else if (_activePoint === 1) {\n            index = _currentMeasurement.countPicks();\n        } else if (_activePoint === _currentMeasurement.getMaxNumberOfPicks() + 1) {\n            index = _currentMeasurement.countPicks() - 1;\n        } else {\n            index = _activePoint - 1;\n        }\n        \n        return _currentMeasurement.getPick(index);\n    }\n\n    function hasPreviousPick()\n    {\n        if(!_currentMeasurement)\n            return false;\n\n        var index;\n\n        if (_activePoint === 0) {\n            return false;\n        } else if (_activePoint === 1) {\n            index = _currentMeasurement.countPicks();\n        } else if (_activePoint === _currentMeasurement.getMaxNumberOfPicks() + 1) {\n            index = _currentMeasurement.countPicks() - 1;\n        } else {\n            index = _activePoint - 1;\n        }\n        \n        return _currentMeasurement.hasPick(index);\n    }\n\n    function noPicksSet() {\n        _activePoint = 0;\n    }\n\n    function allPicksSet() {\n        _activePoint = _currentMeasurement.countPicks() + 1;\n        enableMeasurementsTouchEvents(true);\n        _currentMeasurement.indicator.enableSelectionAreas(true);\n    }\n\n    function isNoPicksSet() {\n        return _activePoint === 0 || !_currentMeasurement;\n    }\n\n    this.areAllPicksSet = function() {\n        return _currentMeasurement && (_activePoint === _currentMeasurement.getMaxNumberOfPicks() + 1);\n    };\n\n    this.register = function()\n    {\n\n    };\n\n    this.deregister = function()\n    {\n        this.deactivate();\n    };\n\n    this.isActive = function()\n    {\n        return _active;\n    };\n\n    this.getNames = function()\n    {\n        return _names;\n    };\n\n    this.getName = function()\n    {\n        return _names[0];\n    };\n\n    this.getPriority = function()\n    {\n        return _priority;\n    };\n\n    this.getCursor = function() {\n        return _isDragging ? null : _cursor;\n    };\n\n    this.getCurrentMeasurementRaw = function() {\n        return _currentMeasurement;\n    };\n\n    this.getActivePointIndex = function() {\n        return _activePoint;\n    };\n\n\n    this.startNewMeasurement = function() {\n\n        _currentMeasurement = _measurementsManager.createMeasurement(_measurementType);\n        _currentMeasurement.attachIndicator(_viewer, this, MeasureToolIndicator);\n\n        if (_onIndicatorCreatedCB instanceof Function) {\n            _onIndicatorCreatedCB();\n            _onIndicatorCreatedCB = null;\n        }\n\n        enableMeasurementsTouchEvents(false);\n    };\n\n    this.changeMeasurementType = function(type) {\n        _measurementType = type;\n    };\n\n    this.activate = function()\n    {\n        _active = true;\n        _measurementsManager.init();\n\n        noPicksSet();\n        _isDragging = false;\n        this.isEditingEndpoint = false;\n        this.editByDrag = false;\n\n        _viewer.impl.pauseHighlight(true);\n        _preMeasureIsolatedNodes = _viewer.getIsolatedNodes();\n        _preMeasureHiddenNodes = _viewer.getHiddenNodes();\n\n        _viewer.clearSelection();\n        _viewer.toolController.activateTool(\"snapper\");\n        _viewer.toolController.activateTool(\"magnifyingGlass\");\n \n       this.onMeasurementChangedBinded = this.onMeasurementChanged.bind(this);\n       _viewer.addEventListener(MeasureCommon.Events.MEASUREMENT_CHANGED_EVENT, this.onMeasurementChangedBinded);\n       _viewer.addEventListener(av.CAMERA_CHANGE_EVENT, this.onCameraChange);\n       _viewer.addEventListener(av.ISOLATE_EVENT, this.onIsolate);\n    };\n\n    this.deactivate = function()\n    {\n        if (!_active)\n            return;\n\n        _active = false;\n\n        while (Object.keys(_measurementsManager.measurementsList).length > 0) {\n            _currentMeasurement = _measurementsManager.measurementsList[Object.keys(_measurementsManager.measurementsList)[0]];\n            _measurementsManager.changeCurrentMeasurement(_currentMeasurement);\n            this.clearCurrentMeasurement();\n            _currentMeasurement = null;\n        }\n\n        if(_snapper && _snapper.isActive()) {\n            _viewer.toolController.deactivateTool(\"snapper\");\n        }\n\n        _viewer.toolController.deactivateTool(\"magnifyingGlass\");\n\n        _viewer.impl.pauseHighlight(false);\n        _preMeasureIsolatedNodes = [];\n        _preMeasureHiddenNodes = [];\n\n        _measurementsManager.destroy();\n        _viewer.removeEventListener(av.CAMERA_CHANGE_EVENT, this.onCameraChange);\n        _viewer.removeEventListener(MeasureCommon.Events.MEASUREMENT_CHANGED_EVENT, this.onMeasurementChangedBinded);\n        _viewer.removeEventListener(av.ISOLATE_EVENT, this.onIsolate);\n    };\n\n    this.update = function()\n    {\n        return false;\n    };\n\n    this.getUnits = function() {\n        return _sharedMeasureConfig.units;\n    };\n\n    this.setUnits = function( units )\n    {\n        if (_sharedMeasureConfig.units !== units ) {\n            _sharedMeasureConfig.units = units;\n            _viewer.dispatchEvent({ type: MeasureCommon.Events.DISPLAY_UNITS_CHANGED, units: units});\n\n            for (var key in _measurementsManager.measurementsList) {\n                if (_measurementsManager.measurementsList.hasOwnProperty(key)) {\n                    // Update UI\n                    var measurement = _measurementsManager.measurementsList[key];\n                    if (measurement.indicator) {\n                        measurement.indicator.updateResults();\n                    }\n                }\n            }\n        }\n    };\n\n    this.getPrecision = function() {\n        return _sharedMeasureConfig.precision;\n    };\n\n    this.setPrecision = function( precision ) {\n\n        if (_sharedMeasureConfig.precision !== precision ) {\n            _sharedMeasureConfig.precision = precision;\n\n            for (var key in _measurementsManager.measurementsList) {\n                if (_measurementsManager.measurementsList.hasOwnProperty(key)) {\n                    // Update UI\n                    var measurement = _measurementsManager.measurementsList[key];\n                    if (measurement.indicator) {\n                        measurement.indicator.updateResults();\n                    }\n                }\n            }\n        }\n    };\n\n    this.getDistanceXYZ = function(measurement) {\n        if (!measurement) {\n            measurement = _currentMeasurement;\n        }\n        return this.getDistanceAux(measurement.distanceXYZ);\n    };\n    this.getDistanceX = function(measurement) {\n        if (!measurement) {\n            measurement = _currentMeasurement;\n        }\n        return this.getDistanceAux(measurement.distanceX);\n    };\n    this.getDistanceY = function(measurement) {\n        if (!measurement) {\n            measurement = _currentMeasurement;\n        }\n        return this.getDistanceAux(measurement.distanceY);\n    };\n    this.getDistanceZ = function(measurement) {\n        if (!measurement) {\n            measurement = _currentMeasurement;\n        }\n        return this.getDistanceAux(measurement.distanceZ);\n    };\n\n    /**\n     * @private\n     */\n    this.getDistanceAux = function (measurementDistance) {\n\n        if (_viewer.model) {\n            var d = Autodesk.Viewing.Private.convertUnits(_viewer.model.getUnitString(), _sharedMeasureConfig.units, _sharedMeasureConfig.calibrationFactor, measurementDistance || 0);\n            return Autodesk.Viewing.Private.formatValueWithUnits(d, _sharedMeasureConfig.units, 3, _sharedMeasureConfig.precision);\n        }\n    };\n\n    this.getAngle = function(measurement) {\n\n        if (!measurement) {\n            measurement = _currentMeasurement;\n        }\n        var angle = measurement.angle;\n        return Autodesk.Viewing.Private.formatValueWithUnits(angle, String.fromCharCode(0xb0), 3, _sharedMeasureConfig.precision);\n    };\n\n    this.getArea = function(measurement) { \n\n        if (_viewer.model) {\n\n            if (!measurement) {\n                measurement = _currentMeasurement;\n            }\n\n            var area = Autodesk.Viewing.Private.convertUnits(viewer.model.getUnitString(), _sharedMeasureConfig.units, _sharedMeasureConfig.calibrationFactor, measurement.area, 'square');\n\n            if (_sharedMeasureConfig.units) {\n                return Autodesk.Viewing.Private.formatValueWithUnits(area, _sharedMeasureConfig.units+'^2', 3, _sharedMeasureConfig.precision);\n            }\n            else {\n                return Autodesk.Viewing.Private.formatValueWithUnits(area, null, 3, _sharedMeasureConfig.precision);\n            }\n        }\n    };\n\n    function snapToFirstPick(currentPick, forceSnap) {\n        if (_currentMeasurement.hasPick(1) && _activePoint > 3 && !_currentMeasurement.closedArea) {\n            var firstPick = _currentMeasurement.getPick(1);\n            var firstPickPoint = MeasureCommon.getSnapResultPosition(firstPick, _viewer);\n            var firstPickPosition = MeasureCommon.project(firstPickPoint, viewer);\n            var currentPickPoint = MeasureCommon.getSnapResultPosition(currentPick, _viewer);\n            var currentPickPosition = MeasureCommon.project(currentPickPoint, viewer);\n            \n            if (forceSnap || currentPickPosition.distanceTo(firstPickPosition) < _closeAreaSnapRange) {\n                _snapper.onMouseMove(firstPickPosition);\n                firstPick.copyTo(currentPick);\n            }\n        }\n    }\n\n    function render(showResult) {\n\n        var hasResult = _currentMeasurement.computeResult(_currentMeasurement.picks, _viewer, _snapper);\n\n        _currentMeasurement.indicator.render(_currentMeasurement.picks, _consumeSingleClick || !!showResult);\n\n        return hasResult;\n    }\n\n    /**\n     * TODO: We need to flesh out the return value here.\n     *\n     * @param unitType\n     * @param precision\n     * @returns {Object}\n     */\n    this.getMeasurement = function(unitType, precision) {\n\n        _sharedMeasureConfig.units = unitType || _sharedMeasureConfig.units;\n        _sharedMeasureConfig.precision = precision || _sharedMeasureConfig.precision;\n\n        var geomTypes = ['Vertex', 'Edge', 'Face', 'Circular Arc', 'Curved Edge', 'Curved Face'];\n\n        var measurement = {\n            from: geomTypes[_currentMeasurement.getGeometry(1).type],\n            to: geomTypes[_currentMeasurement.getGeometry(2).type],\n            distance: this.getDistanceXYZ(),\n            deltaX: this.getDistanceX(),\n            deltaY: this.getDistanceY(),\n            deltaZ: this.getDistanceZ(),\n            angle: this.getAngle(),\n            area: this.getArea(),\n            unitType: _sharedMeasureConfig.units,\n            precision: _sharedMeasureConfig.precision\n        };\n\n        return measurement;\n    };\n\n    /**\n     * @param unitType\n     * @param precision\n     * @returns {Array.<Object>}\n     */\n\n    this.getMeasurementList = function(unitType, precision) {\n        var list = [];\n        var measurement = null;\n        // TODO: These need to match the measurement SnapTypes\n        var geomTypes = ['Vertex', 'Edge', 'Face', 'Circular Arc', 'Curved Edge', 'Curved Face'];\n        var measurementList = Object.keys(_measurementsManager.measurementsList);\n\n        for(let i = 0; i < measurementList.length; i++) {\n            measurement = _measurementsManager.measurementsList[measurementList[i]];\n            \n            var result = {\n              from: geomTypes[measurement.getGeometry(1).type],\n              to: geomTypes[measurement.getGeometry(2).type],\n              distance: this.getDistanceXYZ(measurement),\n              deltaX: this.getDistanceX(measurement),\n              deltaY: this.getDistanceY(measurement),\n              deltaZ: this.getDistanceZ(measurement),\n              angle: this.getAngle(measurement),\n              area: this.getArea(measurement),\n              unitType: unitType || _sharedMeasureConfig.units,\n              precision: precision || _sharedMeasureConfig.precision\n            }\n            list.push(result);\n        }\n        return list;\n    };\n\n    this.clearCurrentMeasurement = function() {\n        if (_currentMeasurement) {\n            noPicksSet();\n\n            for (var key in _currentMeasurement.picks) {\n                if (_currentMeasurement.picks.hasOwnProperty(key)) {\n                    this.clearPick(key);    \n                }\n            }\n            \n            this.updateViewportId(true);\n\n            if (_isolateMeasure) {\n                this.clearIsolate();    \n            }\n\n            _currentMeasurement.indicator.clear();\n            _currentMeasurement.indicator.destroy();\n            _currentMeasurement = _measurementsManager.removeCurrentMeasurement();\n            _currentMeasurement = null;\n        }\n\n        enableMeasurementsTouchEvents(true);\n    };\n\n    this.clearPick = function(pickNumber) {\n        if (_currentMeasurement && _currentMeasurement.hasPick(pickNumber)) {\n            _currentMeasurement.clearPick(pickNumber);\n            _currentMeasurement.indicator.hideClick(pickNumber);\n        }\n    };\n\n    this.setIsolateMeasure = function(enable) {\n        _isolateMeasure = enable;\n    };\n\n    this.isolateMeasurement = function () {\n        if (_currentMeasurement) {\n            var isolationGroup = [];\n        \n            for (var key in _currentMeasurement.picks) {\n                if (_currentMeasurement.picks.hasOwnProperty(key)) {\n                    isolationGroup.push(_currentMeasurement.getPick(key).snapNode);\n                }\n            }\n            _viewer.removeEventListener(av.ISOLATE_EVENT, this.onIsolate);\n            _viewer.isolate(isolationGroup);\n            _viewer.addEventListener(av.ISOLATE_EVENT, this.onIsolate);\n        }\n    };\n\n    this.clearIsolate = function() {\n        _viewer.removeEventListener(av.ISOLATE_EVENT, this.onIsolate);\n        _viewer.showAll();\n        _viewer.isolate(_preMeasureIsolatedNodes);\n        _viewer.hide(_preMeasureHiddenNodes);\n        _viewer.addEventListener(av.ISOLATE_EVENT, this.onIsolate);\n\n    };\n\n    this.onIsolate = function (event) {\n        // Isolation group is empty. Should enter only when 'Show all objects' is being called.\n        if (!event.nodeIdArray.length) {\n            _preMeasureIsolatedNodes = [];\n            _preMeasureHiddenNodes = [];\n        }\n    };\n\n    this.deselectAllMeasurements = function() {\n        if (_currentMeasurement && !this.areAllPicksSet()) {\n            if (this.isEditingEndpoint) {\n                this.undoEditEndpoint();\n            }\n            else {\n                this.clearCurrentMeasurement();\n            }\n        }\n\n        for (var key in _measurementsManager.measurementsList) {\n            if (_measurementsManager.measurementsList.hasOwnProperty(key)) {\n                var measurement = _measurementsManager.measurementsList[key];\n                if (measurement.indicator) {\n                    measurement.indicator.setSimple(true);        \n                    measurement.indicator.hideEndpoints();\n                    measurement.indicator.unfocusLabels();\n                }\n            }\n        }\n\n        _currentMeasurement = null;\n    };\n\n    this.onMeasurementChanged = function() {\n        \n        this.deselectAllMeasurements();\n\n        _currentMeasurement = _measurementsManager.getCurrentMeasurement();\n        \n        if (_currentMeasurement.isComplete()) {\n            _currentMeasurement.indicator.setSimple(false);        \n            allPicksSet();\n            render(true); \n            this.updateResults();\n        }\n    };\n\n    this.selectMeasurementById = function(measurementId) {\n        if (!_currentMeasurement) {\n            _currentMeasurement = _measurementsManager.selectMeasurementById(measurementId);\n        }\n\n        if (_currentMeasurement.id !== measurementId) {\n            if (!this.areAllPicksSet()) {\n                if (this.isEditingEndpoint) {\n                    this.undoEditEndpoint();\n                }\n                else {\n                    this.clearCurrentMeasurement();\n                }\n            }\n            \n            _currentMeasurement = _measurementsManager.selectMeasurementById(measurementId);\n        }\n    };\n\n    function enableMeasurementsTouchEvents(enable) {\n        for (var key in _measurementsManager.measurementsList) {\n            if (_measurementsManager.measurementsList.hasOwnProperty(key)) {\n                var measurement = _measurementsManager.measurementsList[key];\n                measurement.indicator.changeAllEndpointsEditableStyle(enable);   \n                measurement.indicator.enableSelectionAreas(enable);\n                measurement.indicator.enableLabelsTouchEvents(enable);\n            }\n        }\n    }\n\n    this.editEndpoint = function(event, endpointNumber, measurementId) {\n        if (_currentMeasurement.id === measurementId && _activePoint === endpointNumber) {\n            _currentMeasurement.indicator.changeEndpointOnEditStyle(endpointNumber, false);\n            this.undoEditEndpoint();\n            return;\n        }\n\n        this.selectMeasurementById(measurementId);\n\n        _activePoint = endpointNumber;\n        this.isEditingEndpoint = true;\n\n        _currentMeasurement.indicator.changeEndpointOnEditStyle(endpointNumber, true);\n        enableMeasurementsTouchEvents(false);\n\n        for (var key in _currentMeasurement.picks) {\n            if (_currentMeasurement.picks.hasOwnProperty(key)) {\n                _picksBackup[key] = _currentMeasurement.getPick(key).clone();\n            }\n        }\n\n        this.updateViewportId();\n\n        if (_isolateMeasure) {\n            this.clearIsolate();    \n        }\n\n        if(!av.isMobileDevice()) {\n            this._handleMouseEvent(event);\n        }\n    };\n\n    function canCloseArea() {\n        return _currentMeasurement.countPicks() > 3;\n    }\n\n    this.undoEditEndpoint = function() {\n        _currentMeasurement.indicator.clear();\n\n        for (var key in _currentMeasurement.picks) {\n            if (_currentMeasurement.picks.hasOwnProperty(key)) {\n                _currentMeasurement.setPick(key, _picksBackup[key].clone());\n            }\n        }\n        \n        _currentMeasurement.indicator.changeEndpointOnEditStyle(_activePoint, false);\n        \n        this.isEditingEndpoint = false;\n        this.updateViewportId(true);\n        allPicksSet();\n        render(true);\n    };\n\n    this.updateResults = function() {\n\n        _currentMeasurement.indicator.updateResults();\n        _currentMeasurement.indicator.showEndpoints();\n        _currentMeasurement.indicator.focusLabels();\n\n        if (_isolateMeasure && _currentMeasurement.isComplete()) {\n            this.isolateMeasurement();\n        }\n    };\n\n    this.deleteCurrentMeasurement = function() {\n        this.clearCurrentMeasurement();\n        this.isEditingEndpoint = false;\n        this.editByDrag = false;\n        _isDragging = false;\n    };\n\n    this.deleteCurrentPick = function() {\n\n        var pick = getActivePick();\n        var id = pick.id;\n\n        while (_currentMeasurement.hasPick(id + 1)) {\n            _currentMeasurement.setPick(id, _currentMeasurement.getPick(id + 1));\n            id++;\n        }\n\n        delete _currentMeasurement.picks[id];\n        \n        \n        \n        var count = _currentMeasurement.countPicks();\n        \n        _activePoint--;\n        \n        if (_activePoint <= 0) {\n            _activePoint = count;\n        }\n\n        if (this.isEditingEndpoint) {\n            if (count == 2) {\n                this.deleteCurrentMeasurement();\n                return;\n            }\n\n            _currentMeasurement.indicator.changeAllEndpointsOnEditStyle(false);\n            this.isEditingEndpoint = false;\n            this.updateViewportId(true);\n            allPicksSet();\n            render();\n        } else {\n            this._handleMouseEvent();    \n        }\n    };\n\n    this.updateViewportId = function(clear) {\n        if (_viewer.model && _viewer.model.is2d()) {\n            if (clear || isNoPicksSet()) {\n                _viewer.impl.updateViewportId(0);\n                _snapper.setViewportId(null);\n            }\n            else if (!_isPressing) {\n                var viewport = getPreviousPick().viewportIndex2d || getActivePick().viewportIndex2d;\n                \n                // Pass viewport Id to LineShader to make all other geometries with different viewport transparent\n                _viewer.impl.updateViewportId(viewport);\n                if (_snapper)\n                    _snapper.setViewportId(viewport);  \n            \n            }\n        }\n    };\n\n    this.setNoTopology = function() {\n        if (_currentMeasurement && _currentMeasurement.indicator) {\n            _currentMeasurement.indicator.setNoTopology();\n        }\n        else {\n            _onIndicatorCreatedCB = function() { _currentMeasurement.indicator.setNoTopology(); };\n        }\n    };\n    this.setFetchingTopology = function() {\n        if (_currentMeasurement && _currentMeasurement.indicator) {\n            _currentMeasurement.indicator.setFetchingTopology();\n        }\n        else {\n            _onIndicatorCreatedCB = function() { _currentMeasurement.indicator.setFetchingTopology(); };\n        }\n    };\n    this.setTopologyAvailable = function() {\n        if (_currentMeasurement && _currentMeasurement.indicator) {\n            _currentMeasurement.indicator.setTopologyAvailable();\n        }\n        else {\n            _onIndicatorCreatedCB = function() { _currentMeasurement.indicator.setTopologyAvailable(); };\n        }\n    };\n\n    this.getSnapper = function() {\n        return _snapper;\n    };\n\n    this.correctPickPosition = function() {\n        \n        var active = getActivePick();\n        \n        if (active && !active.getGeometry() && _cursorPosition) {\n            active.geomType = MeasureCommon.SnapType.SNAP_VERTEX;\n            active.geomVertex = _cursorPosition;\n            active.intersectPoint = _cursorPosition;\n        }\n\n        if (hasPreviousPick()) {\n            var passive = getPreviousPick();\n            var corrected = MeasureCommon.correctPerpendicularPicks(passive, active, viewer, _snapper);\n            if (!corrected) {\n\n                // get next pick in case of closed loop measurement.\n                var id = (active.id + 1) % (_currentMeasurement.countPicks() + 1);\n                \n                if (id === 0)\n                    id = 1;\n\n                if (id !== active.id && _currentMeasurement.hasPick(id)) {\n                    var nextPick = _currentMeasurement.getPick(id);   \n                    MeasureCommon.correctPerpendicularPicks(nextPick, active, viewer, _snapper);\n                }\n            }\n            \n            if (_currentMeasurement.measurementType == MeasureCommon.MeasurementTypes.MEASUREMENT_AREA) {\n                snapToFirstPick(active);    \n            }\n        }\n    };\n\n    this._handleMouseEvent = function (event) {\n\n        var valid = false;\n\n        if (_snapper.isSnapped()) {\n            \n            // User picked a new point after two points where already set (or none) - Start a new measurement.\n            if (this.areAllPicksSet() || isNoPicksSet()) {\n                this.startNewMeasurement();\n                \n                if (_isolateMeasure) { \n                    this.clearIsolate();\n                }\n\n                _activePoint = 1;\n            }\n\n            _snapper.copyResults(getActivePick());\n\n            valid = true;\n\n        } \n        else { \n            // In order to draw rubber-band, set the cursor position, so the indicator will use it as active point.\n            if (event && _viewer.model && _viewer.model.is2d()) {\n                var viewport = _viewer.container.getBoundingClientRect();\n                var x = event.canvasX || event.clientX - viewport.left;\n                var y = event.canvasY || event.clientY - viewport.top;\n\n                if (x && y) {\n                    _cursorPosition = MeasureCommon.inverseProject({ x:x, y:y }, _viewer);\n                }\n            }\n\n            // In case a measurement is set, and the user clicks on a blank spot - don't do nothing.\n            if (_consumeSingleClick && _currentMeasurement && !this.isEditingEndpoint) {\n                if (_activePoint === _currentMeasurement.getMaxNumberOfPicks() + 1) {\n                    return true;\n                }\n            }\n\n            var lastPick = getActivePick();\n            if (lastPick) {\n                lastPick.clear();\n            }\n        }\n\n        if (_currentMeasurement) {\n            this.correctPickPosition();\n            \n            if (_consumeSingleClick) {\n                this._doConsumeSingleClick();\n            }\n\n            if (!isNoPicksSet()) {\n                var renderSucceeded = render();\n                \n                // If it's the first pick, we don't expect the render of the rubberband to be succeeded.\n                // So enter here only if it's not the first pick.\n                if (_currentMeasurement.hasPick(2)) {\n                    valid &= renderSucceeded;\n                }\n            }\n        }\n\n        // If valid is false, the last pick is not revelant, and will clear it in case of a click.\n        return valid;\n    };\n\n    this._doConsumeSingleClick = function() {\n        // In case the measurement is a closed loop, eliminate the last pick.\n        if (_currentMeasurement.measurementType === MeasureCommon.MeasurementTypes.MEASUREMENT_AREA && !_currentMeasurement.closedArea) {\n            var length = _currentMeasurement.countPicks();\n            var firstPick = _currentMeasurement.getPick(1);\n            var lastPick = _currentMeasurement.getPick(length);\n\n            if (length >= 3 && _currentMeasurement.hasEqualPicks(firstPick, lastPick)) {\n                lastPick.clear();\n                delete _currentMeasurement.picks[length];\n                _currentMeasurement.closedArea = true;\n            }\n        }\n\n        this.updateResults();\n\n        var measurementComplete = _currentMeasurement.isComplete();\n        this.updateViewportId(measurementComplete);\n    };\n\n\n    this.handleButtonDown = function (event, button) {\n        if (av.isMobileDevice()) \n            return false;\n\n        _isDragging = true;\n        if (button === 0 && !event.ctrlKey && !event.metaKey && !event.shiftKey && !event.altKey) {\n            _consumeSingleClick = true;\n            _downX = event.canvasX;\n            _downY = event.canvasY;\n        }\n        return false;\n    };\n\n    this.handleMouseMove = function (event) {\n\n        if (av.isMobileDevice())\n            return false;\n\n        if (event.canvasX !== _downX || event.canvasY !== _downY) {\n            _consumeSingleClick = false;    \n        } \n\n        _endpointMoved = this.isEditingEndpoint;\n\n        if (!isNoPicksSet() && !this.areAllPicksSet()) {\n            this.clearPick(_activePoint);\n            this._handleMouseEvent(event);\n        }\n\n        _snapper.indicator.render();\n\n        return false;\n    };\n\n    this.restoreMouseListeners = function () {\n\n        // When a press event has happend, the default behavior of firefly.js is to disable other mouse events,\n        // So they won't be triggered as well.\n        // The solution is to enable them after the end of the pressing.\n\n        _viewer.toolController.getTool(\"gestures\").controller.enableMouseButtons(true);\n    };\n\n    this.handlePressHold = function (event) {\n        _consumeSingleClick = false;\n\n        if (av.isTouchDevice()) {\n            switch( event.type )\n            {\n                case \"press\":\n                    _isPressing = true;\n\n                    if (this.areAllPicksSet() || isNoPicksSet()) {\n                        this.startNewMeasurement();\n\n                        if (_isolateMeasure) { \n                            this.clearIsolate();\n                        }\n\n                        _activePoint = 1;\n                    }\n\n                    this._handleMouseEvent(event);\n                    _snapper.indicator.render();\n\n                    return true;\n\n                case \"pressup\":\n                    _consumeSingleClick = true;\n                    this.restoreMouseListeners();\n                    _singleClickHandled = !_singleClickHandled;\n                    this.handleSingleClick(event);\n                    _isPressing = false;\n                    return true;\n            }\n        }\n        return false;\n\n    };\n\n\n\n    this.handleGesture = function( event )\n    {   \n        if (av.isTouchDevice()){\n            \n            _consumeSingleClick = false;\n        \n            if (_isPressing) {\n                \n                this.clearPick(_activePoint);\n\n                switch( event.type )\n                {\n                    case \"dragstart\":\n                        this._handleMouseEvent(event);\n                        _snapper.indicator.render();\n\n                        return true;\n\n                    case \"dragmove\":\n                        this._handleMouseEvent(event);\n                        _snapper.indicator.render();\n\n                        return true;\n\n                    case \"dragend\":\n                        _isPressing = false;\n                        _consumeSingleClick = true;\n\n                        if (!this.editByDrag) {\n                            _singleClickHandled = !_singleClickHandled;\n                            this.handleSingleClick(event);    \n                        }\n\n                        this.editByDrag = false;\n                        this.restoreMouseListeners();\n                        return true;\n\n                    case \"pinchstart\":\n                        this._handleMouseEvent(event);\n                        _snapper.indicator.render();\n\n                        break;\n\n                    case \"pinchmove\":\n                        this._handleMouseEvent(event);\n                        _snapper.indicator.render();\n\n                        break;\n\n                    case \"pinchend\":\n                        _consumeSingleClick = true;\n                        _singleClickHandled = !_singleClickHandled;\n                        this.handleSingleClick(event);\n                        this.restoreMouseListeners();\n                        return true;\n                }\n            }\n\n            if (event.type.indexOf('pinch') !== -1) {\n                for (var key in _measurementsManager.measurementsList) {\n                    if (_measurementsManager.measurementsList.hasOwnProperty(key)) {\n                        var measurement = _measurementsManager.measurementsList[key];\n                        measurement.indicator.updateScale();    \n                    }\n                }\n            }\n        }\n\n        return false;\n    };\n\n    this.handleButtonUp = function (event, button) {\n        _isDragging = false;\n        _downX = null;\n        _downY = null;\n        \n        if (_endpointMoved) {\n            _consumeSingleClick = true;\n            _singleClickHandled = !_singleClickHandled;\n            this.handleSingleClick(event);\n            _endpointMoved = false;\n        }\n\n        return false;\n    };\n\n    this.handleSingleClick = function (event, button) {\n        if (_consumeSingleClick) {\n\n            _snapper.indicator.clearOverlays();\n\n            if (_currentMeasurement) {\n                _currentMeasurement.indicator.changeEndpointOnEditStyle(_activePoint, false);    \n            }\n\n            if (this._handleMouseEvent(event)) {\n                this.updateResults();\n                _activePoint++;\n            }\n            else {\n                if (this.isEditingEndpoint) {\n                    this.undoEditEndpoint();\n                }\n                else {\n                    if (_currentMeasurement && _currentMeasurement.measurementType === MeasureCommon.MeasurementTypes.MEASUREMENT_AREA && canCloseArea()) {\n                        snapToFirstPick(getActivePick(), true);\n                        this._handleMouseEvent();\n                    } else {\n                        this.clearCurrentMeasurement();    \n                    }\n                }\n            }\n\n            if (_currentMeasurement && _currentMeasurement.isComplete()) {\n                allPicksSet();\n            }\n\n            _consumeSingleClick = false;\n            _singleClickHandled = !_singleClickHandled;\n            this.isEditingEndpoint = false;\n\n            _snapper.clearSnapped();\n        }\n        return true;\n    };\n\n    this.handleDoubleClick = function(event) {\n        return true;\n    };\n\n    this.onCameraChange = function () {\n        for (var key in _measurementsManager.measurementsList) {\n            if (_measurementsManager.measurementsList.hasOwnProperty(key)) {\n                var measurement = _measurementsManager.measurementsList[key];\n                measurement.indicator.updateScale();\n            }\n        }\n\n        _snapper.indicator.onCameraChange();\n    };\n\n    this.handleSingleTap = function (event) {\n        if (!_singleClickHandled) {\n            _consumeSingleClick = true;\n            _snapper.onMouseDown({x: event.canvasX, y:event.canvasY});\n            this.handleSingleClick(event);\n        }\n        _singleClickHandled = !_singleClickHandled;\n\n        return true;\n    };\n\n    this.handleDoubleTap = function(event) {\n        if (_currentMeasurement && _currentMeasurement.measurementType === MeasureCommon.MeasurementTypes.MEASUREMENT_AREA && _currentMeasurement.countPicks() > 2) {\n            // fake single click over the first handle, to close the area.\n            var firstPick = _currentMeasurement.getPick(1);\n            var firstPickPoint = MeasureCommon.getSnapResultPosition(firstPick, _viewer);\n            var firstPickPosition = MeasureCommon.project(firstPickPoint, viewer);\n            event.canvasX = firstPickPosition.x;\n            event.canvasY = firstPickPosition.y;\n            _consumeSingleClick = true;\n            _snapper.onMouseDown(firstPickPosition);\n            this.handleSingleClick(event);\n            _singleClickHandled = !_singleClickHandled;\n        }\n\n        return true;\n    };\n\n    this.handleResize = function() {\n        for (var key in _measurementsManager.measurementsList) {\n            if (_measurementsManager.measurementsList.hasOwnProperty(key)) {\n                var measurement = _measurementsManager.measurementsList[key];\n                if (measurement.indicator) {\n                    measurement.indicator.handleResize();\n                }\n            }\n        }\n    };\n\n    this.handleKeyDown = function(event, keyCode) {\n        switch (keyCode) {\n            case Autodesk.Viewing.KeyCode.BACKSPACE:\n            case Autodesk.Viewing.KeyCode.DELETE:\n            if (_currentMeasurement && _currentMeasurement.measurementType === MeasureCommon.MeasurementTypes.MEASUREMENT_AREA && !this.areAllPicksSet()) {\n                if (_currentMeasurement.countPicks() > 2 ) {\n                    this.deleteCurrentPick();\n                } else {\n                    this.deleteCurrentMeasurement();    \n                }\n            } else {\n                this.deleteCurrentMeasurement();\n            }\n\n            return true;\n        }\n\n        return false;\n    };\n};\n\nav.GlobalManagerMixin.call(MeasureTool.prototype);\n\n","import { Indicator } from './Indicator'\n\n    var av = Autodesk.Viewing;\n    var MeasureCommon = Autodesk.Viewing.MeasureCommon;\n\n    // /** @constructor */\n    export function CalibrationToolIndicator(viewer, measurement, calibrationTool)\n    {\n        Indicator.call(this, viewer, measurement, calibrationTool);\n        this.calibrationTool = calibrationTool;\n        this.calibrationLabel = null;\n        this.endpoints = null;\n        this.tmpVector = new THREE.Vector3();\n        this.p1 = null;\n        this.p2 = null;\n\n        this.rubberbandDefaultMaterial = new THREE.MeshBasicMaterial({\n            color: 0xe8b22c,\n            opacity: 1,\n            transparent: false,\n            depthTest: false,\n            depthWrite: false,\n            side: THREE.DoubleSide\n        });\n\n        this.rubberbandSnappedMaterial = new THREE.MeshBasicMaterial({\n            color: 0x005BCE,\n            opacity: 1,\n            transparent: false,\n            depthTest: false,\n            depthWrite: false,\n            side: THREE.DoubleSide\n        });\n\n        this.rubberbandTipMaterial = new THREE.MeshBasicMaterial({\n            color: 0x000000,\n            opacity: 1,\n            transparent: false,\n            depthTest: false,\n            depthWrite: false,\n            side: THREE.DoubleSide\n        });\n\n    }\n\n    CalibrationToolIndicator.prototype = Object.create(Indicator.prototype);\n    CalibrationToolIndicator.prototype.constructor = CalibrationToolIndicator;\n    var proto = CalibrationToolIndicator.prototype;\n    \n    var kEndpointOffset = 15;\n    \n    var kCrossWidth = 1.5;\n    var kTipXWidth = 2;\n    var kLineWidth = 3;\n\n    var kTipXLength = 3;\n    var kCrossLength = 5;\n\n    var kDashSize = 2;\n    var kGapSize = 1;\n\n    proto.createEndpoint = function(name) {\n        this.endpoints[name] = {};\n        this.endpoints[name].position = null;\n\n        const _document = this.getDocument();\n        var label = this.endpoints[name].label = _document.createElement('div');\n        label.className = 'calibration-endpoint';\n\n        this.viewer.container.appendChild(label);\n\n        var text = _document.createElement('div');\n        text.className = 'calibration-endpoint-text';\n        text.textContent = name.toString();\n        label.appendChild(text);\n        \n        if (av.isTouchDevice()) {\n            this.initLabelMobileGestures(label, name, this.calibrationTool);\n        }\n        // Disable hover for mobile devices\n        if(!av.isMobileDevice()) {\n            MeasureCommon.safeToggle(label, 'enable-hover', true);\n\n            this.initMouseEvent(label, name);\n    \n            label.addEventListener('mousewheel', this.viewer.toolController.mousewheel);\n            \n        }   \n    };\n\n    proto.init = function() {\n\n        MeasureCommon.createCommonOverlay(this.viewer, this.overlayName);\n        \n        if (!this.calibrationLabel) {\n            const _document = this.getDocument();\n            this.calibrationLabel = _document.createElement('div');\n            this.calibrationLabel.className = 'calibration-label';\n            this.hideLabel(this.calibrationLabel);\n            this.viewer.container.appendChild(this.calibrationLabel);\n            this.calibrationLabel.addEventListener('mousewheel', this.viewer.toolController.mousewheel);\n\n            var text = _document.createElement('div');\n            text.className = 'calibration-label-text';\n            this.calibrationLabel.appendChild(text);\n        }\n\n        this.endpoints = [];\n\n        this.handleButtonUpBinded = this.calibrationTool.handleButtonUp.bind(this.calibrationTool);\n        this.addWindowEventListener('mouseup', this.handleButtonUpBinded);\n\n        this.onCameraChangeBinded = this.onCameraChange.bind(this);\n        this.viewer.addEventListener(av.CAMERA_CHANGE_EVENT, this.onCameraChangeBinded);\n    };\n\n    proto.destroy = function() {\n        this.clear();\n\n        Indicator.prototype.destroy.call(this);\n\n        if (this.calibrationLabel) {\n            this.calibrationLabel.removeEventListener('mousewheel', this.viewer.toolController.mousewheel);\n            this.viewer.container.removeChild(this.calibrationLabel);\n            this.calibrationLabel = null;\n        }\n\n        \n        this.viewer.impl.clearOverlay(this.overlayName);\n        this.viewer.impl.removeOverlayScene(this.overlayName);\n        \n        this.removeWindowEventListener('mouseup', this.handleButtonUpBinded);\n        this.viewer.removeEventListener(av.CAMERA_CHANGE_EVENT, this.onCameraChangeBinded);\n    };\n\n    proto.clearRubberband = function() {\n        this.viewer.impl.clearOverlay(this.overlayName);\n    };\n\n    proto.clear = function() {\n\n        this.clearRubberband();\n        \n        this.hideLabel(this.calibrationLabel);\n        \n        for (var name in this.endpoints) {\n            if (this.endpoints.hasOwnProperty(name)) {\n                this.hideClick(name);\n                this.endpoints[name].position = null;\n            }\n        }\n    };\n\n    proto.updateLabelValue = function(text) {\n        if (!text || text === \"\") {\n            this.calibrationLabel.childNodes[0].textContent = null;\n            this.hideLabel(this.calibrationLabel);\n        }\n        else {\n            this.calibrationLabel.childNodes[0].setAttribute(\"data-i18n\", text);\n            this.calibrationLabel.childNodes[0].textContent = av.i18n.translate(text);\n            this.showLabel(this.calibrationLabel);\n            this.calibrationTool.render();\n        }\n    };\n\n    proto.changeLabelClickableMode = function(clickable) {\n        if (clickable) {\n            this.calibrationLabel.childNodes[0].style.pointerEvents='all';\n        }\n        else {\n            this.calibrationLabel.childNodes[0].style.pointerEvents='none';\n        }\n    };\n\n    proto.showAddCalibrationLabel = function() {\n        var self = this;\n        this.updateLabelValue(\"Add Calibration\");\n        this.changeLabelClickableMode(true);\n        this.calibrationTool.render();\n        \n        this.calibrationLabel.addEventListener(\"click\", function onClick() {\n            self.calibrationLabel.childNodes[0].style.pointerEvents = 'none';\n            self.calibrationTool.render();\n            self.updateLabelValue(null);\n            self.calibrationTool.showPanel();\n            self.calibrationLabel.removeEventListener(\"click\", onClick);\n        });    \n    };\n\n    proto.updateLabelsPosition = function() {\n        for (var i = 1; i <= Object.keys(this.endpoints).length; i++) {\n            if (this.endpoints[i].position) {\n                var label = this.endpoints[i].label;\n                var pos = MeasureCommon.project(this.endpoints[i].position, this.viewer, kEndpointOffset);\n                label.style.left = (pos.x - parseInt(label.clientWidth) / 2) + 'px';\n                label.style.top = (pos.y - parseInt(label.clientHeight) / 2) + 'px';\n                label.point = this.endpoints[i].position;\n\n                // Detect and move in case of overlapping.\n                this.labelsOverlapDetection(this.endpoints[i].label, this.endpoints);\n            }\n        }\n\n        this.hideLabelsOutsideOfView();\n    };\n\n    function isLeftIntersect(current, other) {\n        return current.right >= other.left && current.right <= other.right;\n    }\n\n    function isRightIntersect(current, other) {\n        return current.left >= other.left && current.left <= other.right;\n    }\n\n    function isMiddleIntersect(current, other) {\n        return current.left <= other.left && current.right >= other.right;\n    }\n\n    function isVerticalIntersect(current, other) {\n        return current.top < other.bottom && current.bottom > other.top;\n    }\n\n    function moveLeft(currentLabel, currentRect, otherRect) {\n        currentLabel.style.left = parseInt(currentLabel.style.left, 10) - (currentRect.right - otherRect.left) + 'px';\n    }\n\n    function moveRight(currentLabel, currentRect, otherRect) {\n        currentLabel.style.left = parseInt(currentLabel.style.left, 10) + (otherRect.right - currentRect.left) + 'px';\n    }\n\n    function moveDown(currentLabel, currentRect, otherRect) {\n        currentLabel.style.top = parseInt(currentLabel.style.top, 10) + (otherRect.bottom - currentRect.top) + 'px';\n    }\n\n\n    proto.labelsOverlapDetection = function(staticLabel, labelsList) {\n\n        for (var i = 1; i <= Object.keys(labelsList).length ; i++) {\n\n            var dynamicLabel = labelsList[i].label;\n\n            if (staticLabel !== dynamicLabel) {\n                var staticRect = staticLabel.getBoundingClientRect();\n                var dynamicRect = dynamicLabel.getBoundingClientRect();\n\n                if (isVerticalIntersect(dynamicRect, staticRect)) {\n\n                    if (isLeftIntersect(dynamicRect, staticRect)) {\n                        moveLeft(dynamicLabel, dynamicRect, staticRect);\n                    }\n                    else if (isRightIntersect(dynamicRect, staticRect)) {\n                        moveRight(dynamicLabel, dynamicRect, staticRect);\n                    }\n                    else if (isMiddleIntersect(dynamicRect, staticRect)) {\n                        moveDown(dynamicLabel, dynamicRect, staticRect);\n                    }\n                }\n            }\n        }\n    };\n\n    proto.renderCalibrationLabel = function() {\n\n        if (this.showMeasureResult && this.calibrationLabel && this.p1 && this.p2) {\n            \n            var point = { x: (this.p1.x + this.p2.x)/2, y: (this.p1.y + this.p2.y)/2, z: (this.p1.z + this.p2.z)/2 };\n            var mid = MeasureCommon.project(point, this.viewer);\n\n            this.labelPosition = new THREE.Vector2(mid.x, mid.y);\n\n            if (this.calibrationLabel.childNodes[0].textContent) {\n                this.showLabel(this.calibrationLabel);\n            }\n\n            this.calibrationLabel.style.top  = this.labelPosition.y - Math.floor(this.calibrationLabel.clientHeight / 2) + 'px';\n            this.calibrationLabel.style.left = this.labelPosition.x - Math.floor(this.calibrationLabel.clientWidth / 2) + 'px' ;\n            this.calibrationLabel.point = point;\n\n            if (this.viewer.model.is2d()) {\n                this.alignLabelWithLine(this.calibrationLabel, this.p1, this.p2, this.calibrationLabel.clientHeight, this.viewer);\n            }\n        }\n    };\n\n    proto.drawMeasurementLineTip = function(point, direction, normal, flip) {\n\n        var tmpVec = new THREE.Vector3();\n        var geometry = new THREE.Geometry();\n        var p1Scale = this.setScale(point);\n\n        flip = flip ? -1 : 1;\n\n        var tipMaterial = (this.snapper.isSnapped() && !this.showMeasureResult) ? this.rubberbandSnappedMaterial : this.rubberbandTipMaterial;\n\n        // black tip\n        tmpVec.addVectors(point, normal.clone().multiplyScalar(kCrossLength * p1Scale));\n        geometry.vertices[0] = tmpVec.clone();\n        tmpVec.subVectors(point, normal.clone().multiplyScalar(kCrossLength * p1Scale));\n        geometry.vertices[1] = tmpVec.clone();\n        this.drawLineAsCylinder(geometry, tipMaterial, kCrossWidth, this.overlayName);\n\n        geometry.vertices[0] = point;\n        tmpVec.subVectors(point, direction.clone().multiplyScalar(kCrossLength * p1Scale * flip));\n        geometry.vertices[1] = tmpVec.clone();\n        this.drawLineAsCylinder(geometry, tipMaterial, kCrossWidth, this.overlayName);\n\n        // yellow tip\n        tmpVec.addVectors(point, normal.clone().multiplyScalar(kTipXLength * p1Scale));\n        geometry.vertices[0] = tmpVec.clone();\n        tmpVec.subVectors(point, normal.clone().multiplyScalar(kTipXLength * p1Scale));\n        geometry.vertices[1] = tmpVec.clone();\n        this.drawLineAsCylinder(geometry, this.rubberbandDefaultMaterial, kTipXWidth, this.overlayName);\n\n        tmpVec.addVectors(point, normal.clone().multiplyScalar(kTipXLength * p1Scale));\n        tmpVec.addVectors(tmpVec, direction.clone().multiplyScalar(kTipXLength * p1Scale));\n        geometry.vertices[0] = tmpVec.clone();\n        tmpVec.subVectors(point, normal.clone().multiplyScalar(kTipXLength * p1Scale));\n        tmpVec.subVectors(tmpVec, direction.clone().multiplyScalar(kTipXLength * p1Scale));\n        geometry.vertices[1] = tmpVec.clone();\n        this.drawLineAsCylinder(geometry, this.rubberbandDefaultMaterial, kTipXWidth, this.overlayName);\n    };\n\n    proto.renderDistanceMeasurement = function(p1, p2) {\n\n        this.viewer.impl.clearOverlay(this.overlayName);\n\n        if (!p1 || !p2)\n            return;\n\n        var geometry = new THREE.Geometry();\n        var lineDirection = new THREE.Vector3().subVectors(p2, p1).normalize();\n        var lineNormal = lineDirection.clone().cross(this.viewer.navigation.getEyeVector()).normalize();\n        var p1Scale = this.setScale(p1);\n        \n        var dashSize = kDashSize * p1Scale;\n        var gapSize = kGapSize * p1Scale;\n\n        // Main line\n        \n        var lineMaterial = ((Math.abs(p1.x - p2.x) <= 0.1 || Math.abs(p1.y - p2.y) <= 0.1 \n                            || this.snapper.getSnapResult().isPerpendicular) && !this.showMeasureResult) \n                            ? this.rubberbandSnappedMaterial : this.rubberbandDefaultMaterial;\n\n        if (this.showMeasureResult) {\n            // Single solid line.\n            geometry.vertices[0] = p1;\n            geometry.vertices[1] = p2;\n            this.drawLineAsCylinder(geometry, lineMaterial, kLineWidth, this.overlayName);\n        }\n        else {\n            this.drawDashedLine(p1, p2, dashSize, gapSize, lineMaterial, kLineWidth, this.overlayName); \n        }\n        \n        this.drawMeasurementLineTip(p1, lineDirection, lineNormal, false);\n        \n        if (this.showMeasureResult) {\n            this.drawMeasurementLineTip(p2, lineDirection, lineNormal, true);\n        }\n\n        this.p1 = p1;\n        this.p2 = p2;\n\n        this.renderCalibrationLabel();\n    };\n\n    proto.onCameraChange = function() {\n        if (this.measurement.isComplete()) {\n            this.renderDistanceMeasurement(this.p1, this.p2);\n        }   \n        this.updateLabelsPosition();         \n    };\n\n","\n\n    \"use strict\";\n\n    var av = Autodesk.Viewing,\n        ave = Autodesk.Viewing.Extensions,\n        avp = Autodesk.Viewing.Private,\n        avu = Autodesk.Viewing.UI,\n        MeasureCommon = Autodesk.Viewing.MeasureCommon;\n\n    // This strange code is there because we \n    // don't want DockingPanel, which is used as a base class later\n    // to be undefined during headless mode.\n    // Simply deriving from undefined will cause an exception (from babel env preset) \n    // even if the class is never instantiated\n    const DockingPanel = (avu && avu.DockingPanel) || class {};\n    // et ViewerPanelMixin to a no-op in headless mode\n    const ViewerPanelMixin = (ave && ave.ViewerPanelMixin) || function () {};\n\n    const _gWindow = av.getGlobal();\n    const _gDocument = _gWindow.document;\n\n    //\n    // /** @constructor */\n    //\n    //\n    export var CalibrationPanel = function(calibrationTool, viewer, id, title, options)\n    {\n        var self = this;\n\n        options = options || {};\n        options.addFooter = false;\n\n        DockingPanel.call(this, viewer.container, id, title, options);\n\n        this.viewer = viewer;\n        this.calibrationTool = calibrationTool;\n        this.parentContainer = viewer.container;\n        this.container.style.left = '0px';\n        this.container.style.top = '0px';\n        this.container.style.resize = 'none';\n\n        this.container.classList.add('calibration-panel');\n\n        this.setGlobalManager && this.setGlobalManager(viewer.globalManager);\n\n        this.addEventListener( this.closer, \"click\", function(e) {\n            self.setVisible(false);\n            self.calibrationTool.clearSize();\n            self.calibrationTool.showAddCalibrationLabel();\n        });\n\n        if (!options.heightAdjustment)\n            options.heightAdjustment = 40;\n        if (!options.marginTop)\n            options.marginTop = 0;\n        options.left = false;\n\n        this.createScrollContainer(options);\n\n        const _document = (this.getDocument && this.getDocument()) || _gDocument;\n\n        this.calibrationMenu = _document.createElement(\"div\");\n\n        this.scrollContainer.appendChild( this.calibrationMenu );\n\n        // Table\n        this.table = _document.createElement(\"table\");\n        this.table.className = \"adsk-lmv-tftable calibration-table\";\n        this.tbody = _document.createElement(\"tbody\");\n        this.table.appendChild(this.tbody);\n        this.calibrationMenu.appendChild(this.table);\n\n        // Define Size Row\n        this.row = this.tbody.insertRow(0);\n        this.requestedSizeTextbox = _document.createElement('input');\n        this.requestedSizeTextbox.className = 'docking-panel-textbox';\n        this.requestedSizeTextbox.type = 'text';\n        this.requestedSizeTextbox.autofocus= 'true';\n\n        this.addEventListener(this.requestedSizeTextbox, \"keyup\", function(e) {\n            var value = self.requestedSizeTextbox.value;\n            if (value !== \"\" && value.split(\".\")[0] === \"\") {\n                self.requestedSizeTextbox.value = \"0\" + value;\n            }\n            self.updateLabel();\n        });\n\n\n        this.addEventListener(this.requestedSizeTextbox, \"keypress\", function(e) {\n            var key = e.key || String.fromCharCode(e.keyCode);\n            // Handling backspace and arrows for firefox\n            if (key == \"Backspace\" || key == \"ArrowLeft\" || key == \"ArrowRight\"){\n                return;\n            }\n\n            // Escape (For IE11)\n            if (e.keyCode == av.KeyCode.ESCAPE) {\n                self.setVisible(false);\n                self.calibrationTool.clearSize();\n                self.calibrationTool.showAddCalibrationLabel();\n                return;\n            }\n\n            var requestedSize = self.requestedSizeTextbox.value;\n            var cursorIndex = self.requestedSizeTextbox.selectionStart;\n            requestedSize = [requestedSize.slice(0, cursorIndex), key, requestedSize.slice(cursorIndex)].join('');\n            \n            if (requestedSize == \".\") {\n                return;\n            }\n\n            var isSimple = self.units[self.unitList.selectedIndex].simpleInput;\n        \n            if (!isPositiveNumber(requestedSize) || (isSimple && (!isSimpleDecimal(requestedSize) || Autodesk.Viewing.Private.calculatePrecision(requestedSize) > self.calibrationTool.getMaxPrecision()))) {\n                    e.preventDefault();\n            }\n        });\n\n        var caption = \"Define Size\";\n        var cell = this.row.insertCell(0);\n        this.caption = _document.createElement(\"div\");\n        this.caption.setAttribute(\"data-i18n\", caption);\n        this.caption.textContent = av.i18n.translate(caption);\n        cell.appendChild(this.caption);\n\n        cell = this.row.insertCell(1);\n        cell.appendChild(this.requestedSizeTextbox);\n\n        // Unit Type Row\n        this.units = [\n            { name: 'Feet and fractional inches', units: 'ft-and-fractional-in', matches: ['ft-and-fractional-in'], simpleInput: false },\n            { name: 'Feet and decimal inches', units: 'ft-and-decimal-in', matches: ['ft-and-decimal-in'], simpleInput: false },\n            { name: 'Meters', units: 'm', matches: ['m'], simpleInput: true },\n            { name: 'Centimeters', units: 'cm', matches: ['cm'], simpleInput: true },\n            { name: 'Millimeters', units: 'mm', matches: ['mm'], simpleInput: true }\n        ];\n\n        var unitNames = [];\n        for (var i = 0; i < this.units.length; ++i) {\n            unitNames.push(this.units[i].name);\n        }\n        this.unitList = new avp.OptionDropDown(\"Unit type\", this.tbody, unitNames, 0, null, { paddingLeft: 0, paddingRight: 15 });\n        this.unitList.setGlobalManager(this.globalManager);\n        this.addEventListener(this.unitList, \"change\", function(e) {\n            self.updateLabel();\n        });\n\n        // Set Calibration button\n        var setCalibration = _document.createElement('div');\n        setCalibration.classList.add('docking-panel-primary-button');\n        setCalibration.classList.add('calibration-button');\n\n        setCalibration.setAttribute(\"data-i18n\", \"Set Calibration\");\n        setCalibration.textContent = av.i18n.translate(\"Set Calibration\");\n\n        setCalibration.addEventListener('click', function () {\n            var index = self.unitList.selectedIndex;\n            var requestedUnits = self.units[index].units;\n            self.calibrationTool.calibrate(requestedUnits, self.requestedSizeTextbox.value);\n        }, false);\n\n        this.calibrationMenu.appendChild(setCalibration);\n        \n\n    }; // end constructor\n\n    var isPositiveNumber = function (n) {\n        // The first character of the string has to be a digit.\n        return n.match(/^(\\d+)/);\n    };\n\n    var isSimpleDecimal = function (n) {\n        // Add \"0\" to the end of the string, to check if there are trailing spaces.\n        n += '0';\n        return !isNaN(parseFloat(n)) && !isNaN(+n) && parseFloat(n) >= 0;\n    };\n\n    CalibrationPanel.prototype = Object.create(DockingPanel.prototype);\n    ViewerPanelMixin.call(CalibrationPanel.prototype);\n\n\n    CalibrationPanel.prototype.uninitialize = function uninitialize() {\n        this.viewer = null;\n        DockingPanel.prototype.uninitialize.call(this);\n    };\n\n    CalibrationPanel.prototype.findUnits = function findUnits() {\n        var i,\n            j,\n            selectedUnits = this.calibrationTool.getCurrentUnits();\n        for (i = 0; i < this.units.length; ++i) {\n            var matches = this.units[i].matches;\n            if (matches) {\n                for (j = 0; j < matches.length; ++j) {\n                    if (matches[j] === selectedUnits) {\n                        return i;\n                    }\n                }\n            }\n        }\n        return 0;\n    };\n\n    CalibrationPanel.prototype.setPanelValue = function(size) {\n        this.unitList.setSelectedIndex(this.findUnits());\n        this.requestedSizeTextbox.value = size;\n    };\n\n    CalibrationPanel.prototype.updateLabel = function() {\n        var index = this.unitList.selectedIndex;\n        var requestedUnits = this.units[index].units;\n        var size = this.requestedSizeTextbox.value;\n        var parsedNumber = Autodesk.Viewing.Private.UnitParser.parsePositiveNumber(size, requestedUnits);\n        var text = Autodesk.Viewing.Private.formatValueWithUnits(parsedNumber, requestedUnits, 3, Autodesk.Viewing.Private.calculatePrecision(size));\n\n        if (size === \"\") {\n            this.calibrationTool.updateLabelValue(null);\n        } else if (!isNaN(parsedNumber)) {\n            this.calibrationTool.updateLabelValue(text);\n        }\n    };\n\n    CalibrationPanel.prototype.updatePanelPosition = function (labelPosition, p1, p2, labelOffset) {\n\n        var width = parseInt(this.container.getBoundingClientRect().width);\n        var height = parseInt(this.container.getBoundingClientRect().height);\n\n        var cornerX;\n        var cornerY;\n\n        if (!labelPosition || !p1 || !p2) {\n            cornerX = Math.floor((this.viewer.canvas.clientWidth - width) / 2);\n            cornerY = Math.floor((this.viewer.canvas.clientHeight - height) / 2);\n        }\n        else {\n            p1 = MeasureCommon.project(p1, this.viewer);\n            p2 = MeasureCommon.project(p2, this.viewer);\n            var rubberbandDirection = new THREE.Vector2().copy(p1).sub(p2).normalize();\n\n            var normal;\n            if (p1.x < p2.x) {\n                normal = new THREE.Vector2(rubberbandDirection.y, -rubberbandDirection.x);\n            } else {\n                normal = new THREE.Vector2(-rubberbandDirection.y, rubberbandDirection.x);\n            }\n\n            var offset = labelOffset + Math.sqrt(Math.pow(width, 2) + Math.pow(height, 2)) / 2;\n\n            normal = normal.multiplyScalar(offset);\n            var pos =  labelPosition.sub(normal);\n\n            cornerX = pos.x - Math.floor(width / 2);\n            cornerY = pos.y - Math.floor(height / 2);\n\n            // if panel exceeds screen bounds, just put the panel in the center of the screen.\n            if ((cornerX < 0) || (cornerX + width > this.viewer.canvas.clientWidth) || (cornerY < 0) || (cornerY + height > this.viewer.canvas.clientHeight)) {\n                cornerX = Math.floor((this.viewer.canvas.clientWidth - width) / 2);\n                cornerY = Math.floor((this.viewer.canvas.clientHeight - height) / 2);\n            }\n        }\n\n        this.container.style.left = cornerX + 'px';\n        this.container.style.top  = cornerY + 'px';\n    };\n\n    //\n    // /** @constructor */\n    //\n    //\n    export var CalibrationRequiredDialog = function(measureExt, viewer, id, title, options)\n    {\n        var self = this;\n\n        options = options || {};\n        options.addFooter = false;\n\n        DockingPanel.call(this, viewer.container, id, title, options);\n\n        this.viewer = viewer;\n        this.measureExt = measureExt;\n        this.parentContainer = viewer.container;\n        this.container.classList.add('calibration-panel');\n        this.container.style.width = \"380px\";\n        this.container.style.height = \"190px\";\n        \n        this.setGlobalManager && this.setGlobalManager(viewer.globalManager);\n\n        if (!options.heightAdjustment)\n            options.heightAdjustment = 70;\n        if (!options.marginTop)\n            options.marginTop = 0;\n        options.left = false;\n\n        const _document = (this.getDocument && this.getDocument()) || _gDocument;\n\n        this.createScrollContainer(options);\n        this.dialogBox = _document.createElement(\"div\");\n        this.scrollContainer.appendChild( this.dialogBox );\n\n        // text\n        var calibrateNow = _document.createElement('div');\n        calibrateNow.className = 'calibration-text';\n        var text = \"Calibration Message\";\n        calibrateNow.setAttribute(\"data-i18n\", text);\n        calibrateNow.textContent = av.i18n.translate(text);\n        this.dialogBox.appendChild(calibrateNow);\n\n        var buttonsWrapper = _document.createElement('div');\n        buttonsWrapper.className = 'calibration-buttons-wrapper';\n        this.dialogBox.appendChild(buttonsWrapper);\n        \n        // Cancel button\n        var cancel = _document.createElement('div');\n        cancel.classList.add('docking-panel-secondary-button');\n        cancel.classList.add('calibration-button-left');\n        cancel.setAttribute(\"data-i18n\", \"Cancel\");\n        cancel.textContent = av.i18n.translate(\"Cancel\");\n        cancel.addEventListener('click', function () {\n            self.setVisible(false);\n        }, false);\n        buttonsWrapper.appendChild(cancel);\n\n        // Calibrate-Now button\n        var calibrateNowButton = _document.createElement('div');\n        calibrateNowButton.classList.add('docking-panel-primary-button');\n        calibrateNowButton.classList.add('calibration-button-right');\n        calibrateNowButton.setAttribute(\"data-i18n\", \"Calibrate Now\");\n        calibrateNowButton.textContent = av.i18n.translate(\"Calibrate Now\");\n        calibrateNowButton.addEventListener('click', function () {\n            self.measureExt.enableCalibrationTool(true);\n            self.setVisible(false);\n        }, false);\n        buttonsWrapper.appendChild(calibrateNowButton);\n        \n\n    }; // end constructor\n\n    CalibrationRequiredDialog.prototype = Object.create(DockingPanel.prototype);\n    ViewerPanelMixin.call(CalibrationRequiredDialog.prototype);\n\n\n    CalibrationRequiredDialog.prototype.uninitialize = function uninitialize() {\n        this.viewer = null;\n        DockingPanel.prototype.uninitialize.call(this);\n    };\n","import { CalibrationToolIndicator } from './CalibrationToolIndicator'\nimport { CalibrationPanel } from './CalibrationPanels'\n\nconst av = Autodesk.Viewing;\n\n//\n// /** @constructor */\n//\n//\nexport var CalibrationTool = function( viewer, options, sharedMeasureConfig, snapper)\n{   \n    var av = Autodesk.Viewing;\n    var avem = Autodesk.Viewing.Extensions.Measure;\n    var MeasureCommon = Autodesk.Viewing.MeasureCommon;\n\n    var _names  = [\"calibration\"];\n    var _priority = 50;\n    var _viewer  = viewer;\n    var _measurement = new MeasureCommon.Measurement(MeasureCommon.MeasurementTypes.MEASUREMENT_DISTANCE);\n    var _options = options || {};\n\n    this.setGlobalManager(viewer.globalManager);\n\n    // Shared State with MeasureTool and Indicator\n    var _sharedMeasureConfig = sharedMeasureConfig;\n\n    var _maxPrecision = options.maxPrecision || 5;\n    var _isCalibrated = (sharedMeasureConfig.calibrationFactor != null); // True when the user set the calibration, or used a Previous calibration factor.\n    \n    var _snapper = snapper;\n\n    var _active = false;\n    var _isDragging = false;\n    var _isPressing = false;\n\n    var _distance = null; // The length of the current measurement.\n    var _calibrationTaken = false; // True when the user selected two valid points and set the calibration.\n    var _selectedSize = null;\n    var _selectedUnits = null;\n    var _selectedP1 = null;\n    var _selectedP2 = null;\n    var _waitingForInput = false; // True when the user selected two valid points.\n    var _picksBackup = [];\n    var _cursorPosition = null;\n\n    var _activePoint = 0;\n    \n    var _endpointMoved = false;\n\n    var _consumeSingleClick = false;\n    var _singleClickHandled = false;\n    var _downX = null;\n    var _downY = null;\n\n    // GUI.\n    var _calibrationPanel = null;\n    var _cursor = \"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAYCAYAAAD+vg1LAAAAAXNSR0IArs4c6QAAAwZJREFUSA2tVEtLW0EUvjGJefoqSY0x0WBSiY+oNWiUINkU6ioLaaAlG1eudNVFoT+grgopiCkEIbUK1o0lusmurRSEWmmKG6MNtNhNosWqyU2CZPpN8cr15nFD7YHDzHnON2fOGYZhmHkw4XEW+wD4xkT4lMvl6CE0+Y2ohh+dz+cZn89HVS/5+n/d/wVMkXq9Xor2v5SBgsmymQwZHx+vOqlKpXKDXWI3eU6Tg+kqSjSh3W4/s9lsvzUajaNcAK3xY7Dyci3nd6WXSCS60dHRvMfjSRcKBfWV4SYbrVarB8p0PB5nY7HYmdVq/aDX67WlckpKKcvpOjs7X09OTvoPDw8z2Wy2Bu+imJqa+npycnJXGHOt3YRGoSyVSvvMZrNkYWFBs7GxkaoBAXFJcDJhcCW5rq5ur62trQ/EOhyOBhDT2Nj4qVKMqA31ve1yub7Rfufo/PycDA4OxpuamhqECaouhVqtfuD3+1tqa2uZQCCQDoVCWTwknVQDDvIKE1clI1ja09Ozg0cjx8fHpL+/P+50OhMU8f7+Punt7f2I5NdqXRXi9fV1z9jYWCuIWV5eziSTyWAqlXq1urqaw6AwOMiCG4lOYtEturu732xubhK0FQHSvfr6+lsog4HWPIPvIBqNErRiqCiwkkKpVFowZd8xZSQYDLImk+kJ52+xWJ4tLS3hU8yTkZGRBD2Ms4mu6Nun4XA4f3p6SoaGhuJ0+rgg/Bsmt9udYFmWzM3NZdDT05ztWsE5JV0R1AqUCfTt0fb2tjESiRRmZmaOUOcI3w9DY5mdnb03PDzMoDQ/MZFRzM20lO/E38vl8vt46UdAq0WNJWixlEwmu8B1bXioOxwjpgXJ0hMTE1og1qysrDghf+HnKtoD7c7u7i5ZXFzMGY3GF7iFuRR3dHTMr62tXWxtbZH29vZ3RYmECozu54ODAzpdP2hphHZOVigUVjChvgMDA+85fdm1q6vrrU6n+4WR9Zd1ujQ0Nzc/NBgMScSExXwZ2j5oL5Wo46UD/ZvxUemo+AdW1zJzUYr16wAAAABJRU5ErkJggg==), auto\";\n    var _hasUI = Autodesk.Viewing.GuiViewer3D && viewer instanceof Autodesk.Viewing.GuiViewer3D;\n\n    var MeasureCommon = Autodesk.Viewing.MeasureCommon;\n\n    function getActivePick()\n    {\n        switch (_activePoint) {\n            case 0:\n                return null;\n            case 1:\n            case 2:\n                return _measurement.getPick(_activePoint);\n            case 3:\n                return _measurement.getPick(_measurement.countPicks());\n        }\n    }\n\n    function getPreviousPick()\n    {\n        switch (_activePoint) {\n            case 0:\n                return null;\n            case 1:\n                return _measurement.getPick(_measurement.countPicks());\n            case 2:\n            case 3:\n                return _measurement.getPick(1);\n        }\n    }\n\n    function hasPreviousPick()\n    {\n        switch (_activePoint) {\n            case 0:\n                return false;\n            case 1:\n                return _measurement.hasPick(_measurement.countPicks());\n            case 2:\n            case 3:\n                return _measurement.hasPick(1);\n        }\n    }\n\n    function noPicksSet() {\n        _activePoint = 0;\n    }\n\n    function allPicksSet() {\n        _activePoint = 3;\n        _measurement.indicator.changeAllEndpointsEditableStyle(true);\n    }\n\n    function isNoPicksSet() {\n        return _activePoint === 0;\n    }\n\n    function areAllPicksSet() {\n        return _activePoint === 3;   \n    }\n\n    this.register = function()\n    {\n        if (_hasUI && !_calibrationPanel) {\n            _calibrationPanel = new CalibrationPanel( this, _viewer, \"calibration-panel\", \"Calibration\", _options );\n            _viewer.addPanel(_calibrationPanel);\n        }\n\n        this.onCameraChangeBinded = this.onCameraChange.bind(this);\n        this.screenSizeChangedBinded = this.screenSizeChanged.bind(this);\n    };\n\n    this.deregister = function()\n    {   \n        this.deactivate();\n        \n        if (_calibrationPanel) {\n            _viewer.removePanel( _calibrationPanel );\n            _calibrationPanel.uninitialize();\n            _calibrationPanel = null;\n        }\n    };\n\n    this.isActive = function()\n    {\n        return _active;\n    };\n\n    this.getNames = function()\n    {\n        return _names;\n    };\n\n    this.getName = function()\n    {\n        return _names[0];\n    };\n\n    this.getPriority = function()\n    {\n        return _priority;\n    };\n\n    this.getCursor = function() {\n        return _isDragging ? null : _cursor;\n    };\n\n    this.activate = function()\n    {\n        _active = true;\n        _isDragging = false;\n        this.isEditingEndpoint = false;\n        this.editByDrag = false;\n        noPicksSet();\n\n        _viewer.toolController.activateTool(_snapper.getName());\n        _viewer.toolController.activateTool(\"magnifyingGlass\");\n\n\n        if (!_measurement.indicator) {\n            _measurement.attachIndicator(_viewer, this, CalibrationToolIndicator);\n        }\n\n        _measurement.indicator.clear();\n\n        if (_calibrationTaken && _selectedP1 && _selectedP2) {\n            _measurement.setPick(1, _selectedP1.clone());\n            _measurement.setPick(2, _selectedP2.clone());\n\n            allPicksSet();\n\n            var parsedRequestedSize = Autodesk.Viewing.Private.UnitParser.parsePositiveNumber(_selectedSize, _selectedUnits);\n            _measurement.indicator.updateLabelValue(Autodesk.Viewing.Private.formatValueWithUnits(parsedRequestedSize, _selectedUnits, 3, _sharedMeasureConfig.precision));\n            _distance = _measurement.distanceXYZ;\n            _measurement.indicator.changeLabelClickableMode(false);\n            _waitingForInput = true;\n            var valid = this.render();\n            _measurement.indicator.changeAllEndpointsEditableStyle(true);\n\n            if (valid) {\n                if (_calibrationPanel) {\n                    _calibrationPanel.setPanelValue(_selectedSize);\n                }\n                \n                this.showPanel();\n            }\n        }\n\n        _viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onCameraChangeBinded);\n        _viewer.addEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT, this.screenSizeChangedBinded);\n    };\n\n    this.deactivate = function()\n    {   \n        if (!_active)\n            return;\n\n        _active = false;\n\n        this.hidePanel();\n        this.updateViewportId(true);\n        _waitingForInput = false;\n        _measurement.clearAllPicks();\n\n        if(_snapper && _snapper.isActive()) {\n            _viewer.toolController.deactivateTool(_snapper.getName());\n        }\n\n        _viewer.toolController.deactivateTool(\"magnifyingGlass\");\n\n        if (_measurement.indicator) {\n            _measurement.indicator.clear();\n            _measurement.indicator.destroy();\n            _measurement.indicator = null;\n        }\n\n        _viewer.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onCameraChangeBinded);\n        _viewer.removeEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT, this.screenSizeChangedBinded);\n    };\n\n    this.getActivePointIndex = function() {\n        return _activePoint;\n    };\n\n    this.setCalibrationFactor = function ( calibrationFactor ) {\n        _sharedMeasureConfig.calibrationFactor = calibrationFactor;\n    };\n\n    this.getCalibrationFactor = function () {\n        return _sharedMeasureConfig.calibrationFactor;\n    };\n\n    this.updateLabelValue = function (value) {\n        _measurement.indicator.updateLabelValue(value);\n    };\n\n    this.isCalibrationValid = function(requestedUnits, requestedSize) { \n        var parsedRequestedSize = Autodesk.Viewing.Private.UnitParser.parsePositiveNumber(requestedSize, requestedUnits); \n        return !isNaN(parsedRequestedSize); \n    };\n\n    this.calibrate = function(requestedUnits, requestedSize)\n    {\n\n        var calibrationFactor = null;\n        \n        var parsedRequestedSize = Autodesk.Viewing.Private.UnitParser.parsePositiveNumber(requestedSize, requestedUnits);\n\n        if (!isNaN(parsedRequestedSize)) {\n            var currentSize = Autodesk.Viewing.Private.convertUnits(_viewer.model.getUnitString(), requestedUnits, 1, _distance);\n            if (currentSize !== 0 && !isNaN(currentSize)) {\n                calibrationFactor = parsedRequestedSize / currentSize;\n                _sharedMeasureConfig.calibrationFactor = calibrationFactor;\n                _sharedMeasureConfig.units = requestedUnits;\n                var defualtPrecision = _viewer.model.is2d() ? 3 : 1;\n                var requestedPrecision = Autodesk.Viewing.Private.calculatePrecision(requestedSize);\n                _sharedMeasureConfig.precision = Math.max((_sharedMeasureConfig.precision ? _sharedMeasureConfig.precision : defualtPrecision), requestedPrecision);\n                _selectedSize = requestedSize;\n                _selectedUnits = requestedUnits;\n                _isCalibrated = true;\n                _calibrationTaken = true;\n                _selectedP1 = _measurement.getPick(1).clone();\n                _selectedP2 = _measurement.getPick(2).clone();\n            }\n        }\n        \n        if (calibrationFactor) {\n            _viewer.getExtension('Autodesk.Measure').enableCalibrationTool(false);\n            _viewer.dispatchEvent({ type: MeasureCommon.Events.FINISHED_CALIBRATION , units: requestedUnits , scaleFactor: calibrationFactor, size: requestedSize});\n        }\n    };\n\n    this.calibrateByScale = function(requestedUnits, requestedScale) {\n        _sharedMeasureConfig.calibrationFactor = requestedScale;\n        \n        if (_sharedMeasureConfig.units !== requestedUnits ) {\n            _sharedMeasureConfig.units = requestedUnits;\n            _selectedUnits = requestedUnits;\n        }\n\n        _isCalibrated = true;\n    };\n\n    this.getCurrentUnits = function () {\n        return _sharedMeasureConfig.units;\n    };\n\n    this.hidePanel = function() {\n        if (_calibrationPanel) {\n            _calibrationPanel.setVisible(false);\n        }\n        else {\n            _viewer.dispatchEvent({ type: MeasureCommon.Events.CLOSE_CALIBRATION_PANEL_EVENT });\n        }\n    };\n\n    this.showPanel = function() {\n\n        var self = this;\n        const _window = this.getWindow();\n\n        if (_calibrationPanel) {\n            _window.setTimeout(function () { _calibrationPanel.requestedSizeTextbox.focus();}, 0);\n            _calibrationPanel.setVisible(true);\n            _calibrationPanel.updatePanelPosition(_measurement.indicator.labelPosition, _measurement.indicator.p1, _measurement.indicator.p2, _measurement.indicator.calibrationLabel.clientHeight);\n            self.addWindowEventListener(\"keyup\", function onKeyUp(e){\n                var key = e.key || String.fromCharCode(e.keyCode);\n                if (key == \"Escape\" && self.isActive()) {\n                    self.hidePanel();\n                    self.clearSize();\n                    self.showAddCalibrationLabel();\n                    \n                    self.removeWindowEventListener(\"keyup\", onKeyUp);\n                }\n            });\n        }\n        else {\n            _viewer.dispatchEvent({ type: MeasureCommon.Events.OPEN_CALIBRATION_PANEL_EVENT, data: {size: _selectedSize, units: _selectedUnits } });\n        }\n    };\n\n    this.showAddCalibrationLabel = function() {\n        _measurement.indicator.showAddCalibrationLabel();\n    };\n\n    this.isCalibrated = function() {\n        return _isCalibrated;\n    };\n\n    this.clearSize = function () {\n        _measurement.indicator.updateLabelValue(null);\n\n        if (_calibrationPanel) {\n            _calibrationPanel.requestedSizeTextbox.value = \"\";   \n        }\n        else {\n            _viewer.dispatchEvent({ type: MeasureCommon.Events.CLEAR_CALIBRATION_SIZE_EVENT });\n        }\n    };\n\n    this.getMaxPrecision = function() {\n        return _maxPrecision;\n    };\n    \n    this.clearMeasurement = function() {\n\n        noPicksSet();\n\n        this.clearPick(1);\n        this.clearPick(2);\n\n        _measurement.indicator.clear();\n        \n        this.updateViewportId(true);\n        this.hidePanel();\n\n        _waitingForInput = false;\n    };\n\n    this.clearPick = function(pickNumber) {\n        if (_measurement.hasPick(pickNumber)) {\n            _measurement.clearPick(pickNumber);\n            _measurement.indicator.hideClick(pickNumber);\n        }\n    };\n\n    this.repickEndpoint = function(pickNumber) {\n        this.clearPick(pickNumber);\n        this.editEndpoint(null, pickNumber);\n    };\n\n    this.getSnapper = function() {\n        return _snapper;\n    };\n\n    this._handleMouseEvent = function (event) {\n\n        var valid = false;\n\n        if (_snapper.isSnapped()) {\n\n            // User picked a new point after two points where already set (or none) - Start a new measurement.\n            if (areAllPicksSet() || isNoPicksSet()) {\n                this.clearMeasurement();\n                _activePoint = 1;\n            }\n            \n            _snapper.copyResults(getActivePick());\n\n            valid = true;\n\n        } \n        else { \n            // In order to draw rubber-band, set the cursor position, so the indicator will use it as active point.\n            if (event && _viewer.model.is2d()) {\n                var viewport = _viewer.container.getBoundingClientRect();\n                var x = event.canvasX || event.clientX - viewport.left;\n                var y = event.canvasY || event.clientY - viewport.top;\n\n                if (x && y) {\n                    _cursorPosition = MeasureCommon.inverseProject({ x:x, y:y }, _viewer);\n                }\n            }\n\n            // In case a measurement is set, and the user clicks on a blank spot - don't do nothing.\n            if (_consumeSingleClick && _measurement && !this.isEditingEndpoint) {\n                if (_activePoint === _measurement.getMaxNumberOfPicks() + 1) {\n                    return true;\n                }\n            }\n\n            var lastPick = getActivePick();\n            if (lastPick) {\n                lastPick.clear();\n            }\n        }\n\n        this.correctPickPosition();\n\n        if (_consumeSingleClick) {\n            this._doConsumeSingleClick(valid);\n        }\n        \n        if (!isNoPicksSet()) {\n            var renderSucceeded = this.render();\n\n            // If it's the first pick, we don't expect the render of the rubberband to be succeeded.\n            // So enter here only if it's not the first pick.\n            if (_measurement.hasPick(2)) {\n                valid &= renderSucceeded;\n            }\n        }\n\n        if (_consumeSingleClick) {\n            if (_measurement.isComplete() && valid) {\n                _distance = _measurement.distanceXYZ;\n                this.clearSize();\n                this.showPanel();\n                _waitingForInput = true;\n            }\n            else {\n                this.hidePanel();\n                _measurement.indicator.updateLabelValue(null);\n                _waitingForInput = false;\n            }\n        }\n\n        // If valid is false, the last pick is not revelant, and will clear it in case of a click.\n        return valid;\n    };\n\n    this.updateViewportId = function(clear) {\n        if (_viewer.model && _viewer.model.is2d()) {\n            if (clear || isNoPicksSet()) {\n                viewer.impl.updateViewportId(0);\n                _snapper.setViewportId(null);\n            }\n            else if (!_isPressing) {\n                var viewport = getPreviousPick().viewportIndex2d || getActivePick().viewportIndex2d;\n                \n                // Pass viewport Id to LineShader to make all other geometries with different viewport transparent\n                viewer.impl.updateViewportId(viewport);\n                if (_snapper)\n                    _snapper.setViewportId(viewport);  \n            \n            }\n        }\n    };\n\n    this._doConsumeSingleClick = function(valid) {\n\n        this.updateViewportId(_measurement.isComplete());\n\n        _measurement.indicator.clear();\n    };\n\n\n    this.handleButtonDown = function (event, button) {\n        if (av.isMobileDevice()) \n            return false;\n\n        _isDragging = true;\n        if (button === 0 && !event.ctrlKey && !event.metaKey && !event.shiftKey && !event.altKey) {\n            _consumeSingleClick = true;\n            _downX = event.canvasX;\n            _downY = event.canvasY;\n        }\n        return false;\n    };\n\n    this.handleMouseMove = function (event) {\n        if (av.isMobileDevice())\n            return false;\n\n        if (event.canvasX !== _downX || event.canvasY !== _downY) {\n            _consumeSingleClick = false;    \n        }\n\n        _endpointMoved = this.isEditingEndpoint;    \n\n        if (!isNoPicksSet() && !areAllPicksSet()) {\n            this.clearPick(_activePoint);\n            this._handleMouseEvent(event);\n        }\n\n        _snapper.indicator.render();\n        \n        return false;\n    };\n\n    this.restoreMouseListeners = function () {\n\n        // When a press event has happend, the default behavior of firefly.js is to disable other mouse events,\n        // So they won't be triggered as well.\n        // The solution is to enable them after the end of the pressing.\n\n        _viewer.toolController.getTool(\"gestures\").controller.enableMouseButtons(true);\n    };\n\n    this.handlePressHold = function (event) {\n        _consumeSingleClick = false;\n\n        if (av.isTouchDevice()) {\n            switch( event.type )\n            {\n                case \"press\":\n                    _isPressing = true;\n                    if (areAllPicksSet()) {\n                        this.clearMeasurement();\n                    } else {\n                        this.clearPick(_activePoint);\n                    }\n                    this._handleMouseEvent(event);\n                    _snapper.indicator.render();\n\n                    return true;\n\n                case \"pressup\":\n                    _consumeSingleClick = true;\n                    this.restoreMouseListeners();\n                    _singleClickHandled = !_singleClickHandled;\n                    this.handleSingleClick(event);\n                    _isPressing = false;\n                    return true;\n            }\n        }\n        return false;\n\n    };\n\n    this.correctPickPosition = function() {\n        \n        var active = getActivePick();\n            \n        if (active && !active.getGeometry() && _cursorPosition) {\n            active.geomType = MeasureCommon.SnapType.SNAP_VERTEX;\n            active.geomVertex = _cursorPosition;\n            active.intersectPoint = _cursorPosition;\n        }\n\n        if (hasPreviousPick()) {\n            var passive = getPreviousPick();\n            MeasureCommon.correctPerpendicularPicks(passive, active, viewer, _snapper);\n        }\n    };\n\n    this.render = function() {\n\n        var hasResult = _measurement.computeResult(_measurement.picks, _viewer, _snapper);\n        _measurement.indicator.render(_measurement.picks, _consumeSingleClick || _waitingForInput);\n\n        return hasResult;\n    };\n\n    this.editEndpoint = function(event, endpointNumber) {\n        if (_activePoint === endpointNumber) {\n            _measurement.indicator.changeEndpointOnEditStyle(endpointNumber, false);\n            this.undoEditEndpoint();\n            return;\n        }\n\n        _activePoint = endpointNumber;\n        this.isEditingEndpoint = true;\n\n        _measurement.indicator.changeEndpointOnEditStyle(endpointNumber, true);\n        _measurement.indicator.changeAllEndpointsEditableStyle(false);\n\n        for (var key in _measurement.picks) {\n            if (_measurement.picks.hasOwnProperty(key)) {\n                _picksBackup[key] = _measurement.getPick(key).clone();\n            }\n        }\n\n        this.updateViewportId();\n\n        this.hidePanel();\n        _measurement.indicator.updateLabelValue(null);\n        _waitingForInput = false;\n\n        if(!av.isMobileDevice()) {\n            this._handleMouseEvent(event);\n        }\n    };\n\n    this.undoEditEndpoint = function() {\n        _measurement.indicator.clear();\n\n        for (var key in _measurement.picks) {\n            if (_measurement.picks.hasOwnProperty(key)) {\n                _measurement.setPick(key, _picksBackup[key].clone());\n            }\n        }\n        \n        this.updateViewportId(true);\n        this.isEditingEndpoint = false;\n        _waitingForInput = true;\n\n        allPicksSet();\n        var valid = this.render();\n        \n        if (valid) {\n            this.showPanel();\n        }\n    };\n\n    this.handleGesture = function(event)\n    {   \n        if (av.isTouchDevice()){\n            \n            _consumeSingleClick = false;\n        \n            if (_isPressing) {\n                \n                this.clearPick(_activePoint);\n\n                switch( event.type )\n                {\n                    case \"dragstart\":\n                        this._handleMouseEvent(event);\n                        _snapper.indicator.render();\n\n                        return true;\n\n                    case \"dragmove\":\n                        this._handleMouseEvent(event);\n                        _snapper.indicator.render();\n\n                        return true;\n\n                    case \"dragend\":\n                        _isPressing = false;\n                        _consumeSingleClick = true;\n\n                        if (!this.editByDrag) {\n                            _singleClickHandled = !_singleClickHandled;\n                            this.handleSingleClick(event);    \n                        }\n\n                        this.editByDrag = false;\n                        this.restoreMouseListeners();\n                        return true;\n\n                    case \"pinchend\":\n                        _consumeSingleClick = true;\n                        _singleClickHandled = !_singleClickHandled;\n                        this.handleSingleClick(event);\n                        this.restoreMouseListeners();\n                        return true;\n                }\n            }\n        }\n\n        return false;\n    };\n\n    this.handleButtonUp = function (event) {\n        _isDragging = false;\n        _downX = null;\n        _downY = null;\n        \n        if (_endpointMoved) {\n            _consumeSingleClick = true;\n            _singleClickHandled = !_singleClickHandled;\n            this.handleSingleClick(event);\n            _endpointMoved = false;\n        }\n\n        return false;\n    };\n\n    this.handleSingleClick = function (event) {\n        if (_consumeSingleClick) {\n            \n            _snapper.indicator.clearOverlays();\n\n            _measurement.indicator.changeEndpointOnEditStyle(_activePoint, false);\n\n            if (this._handleMouseEvent(event)) {\n                _measurement.indicator.showEndpoints();\n                _measurement.indicator.updateLabelsPosition();\n                _activePoint++;\n            }\n            else {\n                if (this.isEditingEndpoint) {\n                    this.undoEditEndpoint();\n                }\n                else {\n                    this.clearMeasurement();\n                }\n            }\n\n            if (_measurement.isComplete()) {\n                allPicksSet();\n            }\n\n            _consumeSingleClick = false;\n            _singleClickHandled = !_singleClickHandled;\n            this.isEditingEndpoint = false;\n\n            _snapper.clearSnapped();\n        }\n        return true;\n    };\n\n    this.handleDoubleClick = function() {\n        return true;\n    };\n\n    this.handleSingleTap = function (event) {\n        if (!_singleClickHandled) {\n            _consumeSingleClick = true;\n            _snapper.onMouseDown({x: event.canvasX, y:event.canvasY});\n            this.handleSingleClick(event);\n        }\n        _singleClickHandled = !_singleClickHandled;\n\n        return true;\n    };\n\n    this.handleDoubleTap = function() {\n        return true;\n    };\n\n    this.handleResize = function() {\n        if (_measurement.indicator) {\n            _measurement.indicator.handleResize();\n        }\n    };\n\n    this.onCameraChange = function() {\n        if (_snapper.indicator) {\n            _snapper.indicator.onCameraChange();\n        }\n    };\n\n    this.screenSizeChanged = function(event) {\n        this.onCameraChange();\n    };\n};\n\nav.GlobalManagerMixin.call(CalibrationTool.prototype);","\nconst av = Autodesk.Viewing;\n\nexport var MagnifyingGlass = function(viewer) {\n\n    var _viewer = viewer;\n    var _active = false;\n    var _names = [\"magnifyingGlass\"];\n    var _priority = 70;\n    var _isPressing = false;\n    var _radius = 60;\n    var _zoom = 2;\n    var _offset = 15;\n    var _magnifyingGlassCanvas = null;\n    var _imageData = null;\n    var _imageBuffer = null;\n    var _clientX = null;\n    var _clientY = null;\n    var _needsClear = false;\n    var av = Autodesk.Viewing;\n    \n    this.setGlobalManager(viewer.globalManager);\n\n    this.isActive = function() {\n\n        return _active;\n    };\n\n    this.activate = function() {\n\n        _active = true;\n        this.updateMagnifyingGlassBinded = this.updateMagnifyingGlass.bind(this);\n    };\n\n    this.updateMagnifyingGlass = function() {\n        const _window = this.getWindow();\n        const _document = this.getDocument();\n        if (_needsClear) {\n            _magnifyingGlassCanvas && _magnifyingGlassCanvas.classList.remove('visible');\n            _needsClear = false;\n        }\n        else {\n            var pixelRatio = _window.devicePixelRatio;\n            var diameter = 2 * _radius;\n            var normlizedDiameter = diameter * pixelRatio;\n            var x = pixelRatio * (_clientX - (_radius  / _zoom));\n            var y = pixelRatio * (_clientY - (_radius  / _zoom));\n            \n            if (!_magnifyingGlassCanvas) {\n                _magnifyingGlassCanvas = _document.createElement(\"canvas\");\n                _magnifyingGlassCanvas.className = 'magnifying-glass';\n                _magnifyingGlassCanvas.width = normlizedDiameter;\n                _magnifyingGlassCanvas.height = normlizedDiameter;\n                _magnifyingGlassCanvas.style.width = diameter + 'px';\n                _magnifyingGlassCanvas.style.height = diameter + 'px';\n\n                // Swap canvas\n                _magnifyingGlassCanvas.getContext(\"2d\").translate(0, normlizedDiameter);\n                _magnifyingGlassCanvas.getContext(\"2d\").scale(1,-1);\n\n                _viewer.container.appendChild(_magnifyingGlassCanvas);\n                _imageData = _magnifyingGlassCanvas.getContext(\"2d\").createImageData(Math.ceil(normlizedDiameter / _zoom), Math.ceil(normlizedDiameter / _zoom));\n                _imageBuffer = new Uint8Array(_imageData.data.buffer);\n            }\n\n            var ctx = _magnifyingGlassCanvas.getContext(\"2d\");\n            \n            // Read the pixels from the frame buffer\n            var gl = _viewer.canvas.getContext(\"webgl\") || _viewer.canvas.getContext(\"experimental-webgl\");         \n            gl.readPixels(x, _viewer.canvas.height - y - _imageData.height, _imageData.width, _imageData.height, gl.RGBA, gl.UNSIGNED_BYTE, _imageBuffer);\n            // Put the pixel into the magnifying context.\n            ctx.putImageData(_imageData, 0, 0);\n            // Scale the image\n            ctx.drawImage(_magnifyingGlassCanvas, 0, 0, _imageData.width, _imageData.height, 0, 0, normlizedDiameter, normlizedDiameter);\n            this.setGlassPosition(_magnifyingGlassCanvas, _clientX, _clientY, diameter, _offset); \n\n            _magnifyingGlassCanvas.classList.toggle('visible', true);\n        }\n    };\n\n    this.deactivate = function() {\n        this.clearMagnifyingGlass();\n        _active = false;\n    };\n\n    this.getNames = function() {\n\n        return _names;\n    };\n\n    this.getName = function() {\n\n        return _names[0];\n    };\n\n    this.getPriority = function() {\n        return _priority;\n    };\n\n    this.setGlassPosition = function(canvas, x, y, diameter, offset) {\n            \n        // check the left border of canvas\n        canvas.style.left = (x - diameter/2) + 'px';\n\n        // check the top border of canvas\n        if (y - diameter - offset > 0) {\n            canvas.style.top  = (y - diameter - offset) + 'px';    \n        }\n        else {\n            canvas.style.top = (y + offset) + 'px';    \n        }\n    };\n\n    this.requestUpdate = function() {\n        if(!_viewer.hasEventListener(Autodesk.Viewing.RENDER_PRESENTED_EVENT, this.updateMagnifyingGlassBinded)) {\n           _viewer.addEventListener(Autodesk.Viewing.RENDER_PRESENTED_EVENT, this.updateMagnifyingGlassBinded, { once: true });\n        }\n    };\n\n    this.drawMagnifyingGlass = function(clientX, clientY) {\n        _clientX = clientX;\n        _clientY = clientY;\n        _viewer.impl.invalidate(false, false, true);\n        this.requestUpdate();\n    };\n\n    this.clearMagnifyingGlass = function () {\n        _needsClear = true;\n        this.requestUpdate();\n    };\n\n    this.handlePressHold = function (event) {\n\n        if (av.isTouchDevice()) {\n            switch( event.type )\n            {\n                case \"press\":\n                    _isPressing = true;\n                    this.drawMagnifyingGlass(event.canvasX, event.canvasY);\n                    break;\n\n                case \"pressup\":\n                    this.clearMagnifyingGlass();\n                    _isPressing = false;\n                    break;\n            }\n        }\n        return false;\n\n    };\n\n    this.handleGesture = function(event) {\n\n        if (_isPressing && av.isTouchDevice()) {\n            switch( event.type )\n            {\n                case \"dragstart\":\n                    this.drawMagnifyingGlass(event.canvasX, event.canvasY);\n                    break;\n\n                case \"dragmove\":\n                    this.drawMagnifyingGlass(event.canvasX, event.canvasY);\n                    break;\n\n                case \"dragend\":\n                    this.clearMagnifyingGlass();\n                    _isPressing = false;\n                    break;\n\n                case \"pinchstart\":\n                    this.drawMagnifyingGlass(event.canvasX, event.canvasY);\n                    break;\n\n                case \"pinchmove\":\n                    this.drawMagnifyingGlass(event.canvasX, event.canvasY);\n                    break;\n\n                case \"pinchend\":\n                    this.clearMagnifyingGlass();\n                    break;\n            }\n        }\n\n        return false;\n    };\n\n    this.handleMouseMove = function (event) {\n        return false;\n    };\n\n    this.handleWheelInput = function (delta) {\n        return false;\n    };\n\n    this.handleButtonUp = function (event, button) {\n        return false;\n    };\n\n};\n\nav.GlobalManagerMixin.call(MagnifyingGlass.prototype);\n","\n    var av = Autodesk.Viewing;\n    var avu = Autodesk.Viewing.UI;\n    var avp = Autodesk.Viewing.Private;\n    var MeasureCommon = Autodesk.Viewing.MeasureCommon;\n\n    // /** @constructor */\n    export function MeasureToolbar(measureExtension)\n    {\n        this.measureExtension = measureExtension;\n        this.measureTool = this.measureExtension.measureTool;\n        this.viewer = this.measureExtension.viewer;\n        this.setGlobalManager(this.viewer.globalManager);\n        this.visible = false;\n        this.buttonsList = [];\n    }\n\n    var proto = MeasureToolbar.prototype;\n    av.GlobalManagerMixin.call(MeasureToolbar.prototype);\n\n    proto.init = function() {\n        var self = this;\n\n        const _document = this.getDocument();\n\n        // Add Measure tool toolbar to main toolbar\n        var toolbar = this.viewer.getToolbar();\n        var navigationBar = toolbar.getControl(Autodesk.Viewing.TOOLBAR.NAVTOOLSID);\n        var toolbarOptions = {};\n        toolbarOptions.index = toolbar.indexOf(navigationBar) + 1;\n        this.measureToolbar = new avu.ControlGroup(Autodesk.Viewing.TOOLBAR.MEASURETOOLSID);\n        this.measureToolbar.setGlobalManager(this.globalManager);\n        toolbar.addControl(this.measureToolbar, toolbarOptions);\n    \n\n        // Create a button for the measure simple distance.\n        this.measureSimpleDistanceBtn = new avu.Button(\"toolbar-measureTool-simple-distance\");\n        this.measureSimpleDistanceBtn.setGlobalManager(this.globalManager);\n        this.measureSimpleDistanceBtn.setToolTip(\"Distance\");\n        this.measureSimpleDistanceBtn.setIcon(\"adsk-icon-measure-distance-new\");\n        this.measureSimpleDistanceBtn.onClick = function() {\n            var enable = self.measureSimpleDistanceBtn.getState() !== avu.Button.State.ACTIVE;\n            if (enable) {\n                self.measureExtension.activate('distance');\n            } else {\n                self.measureTool.deselectAllMeasurements();\n            }\n        };\n\n        this.measureToolbar.addControl(this.measureSimpleDistanceBtn);\n        this.buttonsList[MeasureCommon.MeasurementTypes.MEASUREMENT_DISTANCE] = this.measureSimpleDistanceBtn;\n\n\n        // Create a button for the measure Angle.\n        this.measureAngleBtn = new avu.Button(\"toolbar-measureTool-angle\");\n        this.measureAngleBtn.setGlobalManager(this.globalManager);\n        this.measureAngleBtn.setToolTip(\"Angle\");\n        this.measureAngleBtn.setIcon(\"adsk-icon-measure-angle-new\");\n        this.measureAngleBtn.onClick = function () {\n            var enable = self.measureAngleBtn.getState() !== avu.Button.State.ACTIVE;\n            if (enable) {\n                self.measureExtension.activate('angle');\n            } else {\n                self.measureTool.deselectAllMeasurements();\n            }\n        };\n        this.measureToolbar.addControl(this.measureAngleBtn);\n        this.buttonsList[MeasureCommon.MeasurementTypes.MEASUREMENT_ANGLE] = this.measureAngleBtn;\n\n        if (this.viewer.model && this.viewer.model.is2d()) {\n            // Create a button for the measure distance.\n            this.measureAreaBtn = new avu.Button(\"toolbar-measureTool-area\");\n            this.measureAreaBtn.setGlobalManager(this.globalManager);\n            this.measureAreaBtn.setToolTip(\"Area\");\n            this.measureAreaBtn.setIcon(\"adsk-icon-measure-area-new\");\n            this.measureAreaBtn.onClick = function() {\n                var enable = self.measureAreaBtn.getState() !== avu.Button.State.ACTIVE;\n                if (enable) {\n                    self.measureExtension.activate('area');\n                } else {\n                    self.measureTool.deselectAllMeasurements();\n                }\n            };\n\n            this.measureToolbar.addControl(this.measureAreaBtn);\n            this.buttonsList[MeasureCommon.MeasurementTypes.MEASUREMENT_AREA] = this.measureAreaBtn;\n        }\n\n        // Create a button for the Calibration tool.\n        this.calibrationToolBtn = new avu.Button( \"toolbar-calibrationTool\");\n        this.calibrationToolBtn.setGlobalManager(this.globalManager);\n        this.calibrationToolBtn.setToolTip(\"Calibrate\");\n        this.calibrationToolBtn.setIcon(\"adsk-icon-measure-calibration\");\n        this.calibrationToolBtn.onClick = function(e) {\n            var enable = self.calibrationToolBtn.getState() !== avu.Button.State.ACTIVE;\n            if(enable) {\n                self.measureExtension.activate('calibrate');\n            } else  {\n                self.measureExtension.enableCalibrationTool(false);\n            }\n        };\n\n        this.measureToolbar.addControl(this.calibrationToolBtn);\n        this.buttonsList[MeasureCommon.MeasurementTypes.CALIBRATION] = this.calibrationToolBtn;\n\n        var separator = _document.createElement('div');\n        separator.className = 'measure-toolbar-seperator';\n\n        this.measureToolbar.container.appendChild(separator);\n        \n\n        // Create a button for the Trash.\n        this.deleteBtn = new avu.Button( \"toolbar-delete\");\n        this.deleteBtn.setGlobalManager(this.globalManager);\n        this.deleteBtn.setToolTip(\"Delete measurement\");\n        this.deleteBtn.setIcon(\"adsk-icon-measure-trash\");\n        this.deleteBtn.onClick = function() {\n            self.measureExtension.deleteCurrentMeasurement();\n        };\n\n        this.measureToolbar.addControl(this.deleteBtn);\n\n        // Create a button for the Settings panel.\n        this.settingsBtn = new avu.Button( \"toolbar-settings\");\n        this.settingsBtn.setGlobalManager(this.globalManager);\n        this.settingsBtn.setToolTip(\"Measure settings\");\n        this.settingsBtn.setIcon(\"adsk-icon-measure-settings\");\n\n        this.settingsControlPanel = _document.createElement('div');\n        this.settingsControlPanel.classList.add('docking-panel');\n        this.settingsControlPanel.classList.add('docking-panel-container-solid-color-b');\n        this.settingsControlPanel.classList.add('measure-settings-popup');\n        this.settingsControlPanel.classList.add('hide');\n\n        this.settingsBtn.onClick = function (event) {\n            if (this.settingsControlPanel.classList.contains('hide')) {\n                this.settingsControlPanel.classList.remove('hide');\n                this.setButtonActive(this.settingsBtn);\n            }\n            else {\n                this.settingsControlPanel.classList.add('hide');\n                this.setButtonInactive(this.settingsBtn);\n            }\n        }.bind(this);\n\n        this.measureToolbar.container.appendChild(this.settingsControlPanel);\n        this.settingsControlPanel.root = this.settingsBtn;\n        this.measureToolbar.addControl(this.settingsBtn);\n\n\n        // Settings Panel\n        this.table = _document.createElement(\"table\");\n        this.table.classList.add(\"adsk-lmv-tftable\");\n        this.table.classList.add(\"calibration-table\");\n\n        this.tbody = _document.createElement(\"tbody\");\n        this.table.appendChild(this.tbody);\n        this.settingsControlPanel.appendChild(this.table);\n\n        this.units = [\n            { name: 'Unknown', units: '', matches: [''] },                                      // localized in OptionDropDown() call below\n            { name: 'Decimal feet', units: 'decimal-ft', matches: ['ft', 'decimal-ft'] },             // localized in OptionDropDown() call below\n            { name: 'Feet and fractional inches', units: 'ft-and-fractional-in', matches: ['ft-and-fractional-in'] },         // localized in OptionDropDown() call below\n            { name: 'Feet and decimal inches', units: 'ft-and-decimal-in', matches: ['ft-and-decimal-in'] }, // localized in OptionDropDown() call below\n            { name: 'Decimal inches', units: 'decimal-in', matches: ['in', 'decimal-in'] },           // localized in OptionDropDown() call below\n            { name: 'Fractional inches', units: 'fractional-in', matches: ['fractional-in'] },  // localized in OptionDropDown() call below\n            { name: 'Meters', units: 'm', matches: ['m'] },                                     // localized in OptionDropDown() call below\n            { name: 'Centimeters', units: 'cm', matches: ['cm'] },                              // localized in OptionDropDown() call below\n            { name: 'Millimeters', units: 'mm', matches: ['mm'] },                              // localized in OptionDropDown() call below\n            { name: 'Meters and centimeters', units: 'm-and-cm', matches: ['m-and-cm'] },        // localized in OptionDropDown() call below\n            { name: 'Points', units: 'pt', matches: ['pt'] }                                    // localized in OptionDropDown() call below\n        ];\n\n        var initialIndex = this.findUnits(),\n            unitNames = [];\n        \n        // It is not possible to hide elements in Safari.\n        if (av.isSafari() && this.viewer.model.getDisplayUnit()){\n            // We will remove the 'Unknown' unit from the units array.\n            this.units.shift();\n        }\n        \n        for (var i = 0; i < this.units.length; ++i) {\n            unitNames.push(this.units[i].name);\n        }\n\n        this.unitList = new avp.OptionDropDown(\"Unit type\", this.tbody, unitNames, initialIndex, null, { paddingLeft: 0, paddingRight: 15 });\n        this.unitList.setGlobalManager(this.globalManager);\n        this.unitList.addEventListener(\"change\", function(e) {\n            var index = self.unitList.selectedIndex;\n            var toUnits = self.units[index].units;\n            self.measureTool.setUnits(toUnits);\n            self.setupPrecision();\n            avp.logger.track({ category: 'pref_changed', name: 'measure/units', value: toUnits });\n        });\n\n        this.precisionList = new avp.OptionDropDown(\"Precision\", this.tbody, [], -1, null, { paddingLeft: 0, paddingRight: 15 });\n        this.precisionList.setGlobalManager(this.globalManager);\n        this.precisionList.addEventListener(\"change\", function(e) {\n            var index = self.precisionList.selectedIndex;\n            self.measureTool.setPrecision(index);\n            avp.logger.track({ category: 'pref_changed', name: 'measure/precision', value: index });\n        });\n\n        this.isolate = new avp.OptionCheckbox(\"Isolate measurement\", this.tbody, false);\n        this.isolate.setGlobalManager(this.globalManager);\n        this.isolate.addEventListener(\"change\", function(e) {\n            var enable = self.isolate.checked;\n            self.measureTool.setIsolateMeasure(enable);\n            if (enable) {\n                self.measureTool.isolateMeasurement();\n            }\n            else {\n                self.measureTool.clearIsolate();\n            }\n            avp.logger.track({ category: 'pref_changed', name: 'measure/isolate', value: enable });\n        });\n\n        this.setupPrecision();\n\n        this.updateSettingsPanel();\n\n        if (this.viewer.model && this.viewer.model.is2d()) {\n            this.isolate.setVisibility(false);\n        }\n\n        if (!this.measureExtension.sharedMeasureConfig.units) {\n            this.disableUnitOption();\n        }\n        // Only disable option if the browser is not Safari\n        else if (!Autodesk.Viewing.isSafari()){\n            this.disableUnitOption(0);  // disable \"Unknown\" option when the model has units\n        }\n\n\n        // Create a button for 'Done'.\n        this.measureDoneBtn = new avu.Button(\"toolbar-measureTool-done\");\n        this.measureDoneBtn.setGlobalManager(this.globalManager);\n        var doneText = Autodesk.Viewing.i18n.translate('Done');\n        this.measureDoneBtn.setToolTip(doneText);\n        var cancelLabel = _document.createElement('label');\n        cancelLabel.textContent = doneText;\n        var btnContainer = this.measureDoneBtn.container;\n        btnContainer.appendChild(cancelLabel);\n        btnContainer.classList.add('adsk-label-button');\n        var iconEle = btnContainer.getElementsByClassName('adsk-button-icon');\n        iconEle && iconEle[0] && (iconEle[0].style.display = 'none');\n\n        this.measureDoneBtn.onClick = function() {\n            this.measureExtension.exitMeasurementMode();\n        }.bind(this);\n        this.measureToolbar.addControl(this.measureDoneBtn);\n\n        // this.settingsControlPanel.style.width = this.measureToolbar.container.getBoundingClientRect().width + 'px';\n        this.measureToolbar.setVisible(false);\n\n    };\n\n    proto.destroy = function() {\n\n        // If toolbar was open, close it first. Otherwise, we leave ModelTools toolbar in a broken state.\n        if (this.visible) {\n            this.closeToolbar();\n        }\n\n        if (this.measureToolbar) {\n            this.measureToolbar.removeFromParent();\n            this.measureToolbar = null;\n        }\n    };\n\n    proto.closeToolbar = function() {\n\n        this.measureExtension.enableMeasureTool(false);\n        this.measureExtension.enableCalibrationTool(false);\n        this.toggleVisible();\n\n        var toolbar = this.viewer.getToolbar();\n        var viewerToolbarContainer = toolbar.container;\n        var viewerContainerChildrenCount = viewerToolbarContainer.children.length;\n        \n        for(var i = 0; i < viewerContainerChildrenCount; ++i) {\n            viewerToolbarContainer.children[i].style.display = \"\";\n        }\n\n        var modelTools = toolbar.getControl(av.TOOLBAR.MODELTOOLSID);\n        modelTools.addControl(this.measureExtension.measurementToolbarButton, {index: this.measureExtension.measurementToolbarButton.index });\n    };\n\n    proto.toggleVisible = function() {\n        this.visible = !this.visible;\n        this.measureToolbar.setVisible(this.visible);\n        if (!this.visible) {\n            this.settingsControlPanel.classList.add('hide');\n            this.setButtonInactive(this.settingsBtn);\n        }\n    };\n\n    proto.setButtonActive = function(button) {\n        button.setState(avu.Button.State.ACTIVE);\n    };\n\n    proto.setButtonInactive = function(button) {\n        button.setState(avu.Button.State.INACTIVE);\n    };\n\n    proto.deactivateAllButtons = function() {\n        for (var key in this.buttonsList) {\n            if (this.buttonsList.hasOwnProperty(key)) {\n                var button = this.buttonsList[key];\n                this.setButtonInactive(button);   \n            }\n        }\n    };\n\n    proto.activateButtonByType = function(measurementType) {\n        this.setButtonActive(this.buttonsList[measurementType]);\n    };            \n\n    proto.setupPrecision = function() {\n        const _document = this.getDocument();\n        while (this.precisionList.dropdownElement.lastChild) {\n            this.precisionList.dropdownElement.removeChild(this.precisionList.dropdownElement.lastChild);\n        }\n\n        var selectedUnits = this.measureTool.getUnits(),\n            precisions;\n\n        if (selectedUnits === 'ft-and-fractional-in' || selectedUnits === 'fractional-in') {\n            precisions = ['1', '1/2', '1/4', '1/8', '1/16', '1/32', '1/64'];\n        } else {\n            precisions = ['0', '0.1', '0.01', '0.001', '0.0001', '0.00001'];\n        }\n\n        for (var i = 0; i < precisions.length; ++i) {\n            var elem = _document.createElement('option');\n            elem.value = i;\n            elem.textContent = precisions[i];\n            this.precisionList.dropdownElement.appendChild(elem);\n        }\n\n        var selectedIndex = this.measureTool.getPrecision();\n        if (precisions.length <= selectedIndex) {\n            selectedIndex = precisions.length - 1;\n            this.measureTool.setPrecision(selectedIndex);\n        }\n        this.precisionList.dropdownElement.selectedIndex = selectedIndex;\n    };\n\n    proto.findUnits = function() {\n        var i,\n            j,\n            selectedUnits = this.measureTool.getUnits();\n        for (i = 0; i < this.units.length; ++i) {\n            var matches = this.units[i].matches;\n            if (matches) {\n                for (j = 0; j < matches.length; ++j) {\n                    if (matches[j] === selectedUnits) {\n                        return i;\n                    }\n                }\n            }\n        }\n        return 0;\n    };\n\n    proto.disableUnitOption = function( index ) {\n        if (index != null) {\n            this.unitList.dropdownElement.children[index].style.display = \"none\";\n            if (av.isIE11) {\n                // IE11 can't hide <option> elements...\n                this.unitList.dropdownElement.children[index].disabled = true;\n                this.unitList.dropdownElement.children[index].style.visibility = \"hidden\";\n            }\n        } else {  // disable all options\n            this.unitList.dropdownElement.disabled = true;\n        }\n    };\n\n    proto.updateSettingsPanel = function() {\n        this.unitList.dropdownElement.selectedIndex = this.findUnits();\n        this.precisionList.dropdownElement.selectedIndex = this.measureTool.getPrecision();\n        this.setupPrecision();\n    };\n\n\n","import { MeasureTool } from './MeasureTool'\nimport { CalibrationTool } from './CalibrationTool'\nimport { MagnifyingGlass } from './MagnifyingGlass'\nimport { CalibrationRequiredDialog } from './CalibrationPanels'\nimport { MeasureToolbar } from './MeasureToolbar'\n\n\nimport CSS_1 from './Measure.css'       // IMPORTANT!!\nimport CSS_2 from './Calibration.css'   // IMPORTANT!!\n\n'use strict';\n\nvar avem = AutodeskNamespace('Autodesk.Viewing.Extensions.Measure'),\n    av = Autodesk.Viewing,\n    avp = Autodesk.Viewing.Private,\n    avu = av.UI;\nvar MeasureCommon = Autodesk.Viewing.MeasureCommon; // Comes form main viewer bundle.\n\nvar NONE = 0;\nvar MEASURE_TOOL = 1;\nvar CALIBRATION_TOOL = 2;\n\nvar DEFAULT_MEASUREMENT_TYPE = MeasureCommon.MeasurementTypes.MEASUREMENT_DISTANCE;\n\n/**\n * Provides UI controls to perform distance and angle measurements for 2D and 3D models.\n * \n * The extension id is: `Autodesk.Measure`\n * \n * @example\n *   viewer.loadExtension('Autodesk.Measure')\n *  \n * @memberof Autodesk.Viewing.Extensions\n * @alias Autodesk.Viewing.Extensions.MeasureExtension\n * @see {@link Autodesk.Viewing.Extension} for common inherited methods.\n * @constructor\n*/\nexport var MeasureExtension = function(viewer, options) {\n    Autodesk.Viewing.Extension.call(this, viewer, options);\n    this.modes = ['distance','angle','area','calibrate'];\n    this.name = 'measure';\n    this._onModelLoaded = this._onModelLoaded.bind(this);\n};\n\nMeasureExtension.prototype = Object.create(Autodesk.Viewing.Extension.prototype);\nMeasureExtension.prototype.constructor = MeasureExtension;\n\n\n/**\n * Load the measure extension.\n * @returns {boolean} True if measure extension is loaded successfully.\n * \n * @alias Autodesk.Viewing.Extensions.MeasureExtension#load\n*/\nMeasureExtension.prototype.load = async function() {\n\n    await this.viewer.loadExtension('Autodesk.Snapping');\n\n    var self   = this;\n    var viewer = this.viewer;\n    this.hasUI = Autodesk.Viewing.GuiViewer3D && viewer instanceof Autodesk.Viewing.GuiViewer3D;\n\n    this.escapeHotkeyId = 'Autodesk.Measure.Hotkeys.Escape';\n\n    // Register the Measure tool\n    if (!viewer.toolController){\n        return false;\n    }\n\n    this.options = this.options || {};\n    var measureToolOptions = {};\n\n    measureToolOptions.onCloseCallback = function() {\n        self.enableMeasureTool(false);\n    };\n\n    // Shared State with measureTool & calibrationTool.\n    // Gets populated when a model is received.\n    this.sharedMeasureConfig = { \n        units: null,\n        precision: null,\n        calibrationFactor: null\n    };\n\n\tmeasureToolOptions.snapperOptions = this.options.snapperOptions;\n\n    this.forceCalibrate = this.options.forceCalibrate;\n\n    this.snapper = new Autodesk.Viewing.Extensions.Snapping.Snapper(viewer, {\n        renderSnappedTopology: true\n    });\n    viewer.toolController.registerTool(this.snapper);\n\n    this.measureTool = new MeasureTool(viewer, measureToolOptions, this.sharedMeasureConfig, this.snapper);\n    viewer.toolController.registerTool(this.measureTool);\n\n    this.calibrationTool = new CalibrationTool(viewer, this.options, this.sharedMeasureConfig, this.snapper);\n    viewer.toolController.registerTool(this.calibrationTool);\n\n    this.magnifyingGlass = new MagnifyingGlass(viewer);\n    viewer.toolController.registerTool(this.magnifyingGlass);\n\n    this.calibration = {};\n    this.onFinishedCalibration = function(event) {\n        if (self.measureToolbar) {\n            self.measureToolbar.updateSettingsPanel();\n        }\n\n        self.activateInitiator && self.activateInitiator();\n\n        // Set the calibration values\n        self.calibration.units = event.units;\n        self.calibration.scaleFactor = event.scaleFactor;\n        self.calibration.size = event.size;\n        self.calibration.precision = self.sharedMeasureConfig.precision;\n    };\n\n    viewer.addEventListener('finished-calibration', this.onFinishedCalibration);\n\n    this.onMeasurementChanged = function(event) {\n        var type = event.data.type;\n        self.changeMeasurementType(type);\n    };\n\n    viewer.addEventListener(MeasureCommon.Events.MEASUREMENT_CHANGED_EVENT, this.onMeasurementChanged);\n\n    if (viewer.model) {\n        this._onModelLoaded({ model: viewer.model });\n    } else {\n        viewer.addEventListener(av.MODEL_ROOT_LOADED_EVENT, this._onModelLoaded, { once: true });\n    }\n\n    // If there is no model anymore, interrupt any ongoing interaction.\n    // We need at least one model to derive things like is2d() and model units.\n    this.onModelRemoved = function() {\n        // If UI was not created yet or destroyed, we don't have to disable anything\n        if (!self.measurementToolbarButton) {\n            return;\n        }\n                \n        if (!self.viewer.model) {\n            self.measurementToolbarButton.setState(Autodesk.Viewing.UI.Button.State.DISABLED);\n            self.exitMeasurementMode();\n        }\n    };\n    this.onModelAdded = function() {\n\n        // If UI was not created yet or destroyed, the button will be enabled in next createUI() call\n        if (!self.measurementToolbarButton) {\n            return;\n        }\n\n        // On first model-add, re-enable measure toolbar again\n        var modelCount = self.viewer.getVisibleModels().length;\n        if (modelCount === 1 && self.measurementToolbarButton) {\n            self.measurementToolbarButton.setState(Autodesk.Viewing.UI.Button.State.INACTIVE);\n        }\n    };\n    viewer.addEventListener(av.MODEL_ADDED_EVENT, this.onModelAdded);\n    viewer.addEventListener(av.MODEL_REMOVED_EVENT, this.onModelRemoved);\n};\n\nMeasureExtension.prototype._onModelLoaded = function(event) {\n    var model = event.model;\n    this.sharedMeasureConfig.units = this.options.calibrationUnits || model.getDisplayUnit();\n    this.sharedMeasureConfig.precision = model.is2d() ? 3 : 1;\n\n    if (this.options.calibrationUnits && !isNaN(this.options.calibrationFactor)) {\n        this.calibrationTool.calibrateByScale(this.options.calibrationUnits, this.options.calibrationFactor);\n    }\n}\n\n/**\n * Unload the measure extension.\n * @returns {boolean} True if measure extension is unloaded successfully.\n * \n * @alias Autodesk.Viewing.Extensions.MeasureExtension#unload\n*/\nMeasureExtension.prototype.unload = function () {\n    var viewer = this.viewer;\n\n    // Remove the ui from the viewer.\n    this.destroyUI();\n\n    viewer.removeEventListener('finished-calibration', this.onFinishedCalibration);\n    viewer.removeEventListener(MeasureCommon.Events.MEASUREMENT_CHANGED_EVENT, this.onMeasurementChanged);\n    viewer.removeEventListener(av.MODEL_ADDED_EVENT, this.onModelAdded);\n    viewer.removeEventListener(av.MODEL_REMOVED_EVENT, this.onModelRemoved);\n    viewer.removeEventListener(av.MODEL_ROOT_LOADED_EVENT, this._onModelLoaded);\n\n    viewer.toolController.deregisterTool(this.snapper);\n    this.snapper = null;\n\n    viewer.toolController.deregisterTool(this.measureTool);\n    this.measureTool = null;\n\n    viewer.toolController.deregisterTool(this.calibrationTool);\n    this.calibrationTool = null;\n\n    viewer.toolController.deregisterTool(this.magnifyingGlass);\n    this.magnifyingGlass = null;\n\n    this.unloaded = true;\n    return true;\n};\n\n/**\n * Enable/disable the measure tool.\n * It does not update the toolbar UI.\n * \n * @param {boolean} active - True to activate, false to deactivate.\n * @returns {boolean} True if a change in activeness occurred.\n */\nMeasureExtension.prototype.setActive = function(active) {\n    return this.enableMeasureTool(active);\n};\n\n/**\n * Toggles activeness of the measure tool.\n * It does not update the toolbar UI.\n * \n * @return {boolean} Whether the tool is active.\n */\nMeasureExtension.prototype.toggle = function() {\n    if (this.isActive()) {\n        this.enableMeasureTool(false);\n    } else {\n        this.enableMeasureTool(true);\n    }\n    return this.isActive();\n};\n\n/**\n * Get the current measurement in the measure tool.\n * @param {string} [unitType] - Either: \"decimal-ft\", \"ft\", \"ft-and-decimal-in\", \"decimal-in\", \"fractional-in\", \"m\", \"cm\", \"mm\" or \"m-and-cm\".\n * @param {number} [precision] - precision index (0: 0, 1: 0.1, 2: 0.01, 3: 0.001, 4: 0.0001, 5: 0.00001).\n * When units type is \"ft\", \"in\" or \"fractional-in\", then the precisions are 0: 1, 1: 1/2, 2: 1/4, 3: 1/8, 4: 1/16, 5: 1/32, 6: 1/64.\n * @returns {object|null} Object with properties of the current measurement, or null.\n */\nMeasureExtension.prototype.getMeasurement = function(unitType, precision) {\n    var measurement = null;\n    if (this.measureTool.isActive()) {\n        measurement = this.measureTool.getMeasurement(unitType, precision);\n    }\n    return measurement;\n};\n\n/**\n * Get a list of all the measurements that are currently on the screen.\n * @param {string} [unitType] - Either: \"decimal-ft\", \"ft\", \"ft-and-decimal-in\", \"decimal-in\", \"fractional-in\", \"m\", \"cm\", \"mm\" or \"m-and-cm\".\n * @param {number} [precision] - precision index (0: 0, 1: 0.1, 2: 0.01, 3: 0.001, 4: 0.0001, 5: 0.00001).\n * When units type is \"ft\", \"in\" or \"fractional-in\", then the precisions are 0: 1, 1: 1/2, 2: 1/4, 3: 1/8, 4: 1/16, 5: 1/32, 6: 1/64.\n * @returns {Array.<Object>} An array of measurement objects with properties of the measurement.\n */\n\nMeasureExtension.prototype.getMeasurementList = function(unitType, precision) {\n  var measurementList = [];\n  if(this.measureTool.isActive()) {\n      measurementList = this.measureTool.getMeasurementList(unitType, precision);\n  }\n  return measurementList;\n}\n\n/**\n * Get all available units in measure tool.\n * @returns {object[]} Array of all available units.\n*/\nMeasureExtension.prototype.getUnitOptions = function() {\n    var units = [\n        { name: 'Unknown', type: '' },\n        { name: 'Decimal feet', type: 'decimal-ft' },\n        { name: 'Feet and fractional inches', type: 'ft' },\n        { name: 'Feet and decimal inches', type: 'ft-and-decimal-in' },\n        { name: 'Decimal inches', type: 'decimal-in' },\n        { name: 'Fractional inches', type: 'fractional-in' },\n        { name: 'Meters', type: 'm' },\n        { name: 'Centimeters', type: 'cm' },\n        { name: 'Millimeters', type: 'mm' },\n        { name: 'Meters and centimeters', type: 'm-and-cm' },\n        { name: 'Points', type: 'pt' }\n    ];\n\n    return units;\n};\n\n/**\n * Get all available precisions in measure tool.\n * @param {boolean} isFractional - Set true to get fractional precisions.\n * @return {string[]} List of all available precisions.\n*/\nMeasureExtension.prototype.getPrecisionOptions = function(isFractional) {\n\n    var precisions;\n\n    if (isFractional)\n        precisions = ['1', '1/2', '1/4', '1/8', '1/16', '1/32', '1/64'];\n    else\n        precisions = ['0', '0.1', '0.01', '0.001', '0.0001', '0.00001'];\n\n    return precisions;\n};\n\n/**\n * Get the default measure unit in measure tool.\n * @returns {string} The default measure unit.\n*/\nMeasureExtension.prototype.getDefaultUnit = function() {\n    var unit = this.viewer.model.getDisplayUnit();\n\n    return unit;\n};\n\nMeasureExtension.prototype.openCalibrationRequiredDialog = function (initiator) {\n    if (this.hasUI) {\n        if (!this.CalibrationRequiredDialog) {\n            this.CalibrationRequiredDialog = new CalibrationRequiredDialog(this, this.viewer, \"calibration-required\", \"Calibration Required\", this.options );\n        }\n\n        this.CalibrationRequiredDialog.setVisible(true);\n    }\n    else {\n        this.viewer.dispatchEvent({ type: MeasureCommon.Events.CALIBRATION_REQUIRED_EVENT });\n    }\n\n    if (initiator === 'measure') {\n        this.activateInitiator = function() {\n            this.enableMeasureTool(true, DEFAULT_MEASUREMENT_TYPE);\n            this.activateInitiator = null;\n        };\n    } else if (initiator === 'dimension') {\n        this.activateInitiator = function() {\n            this.viewer.dispatchEvent({ type: MeasureCommon.Events.FINISHED_CALIBRATION_FOR_DIMENSION_EVENT });\n            this.activateInitiator = null;\n        };\n    }\n};\n\n/**\n * Get the calibration size, unit type and the calibration Factor of the model\n * @returns {Object}\n */\nMeasureExtension.prototype.getCalibration = function() {\n    return this.calibration;\n};\n\n\n/**\n * @param mode Measurement Mode\n * @returns {boolean}\n */\n\n /**\n  * Activates the tool and UI to start measuring.\n  * \n  * @param {string} [mode] - Either 'distance', 'angle', 'area' (2D only) or 'calibrate'. Default is 'distance'.\n * \n * @alias Autodesk.Viewing.Extensions.MeasureExtension#activate\n  */\nMeasureExtension.prototype.activate = function (mode) {\n    if (this.activeStatus && this.mode === mode) {\n        return true;\n    }\n    this.enterMeasurementMode();\n\n    var success;\n\n    switch (mode) {\n        default:\n            mode = 'distance';\n        case 'distance':\n            success = this.enableMeasureTool(true, MeasureCommon.MeasurementTypes.MEASUREMENT_DISTANCE);\n            break;\n        case 'angle':\n            success = this.enableMeasureTool(true, MeasureCommon.MeasurementTypes.MEASUREMENT_ANGLE);\n            break;\n        case 'area':\n            if(!this.viewer.model.is2d()) {\n                console.warn('Area mode is applicable on 2D models only');\n            } else {\n                success = this.enableMeasureTool(true, MeasureCommon.MeasurementTypes.MEASUREMENT_AREA);\n            }\n            break;\n        case 'calibrate':\n            success = this.enableCalibrationTool(true);\n            break;\n    }\n\n    this.mode = success ? mode : '';\n    this.activeStatus = true;\n    return true;\n};\n\n/**\n * Deactivates measuring tool and UI.\n * \n * @returns {boolean}\n * \n * @alias Autodesk.Viewing.Extensions.MeasureExtension#deactivate\n */\nMeasureExtension.prototype.deactivate = function () {\n    if(this.activeStatus) {\n        this.exitMeasurementMode();\n        this.enableMeasureTool(false);\n        this.activeStatus = false;\n    }\n    return true;\n};\n\n/**\n * Enable/disable the measure tool.\n * @param {boolean} enable - True to enable, false to disable.\n * @returns {boolean} True if the tool state was changed.\n * @private\n */\nMeasureExtension.prototype.enableMeasureTool = function(enable, measurementType) {\n    if (measurementType === MeasureCommon.MeasurementTypes.MEASUREMENT_AREA && this.viewer.model && !this.viewer.model.is2d()) {\n        return false;\n    }\n\n    var toolController = this.viewer.toolController,\n        isActive = (this.selectedTool === MEASURE_TOOL);\n\n    if (!this.viewer.model || (!enable && isActive)) {\n        if (this.measureTool.isActive()) {\n            toolController.deactivateTool(\"measure\");\n\n            if (this.measureToolbar) {\n                this.measureToolbar.deactivateAllButtons();\n            }\n\n            // No tool is active anymore. Only do this if measureTool was really the active one before.\n            // If not, changing selectedTool would produce an inconsistent state, e.g., CalibrationTool \n            // may still be active, but enableCalibrationTool(false) would not properly close it.\n            this.selectedTool = NONE;\n        }\n\n        return true;\n    }\n\n    this.forceCalibrate |= this.viewer.model.getData().isLeaflet || this.viewer.model.getData().isPdf;\n\n    if (!measurementType) {\n        measurementType = DEFAULT_MEASUREMENT_TYPE;\n    }\n\n    if (enable && !isActive) {\n        // Fetch topology when opening Measure tool for the first time.\n        this.checkAndFetchTopology(toolController.getTool('measure'));\n\n        if (!this.forceCalibrate || (this.forceCalibrate && this.calibrationTool.isCalibrated()) || measurementType === MeasureCommon.MeasurementTypes.MEASUREMENT_ANGLE) {\n            if (this.calibrationTool.isActive()) {\n                toolController.deactivateTool(\"calibration\");\n            }\n            \n            if (this.measureToolbar) {\n                this.measureToolbar.updateSettingsPanel();\n            }\n\n            toolController.activateTool(\"measure\");\n\n            this.selectedTool = MEASURE_TOOL;\n\n            \n\n            this.changeMeasurementType(measurementType);\n            return true;\n        }\n        else {\n            this.viewer.addEventListener(avem.OPEN_TOOL_AFTER_CALIBRAION, function(){\n                this.enableMeasureTool(true);                \n            }.bind(this), {once: true});\n            \n            this.openCalibrationRequiredDialog('measure');\n            return false;\n        }\n\n    } else if (enable && isActive) {\n        if (!this.forceCalibrate || (this.forceCalibrate && this.calibrationTool.isCalibrated()) || measurementType === MeasureCommon.MeasurementTypes.MEASUREMENT_ANGLE) {\n            this.changeMeasurementType(measurementType);\n            return true;\n        }\n        else {\n            this.openCalibrationRequiredDialog('measure');\n            return false;\n        }\n    }\n\n    return false;\n};\n\nMeasureExtension.prototype.changeMeasurementType = function(measurementType) {\n    this.measureTool.changeMeasurementType(measurementType);\n    if (this.measureToolbar) {\n        this.measureToolbar.deactivateAllButtons();\n        this.measureToolbar.activateButtonByType(measurementType);\n    }\n\n    switch (measurementType) {\n        case MeasureCommon.MeasurementTypes.MEASUREMENT_DISTANCE:\n            this.mode = 'distance';\n            break;\n        case MeasureCommon.MeasurementTypes.MEASUREMENT_ANGLE:\n            this.mode = 'angle'\n            break;\n        case MeasureCommon.MeasurementTypes.MEASUREMENT_AREA:\n            this.mode = 'area';\n            break;\n        default:\n            this.mode = '';\n    }\n};\n\n/**\n * Enable/disable the measure tool.\n * @param {boolean} enable - True to enable, false to disable.\n * @returns {boolean} True if the tool state was changed.\n * @private\n */\nMeasureExtension.prototype.enableCalibrationTool = function(enable) {\n    var toolController = this.viewer.toolController,\n        isActive = (this.selectedTool == CALIBRATION_TOOL);\n\n    if (enable && !isActive) {\n        if (this.measureTool.isActive()) {\n            toolController.deactivateTool(\"measure\");\n        }\n        \n        toolController.activateTool(\"calibration\");\n        this.viewer.dispatchEvent({ type: MeasureCommon.Events.UNITS_CALIBRATION_STARTS_EVENT });\n        \n        if (this.measureToolbar) {\n            this.measureToolbar.deactivateAllButtons();\n            this.measureToolbar.activateButtonByType(MeasureCommon.MeasurementTypes.CALIBRATION);\n        }\n\n        this.selectedTool = CALIBRATION_TOOL;\n        return true;\n\n    } else if (!enable && isActive) {\n        if (this.calibrationTool.isActive()) {\n            this.mode = '';\n            toolController.deactivateTool(\"calibration\");\n            if (this.measureToolbar) {\n                this.measureToolbar.deactivateAllButtons();\n            }\n        }\n\n        this.selectedTool = NONE;\n        return true;\n    }\n    return false;\n};\n\n/**\n * @private\n */\nMeasureExtension.prototype.enterMeasurementMode = function() {\n\n    if (this._measurementMode) return;\n    this._measurementMode = true;\n\n    if (!this.viewer.getToolbar) {\n        return; // Adds support for Viewer3D instance\n    }\n\n    var toolbar = this.viewer.getToolbar();    \n    var viewerToolbarContainer = toolbar.container;\n    var viewerContainerChildrenCount = viewerToolbarContainer.children.length;\n    for(var i = 0; i < viewerContainerChildrenCount; ++i) {\n        viewerToolbarContainer.children[i].style.display = \"none\";\n    }\n\n    this.navigationControls = toolbar.getControl(Autodesk.Viewing.TOOLBAR.NAVTOOLSID);\n    this.navigationControls.setVisible(true);\n    this.navigationControls.container.style.display = '';\n\n    this.measureControls = toolbar.getControl(Autodesk.Viewing.TOOLBAR.MEASURETOOLSID);\n    this.measureControls.setVisible(true);\n    this.measureControls.container.style.display = '';\n    \n    var measureButtonId = this.measurementToolbarButton.getId();\n    this.measurementToolbarButton.index = this.measurementToolbarButton.parent.indexOf(measureButtonId);\n    this.measurementToolbarButton.parent.removeControl(measureButtonId);\n\n    this.measureToolbar.toggleVisible();\n\n    if (this.viewer.centerToolBar) {\n        this.viewer.centerToolBar();\n    }\n\n    this.enableMeasureTool(true, DEFAULT_MEASUREMENT_TYPE);\n};\n\n/**\n * @private\n */\nMeasureExtension.prototype.exitMeasurementMode = function() {\n    if (!this._measurementMode) return;\n    this.measureToolbar && this.measureToolbar.closeToolbar();\n    if (this.CalibrationRequiredDialog && this.CalibrationRequiredDialog.isVisible()) {\n        this.CalibrationRequiredDialog.setVisible(false);\n    }\n    this._measurementMode = false;\n};\n\n/**\n * Create measure button in toolbar.\n * @private\n*/\nMeasureExtension.prototype.onToolbarCreated = function(toolbar)\n{\n    if (this.measureToolbar) {\n        return;\n    }\n\n    var self   = this;\n    var viewer = this.viewer;\n\n    // Add Measure button to toolbar\n    var modelTools = toolbar.getControl(av.TOOLBAR.MODELTOOLSID);\n    this.measurementToolbarButton = new avu.Button('toolbar-measurementSubmenuTool');\n    this.measurementToolbarButton.setToolTip('Measure');\n    this.measurementToolbarButton.setIcon(\"adsk-icon-measure\");\n    modelTools.measurementToolbarButton = this.measurementToolbarButton;\n    modelTools.addControl(this.measurementToolbarButton, {index:0});\n\n    // Set button enabled if and only if there is >=1 visible model. Otherwise, it will remain disabled until next model-add event.\n    var state = this.viewer.model ? Autodesk.Viewing.UI.Button.State.INACTIVE : Autodesk.Viewing.UI.Button.State.DISABLED;\n    this.measurementToolbarButton.setState(state);\n\n    this.measureToolbar = new MeasureToolbar(this);\n    this.measureToolbar.init();\n\n    this.measurementToolbarButton.onClick = this.activate.bind(this);\n\n    // Escape hotkey to exit tool.\n    //\n    var hotkeys = [{\n        keycodes: [\n            Autodesk.Viewing.KeyCode.ESCAPE\n        ],\n        onRelease: function () {\n            if (self._measurementMode) {\n                self.exitMeasurementMode();\n                return true;\n            }\n        }\n    }];\n    viewer.getHotkeyManager().pushHotkeys(this.escapeHotkeyId, hotkeys);\n};\n\n\n/**\n * @private\n */\nMeasureExtension.prototype.checkAndFetchTopology = function(tool) {\n\n    if (this._checkedTopology) {\n        return;\n    }\n\n    this._checkedTopology = true;\n    if (!this.viewer.model.is3d()) {\n        tool && tool.setNoTopology();\n        return;\n    }\n\n    if (this.viewer.modelHasTopology()){\n        tool && tool.setTopologyAvailable();\n        return;\n    }\n\n    // Fetch topology from backend.\n    tool && tool.setFetchingTopology();\n    this.viewer.model.fetchTopology()\n    .then(function(topoData){\n        tool && tool.setTopologyAvailable();\n    })\n    .catch(function(err){\n        avp.logger.log(err); // No topology\n        tool && tool.setNoTopology();\n    });\n};\n\n/**\n * Destroy measure button in toolbar.\n * @private\n*/\nMeasureExtension.prototype.destroyUI = function()\n{\n    var viewer = this.viewer;\n\n    if (this.measureToolbar) {\n         this.measureToolbar.destroy();\n         this.measureToolbar = null;\n    }\n\n    if (this.measurementToolbarButton) {\n        this.measurementToolbarButton.removeFromParent();\n        this.measurementToolbarButton = null;\n    }\n\n    viewer.getHotkeyManager().popHotkeys(this.escapeHotkeyId);\n};\n\nMeasureExtension.prototype.setUnits = function(units) {\n    this.measureTool.setUnits(units);\n};\n\nMeasureExtension.prototype.getUnits = function() {\n    return this.measureTool.getUnits();\n};\n\nMeasureExtension.prototype.setPrecision = function(precision) {\n    this.measureTool.setPrecision(precision);\n};\n\nMeasureExtension.prototype.getPrecision = function() {\n    return this.measureTool.getPrecision();\n};\n\nMeasureExtension.prototype.calibrate = function(requestedUnits, requestedSize) {\n    this.calibrationTool.calibrate(requestedUnits, requestedSize);\n};\n\nMeasureExtension.prototype.calibrateByScale = function(requestedUnits, requestedScale) {\n    this.calibrationTool.calibrateByScale(requestedUnits, requestedScale);\n};\n\nMeasureExtension.prototype.isCalibrationValid = function(requestedUnits, requestedSize) { \n    return this.calibrationTool.isCalibrationValid(requestedUnits, requestedSize); \n};\n\nMeasureExtension.prototype.getCalibrationFactor = function() {\n    return this.calibrationTool.getCalibrationFactor();\n};\n\nMeasureExtension.prototype.showAddCalibrationLabel = function() {\n    this.calibrationTool.showAddCalibrationLabel();\n};\n\n/**\n * Deletes the selected measurement.\n * \n * @alias Autodesk.Viewing.Extensions.MeasureExtension#deleteCurrentMeasurement\n */\nMeasureExtension.prototype.deleteCurrentMeasurement = function() {\n    this.measureTool.deleteCurrentMeasurement();\n};\n\nMeasureExtension.prototype.selectMeasurementById = function(id) {\n    this.measureTool.selectMeasurementById(id);\n};\n\n/**\n * Enable measuring on non snapped locations.\n * @alias Autodesk.Viewing.Extensions.MeasureExtension#setFreeMeasureMode\n * @param {Boolean} allow - true to allow measuring on non snapped locations, otherwise false;\n */\nMeasureExtension.prototype.setFreeMeasureMode = function(allow) {\n    this.snapper.setSnapToPixel(allow);\n};\n\nav.theExtensionManager.registerExtension('Autodesk.Measure', MeasureExtension);\n\n\n"],"sourceRoot":""}